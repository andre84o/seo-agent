{"version":3,"sources":["../lib/utils.ts","../components/ui/card.tsx","../components/ui/button.tsx","../components/ui/badge.tsx","../components/ui/skeleton.tsx","../components/dashboard/Dashboard.tsx","../components/ui/input.tsx","../components/ui/tabs.tsx","../components/dashboard/AIAnalysis.tsx","../components/dashboard/ExportData.tsx","../components/ui/alert.tsx","../components/dashboard/RecentRuns.tsx","../components/ui/label.tsx","../components/dashboard/RunAgent.tsx","../components/ui/table.tsx","../components/dashboard/ScoreOverview.tsx","../components/dashboard/SEOTasks.tsx","../components/ui/separator.tsx","../components/dashboard/Settings.tsx","../components/ui/scroll-area.tsx","../components/dashboard/Sidebar.tsx","../components/ui/select.tsx","../components/dashboard/SuggestionsList.tsx","../components/ui/textarea.tsx","../components/dashboard/TextSuggestions.tsx","../components/ui/dialog.tsx","../components/ui/progress.tsx","../lib/db/supabase.ts","../lib/db/operations.ts","../lib/ai/openai-client.ts","../lib/mcp/fetch-url.ts","../lib/mcp/read-sitemap.ts","../lib/mcp/psi-audit.ts","../lib/mcp/gsc-top-queries.ts","../lib/seo/on-page-analysis.ts","../lib/seo/scoring.ts","../lib/agent/core.ts","../lib/analytics/google-analytics.ts","../lib/seo/content-optimizer.ts","../lib/fetchserp/client.ts"],"names":["twMerge","clsx","jsx","cva","Slot","useState","useEffect","jsxs","Activity","TrendingUp","Fragment","CheckCircle2","AlertTriangle","Sparkles","Clock","TabsPrimitive","Download","FileText","Lightbulb","PlayCircle","XCircle","Icon","History","LabelPrimitive","Loader2","AlertCircle","BarChart3","ResponsiveContainer","PieChart","Pie","Cell","Tooltip","BarChart","CartesianGrid","XAxis","YAxis","Bar","ExternalLink","SeparatorPrimitive","SettingsIcon","CheckCircle","EyeOff","Eye","Save","Key","Plus","Trash2","LinkIcon","React","ScrollAreaPrimitive","LayoutDashboard","ListTodo","Settings","SelectPrimitive","ChevronDownIcon","CheckIcon","ChevronUpIcon","TrendingDown","Play","X","Hash","Edit","Check","Copy","DialogPrimitive","XIcon","ProgressPrimitive","createClient","OpenAI","axios","XMLParser","cheerio","google","cheerio2"],"mappings":"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","file":"index.js","sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Card({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn(\"leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn(\"px-6\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50\",\n        secondary:\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost:\n          \"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2 has-[>svg]:px-3\",\n        sm: \"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5\",\n        lg: \"h-10 rounded-md px-6 has-[>svg]:px-4\",\n        icon: \"size-9\",\n        \"icon-sm\": \"size-8\",\n        \"icon-lg\": \"size-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nfunction Button({\n  className,\n  variant,\n  size,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"button\"> &\n  VariantProps<typeof buttonVariants> & {\n    asChild?: boolean\n  }) {\n  const Comp = asChild ? Slot : \"button\"\n\n  return (\n    <Comp\n      data-slot=\"button\"\n      className={cn(buttonVariants({ variant, size, className }))}\n      {...props}\n    />\n  )\n}\n\nexport { Button, buttonVariants }\n","import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center justify-center rounded-full border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90\",\n        destructive:\n          \"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60\",\n        outline:\n          \"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  asChild = false,\n  ...props\n}: React.ComponentProps<\"span\"> &\n  VariantProps<typeof badgeVariants> & { asChild?: boolean }) {\n  const Comp = asChild ? Slot : \"span\"\n\n  return (\n    <Comp\n      data-slot=\"badge\"\n      className={cn(badgeVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nexport { Badge, badgeVariants }\n","import { cn } from \"@/lib/utils\"\n\nfunction Skeleton({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"skeleton\"\n      className={cn(\"bg-accent animate-pulse rounded-md\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Skeleton }\n","'use client';\n\nimport { useState, useEffect } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport {\n  TrendingUp,\n  TrendingDown,\n  Activity,\n  CheckCircle2,\n  AlertTriangle,\n  Clock,\n  Sparkles\n} from 'lucide-react';\nimport { Skeleton } from '@/components/ui/skeleton';\n\ninterface DashboardStats {\n  totalPages: number;\n  avgScore: number;\n  scoreChange: number;\n  flaggedIssues: number;\n  activeTasks: number;\n  completedTasks: number;\n  pendingSuggestions: number;\n  lastRun?: string;\n}\n\nexport function Dashboard({ refreshKey }: { refreshKey: number }) {\n  const [stats, setStats] = useState<DashboardStats | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchDashboardStats();\n  }, [refreshKey]);\n\n  const fetchDashboardStats = async () => {\n    setLoading(true);\n    try {\n      // Fetch multiple endpoints\n      const [pagesRes, tasksRes, suggestionsRes, runsRes] = await Promise.all([\n        fetch('/api/agent/data?type=latest'),\n        fetch('/api/tasks?thisWeek=true'),\n        fetch('/api/agent/suggestions'),\n        fetch('/api/agent/data?type=runs&limit=1'),\n      ]);\n\n      const pages = await pagesRes.json();\n      const tasks = await tasksRes.json();\n      const suggestions = await suggestionsRes.json();\n      const runs = await runsRes.json();\n\n      // Calculate stats\n      const totalPages = pages.data?.length || 0;\n      const avgScore = totalPages > 0\n        ? pages.data.reduce((sum: number, p: any) => sum + p.score, 0) / totalPages\n        : 0;\n\n      const flaggedIssues = pages.data?.filter(\n        (p: any) => p.score < 50 || (p.lcp && p.lcp > 2.5) || (p.cls && p.cls > 0.1)\n      ).length || 0;\n\n      const activeTasks = tasks.tasks?.filter((t: any) => t.status === 'todo' || t.status === 'in_progress').length || 0;\n      const completedTasks = tasks.tasks?.filter((t: any) => t.status === 'done').length || 0;\n\n      const pendingSuggestions = suggestions.suggestions?.filter((s: any) => s.status === 'pending').length || 0;\n\n      const lastRun = runs.data?.[0]?.started_at;\n\n      setStats({\n        totalPages,\n        avgScore: Math.round(avgScore),\n        scoreChange: 0, // TODO: Calculate from historical data\n        flaggedIssues,\n        activeTasks,\n        completedTasks,\n        pendingSuggestions,\n        lastRun,\n      });\n    } catch (error) {\n      console.error('Failed to fetch dashboard stats:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"space-y-6\">\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\n          {[...Array(4)].map((_, i) => (\n            <Skeleton key={i} className=\"h-32\" />\n          ))}\n        </div>\n        <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-7\">\n          <Skeleton className=\"h-80 col-span-4\" />\n          <Skeleton className=\"h-80 col-span-3\" />\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header Stats */}\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-4\">\n        <Card className=\"hover:shadow-lg transition-shadow\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Total Pages</CardTitle>\n            <Activity className=\"h-4 w-4 text-blue-600\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{stats?.totalPages || 0}</div>\n            <p className=\"text-xs text-muted-foreground\">\n              Monitored URLs\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"hover:shadow-lg transition-shadow\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Average Score</CardTitle>\n            <TrendingUp className=\"h-4 w-4 text-green-600\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{stats?.avgScore || 0}</div>\n            <div className=\"flex items-center text-xs text-muted-foreground\">\n              {stats?.scoreChange && stats.scoreChange > 0 ? (\n                <>\n                  <TrendingUp className=\"h-3 w-3 mr-1 text-green-600\" />\n                  <span className=\"text-green-600\">+{stats.scoreChange}%</span>\n                </>\n              ) : (\n                <span>vs last week</span>\n              )}\n            </div>\n          </CardContent>\n        </Card>\n\n        <Card className=\"hover:shadow-lg transition-shadow\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Active Tasks</CardTitle>\n            <CheckCircle2 className=\"h-4 w-4 text-orange-600\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold\">{stats?.activeTasks || 0}</div>\n            <p className=\"text-xs text-muted-foreground\">\n              {stats?.completedTasks || 0} completed\n            </p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"hover:shadow-lg transition-shadow\">\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n            <CardTitle className=\"text-sm font-medium\">Flagged Issues</CardTitle>\n            <AlertTriangle className=\"h-4 w-4 text-red-600\" />\n          </CardHeader>\n          <CardContent>\n            <div className=\"text-2xl font-bold text-red-600\">{stats?.flaggedIssues || 0}</div>\n            <p className=\"text-xs text-muted-foreground\">\n              Needs attention\n            </p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Quick Actions */}\n      <div className=\"grid gap-4 md:grid-cols-2 lg:grid-cols-3\">\n        <Card className=\"border-dashed hover:border-solid hover:shadow-md transition-all\">\n          <CardHeader>\n            <CardTitle className=\"text-base flex items-center gap-2\">\n              <Sparkles className=\"h-5 w-5 text-purple-600\" />\n              AI Suggestions\n            </CardTitle>\n            <CardDescription>\n              {stats?.pendingSuggestions || 0} pending suggestions\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <Button className=\"w-full\" variant=\"outline\">\n              View All Suggestions\n            </Button>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-dashed hover:border-solid hover:shadow-md transition-all\">\n          <CardHeader>\n            <CardTitle className=\"text-base flex items-center gap-2\">\n              <Clock className=\"h-5 w-5 text-blue-600\" />\n              Latest Run\n            </CardTitle>\n            <CardDescription>\n              {stats?.lastRun\n                ? new Date(stats.lastRun).toLocaleDateString('sv-SE', {\n                    year: 'numeric',\n                    month: 'short',\n                    day: 'numeric',\n                    hour: '2-digit',\n                    minute: '2-digit',\n                  })\n                : 'No runs yet'}\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <Button className=\"w-full\" variant=\"outline\">\n              View History\n            </Button>\n          </CardContent>\n        </Card>\n\n        <Card className=\"border-dashed hover:border-solid hover:shadow-md transition-all\">\n          <CardHeader>\n            <CardTitle className=\"text-base flex items-center gap-2\">\n              <AlertTriangle className=\"h-5 w-5 text-orange-600\" />\n              Critical Pages\n            </CardTitle>\n            <CardDescription>\n              {stats?.flaggedIssues || 0} pages need review\n            </CardDescription>\n          </CardHeader>\n          <CardContent>\n            <Button className=\"w-full\" variant=\"outline\">\n              Review Issues\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Recent Activity */}\n      <Card>\n        <CardHeader>\n          <CardTitle>Quick Overview</CardTitle>\n          <CardDescription>\n            Your SEO performance at a glance\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            <div className=\"flex items-center\">\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium\">Pages Monitored</p>\n                <p className=\"text-xs text-muted-foreground\">Total URLs tracked</p>\n              </div>\n              <Badge variant=\"secondary\" className=\"text-lg\">\n                {stats?.totalPages || 0}\n              </Badge>\n            </div>\n            <div className=\"flex items-center\">\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium\">Average Performance</p>\n                <p className=\"text-xs text-muted-foreground\">Overall score</p>\n              </div>\n              <Badge\n                variant={stats && stats.avgScore >= 80 ? \"default\" : stats && stats.avgScore >= 50 ? \"secondary\" : \"destructive\"}\n                className=\"text-lg\"\n              >\n                {stats?.avgScore || 0}/100\n              </Badge>\n            </div>\n            <div className=\"flex items-center\">\n              <div className=\"flex-1\">\n                <p className=\"text-sm font-medium\">Tasks Progress</p>\n                <p className=\"text-xs text-muted-foreground\">Completed vs Total</p>\n              </div>\n              <Badge variant=\"outline\" className=\"text-lg\">\n                {stats?.completedTasks || 0}/{(stats?.activeTasks || 0) + (stats?.completedTasks || 0)}\n              </Badge>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Tabs({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Root>) {\n  return (\n    <TabsPrimitive.Root\n      data-slot=\"tabs\"\n      className={cn(\"flex flex-col gap-2\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TabsList({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.List>) {\n  return (\n    <TabsPrimitive.List\n      data-slot=\"tabs-list\"\n      className={cn(\n        \"bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsTrigger({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Trigger>) {\n  return (\n    <TabsPrimitive.Trigger\n      data-slot=\"tabs-trigger\"\n      className={cn(\n        \"data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TabsContent({\n  className,\n  ...props\n}: React.ComponentProps<typeof TabsPrimitive.Content>) {\n  return (\n    <TabsPrimitive.Content\n      data-slot=\"tabs-content\"\n      className={cn(\"flex-1 outline-none\", className)}\n      {...props}\n    />\n  )\n}\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n","// AI SEO Analysis Component\r\n// Visar AI-genererade insights och lter anvndaren kra analys per sida\r\n\r\n'use client';\r\n\r\nimport { useState } from 'react';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { Separator } from '@/components/ui/separator';\r\n\r\ninterface AISuggestion {\r\n  type: string;\r\n  priority: 'high' | 'medium' | 'low';\r\n  category: string;\r\n  suggestion: string;\r\n  reasoning: string;\r\n  expectedImpact: string;\r\n  implementation?: string;\r\n}\r\n\r\ninterface AIAnalysis {\r\n  summary: string;\r\n  score: number;\r\n  suggestions: AISuggestion[];\r\n  titleSuggestions: string[];\r\n  metaDescriptionSuggestions: string[];\r\n  faqSuggestions?: Array<{ question: string; answer: string }>;\r\n  contentOutline?: string[];\r\n  keywords: {\r\n    primary: string[];\r\n    secondary: string[];\r\n    longTail: string[];\r\n  };\r\n}\r\n\r\nexport function AIAnalysis() {\r\n  const [url, setUrl] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [analysis, setAnalysis] = useState<AIAnalysis | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [createTasks, setCreateTasks] = useState(true);\r\n\r\n  const runAnalysis = async () => {\r\n    if (!url) {\r\n      setError('Ange en URL');\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n    setAnalysis(null);\r\n\r\n    try {\r\n      const response = await fetch('/api/seo/analyze-page', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ url, createTasks }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (!data.success) {\r\n        throw new Error(data.error || 'Analys misslyckades');\r\n      }\r\n\r\n      setAnalysis(data.analysis);\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'Ett fel uppstod');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getPriorityColor = (priority: string) => {\r\n    switch (priority) {\r\n      case 'high':\r\n        return 'destructive';\r\n      case 'medium':\r\n        return 'default';\r\n      case 'low':\r\n        return 'secondary';\r\n      default:\r\n        return 'default';\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <Card className=\"border-dashed\">\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <span className=\"text-2xl\"></span> AI SEO Analysis\r\n          </CardTitle>\r\n          <CardDescription>\r\n            Get AI-powered insights and recommendations for any page\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-4\">\r\n          {/* Input */}\r\n          <div className=\"flex gap-2\">\r\n            <Input\r\n              type=\"url\"\r\n              placeholder=\"https://example.com/page\"\r\n              value={url}\r\n              onChange={(e) => setUrl(e.target.value)}\r\n              disabled={loading}\r\n              className=\"flex-1\"\r\n            />\r\n            <Button onClick={runAnalysis} disabled={loading || !url} className=\"px-8\">\r\n              {loading ? 'Analyzing...' : 'Analyze'}\r\n            </Button>\r\n          </div>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <input\r\n            type=\"checkbox\"\r\n            id=\"createTasks\"\r\n            checked={createTasks}\r\n            onChange={(e) => setCreateTasks(e.target.checked)}\r\n            className=\"rounded border-gray-300\"\r\n          />\r\n          <label htmlFor=\"createTasks\" className=\"text-sm text-gray-600\">\r\n            Skapa automatiskt tasks frn AI-frslag\r\n          </label>\r\n        </div>\r\n\r\n        {error && (\r\n          <Card className=\"border-destructive bg-destructive/10\">\r\n            <CardContent className=\"pt-4\">\r\n              <p className=\"text-destructive\">{error}</p>\r\n            </CardContent>\r\n          </Card>\r\n        )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Results */}\r\n      {analysis && (\r\n        <div className=\"space-y-6\">\r\n          {/* Score & Summary */}\r\n          <Card className=\"border-primary/20 bg-gradient-to-br from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20\">\r\n            <CardContent className=\"pt-6\">\r\n              <div className=\"flex items-start gap-6\">\r\n                <div className=\"text-center p-6 bg-white dark:bg-slate-900 rounded-lg shadow-sm\">\r\n                  <div\r\n                    className={`text-5xl font-bold ${\r\n                      analysis.score >= 80\r\n                        ? 'text-green-600'\r\n                        : analysis.score >= 60\r\n                        ? 'text-yellow-600'\r\n                        : 'text-red-600'\r\n                    }`}\r\n                  >\r\n                    {analysis.score}\r\n                  </div>\r\n                  <div className=\"text-sm text-muted-foreground mt-2\">AI Score</div>\r\n                </div>\r\n                <div className=\"flex-1\">\r\n                  <h3 className=\"font-semibold text-lg mb-2\">Summary</h3>\r\n                  <p className=\"text-muted-foreground leading-relaxed\">{analysis.summary}</p>\r\n                </div>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n\r\n          {/* Tabs for detailed analysis */}\r\n          <Card>\r\n\r\n            <CardHeader>\r\n              <CardTitle className=\"text-lg\">Detailed Analysis</CardTitle>\r\n              <CardDescription>Explore AI-generated recommendations and insights</CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <Tabs defaultValue=\"suggestions\">\r\n              <TabsList>\r\n                <TabsTrigger value=\"suggestions\">\r\n                  Frslag ({analysis.suggestions.length})\r\n                </TabsTrigger>\r\n                <TabsTrigger value=\"titles\">Title-frslag</TabsTrigger>\r\n                <TabsTrigger value=\"meta\">Meta Description</TabsTrigger>\r\n                <TabsTrigger value=\"keywords\">Skord</TabsTrigger>\r\n                {analysis.faqSuggestions && (\r\n                  <TabsTrigger value=\"faq\">FAQ</TabsTrigger>\r\n                )}\r\n              </TabsList>\r\n\r\n              {/* Suggestions */}\r\n              <TabsContent value=\"suggestions\" className=\"space-y-3\">\r\n                {analysis.suggestions.map((suggestion, idx) => (\r\n                  <Card key={idx}>\r\n                    <CardContent className=\"pt-4\">\r\n                      <div className=\"flex items-start justify-between mb-2\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Badge variant={getPriorityColor(suggestion.priority)}>\r\n                            {suggestion.priority}\r\n                          </Badge>\r\n                          <Badge variant=\"outline\">{suggestion.category}</Badge>\r\n                        </div>\r\n                      </div>\r\n                      <h4 className=\"font-semibold mb-2\">{suggestion.suggestion}</h4>\r\n                      <p className=\"text-sm text-gray-600 mb-2\">{suggestion.reasoning}</p>\r\n                      <div className=\"text-sm\">\r\n                        <span className=\"font-medium\">Frvntad effekt:</span>{' '}\r\n                        <span className=\"text-green-600\">{suggestion.expectedImpact}</span>\r\n                      </div>\r\n                      {suggestion.implementation && (\r\n                        <details className=\"mt-2\">\r\n                          <summary className=\"text-sm font-medium cursor-pointer text-blue-600\">\r\n                            Implementeringsdetaljer\r\n                          </summary>\r\n                          <p className=\"text-sm text-gray-600 mt-1 pl-4\">\r\n                            {suggestion.implementation}\r\n                          </p>\r\n                        </details>\r\n                      )}\r\n                    </CardContent>\r\n                  </Card>\r\n                ))}\r\n              </TabsContent>\r\n\r\n              {/* Title Suggestions */}\r\n              <TabsContent value=\"titles\" className=\"space-y-2\">\r\n                {analysis.titleSuggestions.map((title, idx) => (\r\n                  <div\r\n                    key={idx}\r\n                    className=\"p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer\"\r\n                  >\r\n                    <div className=\"font-medium\">{title}</div>\r\n                    <div className=\"text-xs text-gray-500 mt-1\">\r\n                      Lngd: {title.length} tecken\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </TabsContent>\r\n\r\n              {/* Meta Description Suggestions */}\r\n              <TabsContent value=\"meta\" className=\"space-y-2\">\r\n                {analysis.metaDescriptionSuggestions.map((meta, idx) => (\r\n                  <div\r\n                    key={idx}\r\n                    className=\"p-3 bg-gray-50 rounded-lg hover:bg-gray-100 cursor-pointer\"\r\n                  >\r\n                    <div className=\"text-sm\">{meta}</div>\r\n                    <div className=\"text-xs text-gray-500 mt-1\">\r\n                      Lngd: {meta.length} tecken\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </TabsContent>\r\n\r\n              {/* Keywords */}\r\n              <TabsContent value=\"keywords\" className=\"space-y-4\">\r\n                <div>\r\n                  <h4 className=\"font-semibold mb-2\">Primra skord</h4>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {analysis.keywords.primary.map((kw, idx) => (\r\n                      <Badge key={idx} variant=\"default\">\r\n                        {kw}\r\n                      </Badge>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"font-semibold mb-2\">Sekundra skord</h4>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {analysis.keywords.secondary.map((kw, idx) => (\r\n                      <Badge key={idx} variant=\"secondary\">\r\n                        {kw}\r\n                      </Badge>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <h4 className=\"font-semibold mb-2\">Long-tail varianter</h4>\r\n                  <div className=\"flex flex-wrap gap-2\">\r\n                    {analysis.keywords.longTail.map((kw, idx) => (\r\n                      <Badge key={idx} variant=\"outline\">\r\n                        {kw}\r\n                      </Badge>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              </TabsContent>\r\n\r\n              {/* FAQ */}\r\n              {analysis.faqSuggestions && (\r\n                <TabsContent value=\"faq\" className=\"space-y-3\">\r\n                  {analysis.faqSuggestions.map((faq, idx) => (\r\n                    <Card key={idx}>\r\n                      <CardContent className=\"pt-4\">\r\n                        <h4 className=\"font-semibold mb-2\">{faq.question}</h4>\r\n                        <p className=\"text-sm text-gray-600\">{faq.answer}</p>\r\n                      </CardContent>\r\n                    </Card>\r\n                  ))}\r\n                </TabsContent>\r\n              )}\r\n              </Tabs>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","'use client';\n\n// Komponent fr att exportera data som CSV\n// Tillter export av audits och suggestions\n\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Download, FileText, Lightbulb } from 'lucide-react';\n\ninterface ExportDataProps {\n  compact?: boolean;\n}\n\nexport default function ExportData({ compact = false }: ExportDataProps) {\n  const handleExport = (type: 'audits' | 'suggestions') => {\n    const url = `/api/agent/export?type=${type}`;\n    window.open(url, '_blank');\n  };\n\n  if (compact) {\n    return (\n      <Button\n        onClick={() => handleExport('audits')}\n        variant=\"outline\"\n        size=\"sm\"\n      >\n        <Download className=\"mr-2 h-3 w-3\" />\n        Export\n      </Button>\n    );\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <Download className=\"h-5 w-5\" />\n          Export Data\n        </CardTitle>\n        <CardDescription>\n          Export latest audit results and suggestions as CSV files for further analysis\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        <div className=\"flex flex-wrap gap-3\">\n          <Button\n            onClick={() => handleExport('audits')}\n            variant=\"default\"\n            className=\"flex items-center gap-2\"\n          >\n            <FileText className=\"h-4 w-4\" />\n            Export Audits CSV\n          </Button>\n\n          <Button\n            onClick={() => handleExport('suggestions')}\n            variant=\"secondary\"\n            className=\"flex items-center gap-2\"\n          >\n            <Lightbulb className=\"h-4 w-4\" />\n            Export Suggestions CSV\n          </Button>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst alertVariants = cva(\n  \"relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-card text-card-foreground\",\n        destructive:\n          \"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Alert({\n  className,\n  variant,\n  ...props\n}: React.ComponentProps<\"div\"> & VariantProps<typeof alertVariants>) {\n  return (\n    <div\n      data-slot=\"alert\"\n      role=\"alert\"\n      className={cn(alertVariants({ variant }), className)}\n      {...props}\n    />\n  )\n}\n\nfunction AlertTitle({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-title\"\n      className={cn(\n        \"col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction AlertDescription({\n  className,\n  ...props\n}: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"alert-description\"\n      className={cn(\n        \"text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Alert, AlertTitle, AlertDescription }\n","'use client';\n\n// Komponent fr att visa senaste agent-krningar\n// Visar historik med stats och status\n\nimport { useState, useEffect } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { History, CheckCircle2, XCircle, Clock, PlayCircle } from 'lucide-react';\n\ninterface Run {\n  run_id: number;\n  started_at: string;\n  finished_at: string | null;\n  pages_checked: number;\n  avg_score: number | null;\n  status: string;\n  error_message: string | null;\n}\n\nexport default function RecentRuns() {\n  const [runs, setRuns] = useState<Run[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchRuns();\n  }, []);\n\n  const fetchRuns = async () => {\n    try {\n      const response = await fetch('/api/agent/data?type=runs&limit=20');\n      const data = await response.json();\n\n      if (data.success) {\n        setRuns(data.data);\n      }\n    } catch (error) {\n      console.error('Error fetching runs:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const getStatusBadge = (status: string) => {\n    const variants = {\n      running: { variant: 'default' as const, icon: PlayCircle, label: 'RUNNING', className: '' },\n      completed: { variant: 'default' as const, icon: CheckCircle2, label: 'COMPLETED', className: 'bg-green-600 hover:bg-green-700' },\n      failed: { variant: 'destructive' as const, icon: XCircle, label: 'FAILED', className: '' },\n    };\n\n    const config = variants[status as keyof typeof variants] || {\n      variant: 'outline' as const,\n      icon: Clock,\n      label: status.toUpperCase(),\n      className: ''\n    };\n\n    const Icon = config.icon;\n\n    return (\n      <Badge variant={config.variant} className={config.className}>\n        <Icon className=\"h-3 w-3 mr-1\" />\n        {config.label}\n      </Badge>\n    );\n  };\n\n  const calculateDuration = (run: Run) => {\n    if (!run.finished_at) return 'Running...';\n\n    const start = new Date(run.started_at).getTime();\n    const end = new Date(run.finished_at).getTime();\n    const durationSeconds = (end - start) / 1000;\n\n    if (durationSeconds < 60) {\n      return `${durationSeconds.toFixed(0)}s`;\n    }\n\n    const minutes = Math.floor(durationSeconds / 60);\n    const seconds = Math.floor(durationSeconds % 60);\n    return `${minutes}m ${seconds}s`;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"space-y-4\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <Skeleton className=\"h-24\" />\n          <Skeleton className=\"h-24\" />\n          <Skeleton className=\"h-24\" />\n        </div>\n        <Skeleton className=\"h-64\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardDescription>Total Runs</CardDescription>\n            <CardTitle className=\"text-4xl flex items-center gap-2\">\n              <History className=\"h-8 w-8 text-blue-600\" />\n              {runs.length}\n            </CardTitle>\n          </CardHeader>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardDescription>Completed</CardDescription>\n            <CardTitle className=\"text-4xl flex items-center gap-2\">\n              <CheckCircle2 className=\"h-8 w-8 text-green-600\" />\n              {runs.filter(r => r.status === 'completed').length}\n            </CardTitle>\n          </CardHeader>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardDescription>Failed</CardDescription>\n            <CardTitle className=\"text-4xl flex items-center gap-2\">\n              <XCircle className=\"h-8 w-8 text-red-600\" />\n              {runs.filter(r => r.status === 'failed').length}\n            </CardTitle>\n          </CardHeader>\n        </Card>\n      </div>\n\n      {/* Runs List */}\n      <div className=\"space-y-3\">\n        {runs.length === 0 ? (\n          <Card>\n            <CardContent className=\"text-center py-12 text-muted-foreground\">\n              No runs yet. Click \"Run Agent\" to start your first audit.\n            </CardContent>\n          </Card>\n        ) : (\n          runs.map((run) => (\n            <Card key={run.run_id}>\n              <CardHeader>\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center gap-3\">\n                    <span className=\"text-sm font-mono text-muted-foreground\">\n                      Run #{run.run_id}\n                    </span>\n                    {getStatusBadge(run.status)}\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent>\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm\">\n                  <div>\n                    <p className=\"text-muted-foreground\">Started</p>\n                    <p className=\"font-medium\">\n                      {new Date(run.started_at).toLocaleDateString('sv-SE', { year: 'numeric', month: '2-digit', day: '2-digit' }).replace(/-/g, '/')} {new Date(run.started_at).toLocaleTimeString('sv-SE')}\n                    </p>\n                  </div>\n\n                  <div>\n                    <p className=\"text-muted-foreground\">Duration</p>\n                    <p className=\"font-medium\">\n                      {calculateDuration(run)}\n                    </p>\n                  </div>\n\n                  <div>\n                    <p className=\"text-muted-foreground\">Pages Checked</p>\n                    <p className=\"font-medium\">\n                      {run.pages_checked}\n                    </p>\n                  </div>\n\n                  <div>\n                    <p className=\"text-muted-foreground\">Avg Score</p>\n                    <p className=\"font-medium\">\n                      {run.avg_score ? run.avg_score.toFixed(1) : 'N/A'}\n                    </p>\n                  </div>\n                </div>\n\n                {run.error_message && (\n                  <Alert variant=\"destructive\" className=\"mt-4\">\n                    <XCircle className=\"h-4 w-4\" />\n                    <AlertDescription>\n                      {run.error_message}\n                    </AlertDescription>\n                  </Alert>\n                )}\n              </CardContent>\n            </Card>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n","'use client';\n\n// Komponent fr att kra SEO-agenten manuellt\n// Tillter anvndaren att starta en audit-krning\n\nimport { useState, useEffect } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Alert, AlertDescription, AlertTitle } from '@/components/ui/alert';\nimport { Loader2, PlayCircle, CheckCircle2, AlertCircle } from 'lucide-react';\n\ninterface RunAgentProps {\n  onRunComplete: () => void;\n  compact?: boolean;\n}\n\nexport default function RunAgent({ onRunComplete, compact = false }: RunAgentProps) {\n  const [siteUrl, setSiteUrl] = useState('');\n  const [sitemapUrl, setSitemapUrl] = useState('');\n  const [maxPages, setMaxPages] = useState(20);\n  const [isRunning, setIsRunning] = useState(false);\n  const [result, setResult] = useState<any>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [loadingSettings, setLoadingSettings] = useState(true);\n\n  // Hmta sparade instllningar vid mount\n  useEffect(() => {\n    const fetchSettings = async () => {\n      try {\n        const response = await fetch('/api/settings');\n        const data = await response.json();\n\n        if (data.success && data.settings) {\n          data.settings.forEach((setting: { setting_key: string; setting_value: string | null }) => {\n            if (setting.setting_key === 'site_url' && setting.setting_value) {\n              setSiteUrl(setting.setting_value);\n            }\n            if (setting.setting_key === 'sitemap_url' && setting.setting_value) {\n              setSitemapUrl(setting.setting_value);\n            }\n            if (setting.setting_key === 'max_pages_per_run' && setting.setting_value) {\n              setMaxPages(parseInt(setting.setting_value));\n            }\n          });\n        }\n      } catch (err) {\n        console.error('Failed to fetch settings:', err);\n      } finally {\n        setLoadingSettings(false);\n      }\n    };\n\n    fetchSettings();\n  }, []);\n\n  const handleRun = async () => {\n    if (!siteUrl) {\n      setError('Please enter a site URL');\n      return;\n    }\n\n    setIsRunning(true);\n    setError(null);\n    setResult(null);\n\n    try {\n      const response = await fetch('/api/agent/run', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          siteUrl,\n          sitemapUrl: sitemapUrl || undefined,\n          maxPages,\n        }),\n      });\n\n      const data = await response.json();\n\n      if (!response.ok || !data.success) {\n        throw new Error(data.error || 'Failed to run agent');\n      }\n\n      setResult(data);\n      onRunComplete();\n\n    } catch (err) {\n      setError(err instanceof Error ? err.message : 'Unknown error');\n    } finally {\n      setIsRunning(false);\n    }\n  };\n\n  if (compact) {\n    return (\n      <Button\n        onClick={() => {\n          // For compact mode, use last known values or defaults\n          if (siteUrl || window.confirm('No site URL configured. Set one up?')) {\n            handleRun();\n          }\n        }}\n        disabled={isRunning}\n        variant=\"default\"\n        size=\"sm\"\n      >\n        {isRunning ? (\n          <>\n            <Loader2 className=\"mr-2 h-3 w-3 animate-spin\" />\n            Running...\n          </>\n        ) : (\n          <>\n            <PlayCircle className=\"mr-2 h-3 w-3\" />\n            Run Agent\n          </>\n        )}\n      </Button>\n    );\n  }\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"flex items-center gap-2\">\n          <PlayCircle className=\"h-6 w-6\" />\n          Run SEO Agent\n        </CardTitle>\n        <CardDescription>\n          Start a manual SEO audit of your website\n        </CardDescription>\n      </CardHeader>\n      <CardContent>\n        <div className=\"space-y-4\">\n          {/* Site URL */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"site-url\">Site URL *</Label>\n            <Input\n              id=\"site-url\"\n              type=\"url\"\n              value={siteUrl}\n              onChange={(e) => setSiteUrl(e.target.value)}\n              placeholder=\"https://example.com\"\n              disabled={isRunning}\n            />\n          </div>\n\n          {/* Sitemap URL (optional) */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"sitemap-url\">Sitemap URL (optional)</Label>\n            <Input\n              id=\"sitemap-url\"\n              type=\"url\"\n              value={sitemapUrl}\n              onChange={(e) => setSitemapUrl(e.target.value)}\n              placeholder=\"https://example.com/sitemap.xml\"\n              disabled={isRunning}\n            />\n            <p className=\"text-xs text-muted-foreground\">\n              Leave empty to auto-discover from robots.txt\n            </p>\n          </div>\n\n          {/* Max Pages */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"max-pages\">Max Pages to Check</Label>\n            <Input\n              id=\"max-pages\"\n              type=\"number\"\n              value={maxPages}\n              onChange={(e) => setMaxPages(parseInt(e.target.value))}\n              min=\"1\"\n              max=\"100\"\n              disabled={isRunning}\n            />\n          </div>\n\n          {/* Run Button */}\n          <Button\n            onClick={handleRun}\n            disabled={isRunning}\n            className=\"w-full\"\n            size=\"lg\"\n          >\n            {isRunning ? (\n              <>\n                <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                Running Agent...\n              </>\n            ) : (\n              <>\n                <PlayCircle className=\"mr-2 h-4 w-4\" />\n                Run Agent\n              </>\n            )}\n          </Button>\n\n          {/* Error */}\n          {error && (\n            <Alert variant=\"destructive\">\n              <AlertCircle className=\"h-4 w-4\" />\n              <AlertTitle>Error</AlertTitle>\n              <AlertDescription>{error}</AlertDescription>\n            </Alert>\n          )}\n\n          {/* Result */}\n          {result && (\n            <Alert>\n              <CheckCircle2 className=\"h-4 w-4\" />\n              <AlertTitle>Run Completed Successfully</AlertTitle>\n              <AlertDescription>\n                <div className=\"mt-2 space-y-1 text-sm\">\n                  <p>Run ID: {result.runId}</p>\n                  <p>Pages Checked: {result.pagesChecked}</p>\n                  <p>Average Score: {result.avgScore.toFixed(1)}/100</p>\n                  <p>Duration: {result.duration.toFixed(1)}s</p>\n                  {result.flaggedPages.length > 0 && (\n                    <p className=\"text-orange-600 dark:text-orange-400\">\n                      <i className=\"bi bi-exclamation-triangle-fill me-1\"></i>{result.flaggedPages.length} pages flagged for attention\n                    </p>\n                  )}\n                </div>\n              </AlertDescription>\n            </Alert>\n          )}\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n","\"use client\"\n\nimport * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Table({ className, ...props }: React.ComponentProps<\"table\">) {\n  return (\n    <div\n      data-slot=\"table-container\"\n      className=\"relative w-full overflow-x-auto\"\n    >\n      <table\n        data-slot=\"table\"\n        className={cn(\"w-full caption-bottom text-sm\", className)}\n        {...props}\n      />\n    </div>\n  )\n}\n\nfunction TableHeader({ className, ...props }: React.ComponentProps<\"thead\">) {\n  return (\n    <thead\n      data-slot=\"table-header\"\n      className={cn(\"[&_tr]:border-b\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableBody({ className, ...props }: React.ComponentProps<\"tbody\">) {\n  return (\n    <tbody\n      data-slot=\"table-body\"\n      className={cn(\"[&_tr:last-child]:border-0\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction TableFooter({ className, ...props }: React.ComponentProps<\"tfoot\">) {\n  return (\n    <tfoot\n      data-slot=\"table-footer\"\n      className={cn(\n        \"bg-muted/50 border-t font-medium [&>tr]:last:border-b-0\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableRow({ className, ...props }: React.ComponentProps<\"tr\">) {\n  return (\n    <tr\n      data-slot=\"table-row\"\n      className={cn(\n        \"hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableHead({ className, ...props }: React.ComponentProps<\"th\">) {\n  return (\n    <th\n      data-slot=\"table-head\"\n      className={cn(\n        \"text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCell({ className, ...props }: React.ComponentProps<\"td\">) {\n  return (\n    <td\n      data-slot=\"table-cell\"\n      className={cn(\n        \"p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction TableCaption({\n  className,\n  ...props\n}: React.ComponentProps<\"caption\">) {\n  return (\n    <caption\n      data-slot=\"table-caption\"\n      className={cn(\"text-muted-foreground mt-4 text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Table,\n  TableHeader,\n  TableBody,\n  TableFooter,\n  TableHead,\n  TableRow,\n  TableCell,\n  TableCaption,\n}\n","'use client';\n\n// Enhanced Score Overview med charts och visualiseringar\n\nimport { useState, useEffect } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport {\n  BarChart,\n  Bar,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  Legend,\n  ResponsiveContainer,\n  PieChart,\n  Pie,\n  Cell,\n  Area,\n  AreaChart\n} from 'recharts';\nimport { BarChart3, AlertTriangle, CheckCircle, ExternalLink, TrendingUp, Activity } from 'lucide-react';\n\ninterface AuditData {\n  url: string;\n  score: number;\n  lcp: number | null;\n  cls: number | null;\n  inp: number | null;\n  created_at: string;\n}\n\nconst COLORS = ['#22c55e', '#eab308', '#ef4444'];\n\nexport default function ScoreOverview() {\n  const [audits, setAudits] = useState<AuditData[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [filter, setFilter] = useState<'all' | 'flagged'>('all');\n\n  useEffect(() => {\n    fetchAudits();\n  }, []);\n\n  const fetchAudits = async () => {\n    try {\n      const response = await fetch('/api/agent/data?type=latest');\n      const data = await response.json();\n\n      if (data.success) {\n        setAudits(data.data);\n      }\n    } catch (error) {\n      console.error('Error fetching audits:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Flaggade sidor\n  const flaggedAudits = audits.filter(\n    audit =>\n      audit.score < 50 ||\n      (audit.lcp && audit.lcp > 2.5) ||\n      (audit.cls && audit.cls > 0.1) ||\n      (audit.inp && audit.inp > 200)\n  );\n\n  const displayedAudits = filter === 'flagged' ? flaggedAudits : audits;\n\n  // Chart data - Score Distribution\n  const scoreDistribution = [\n    {\n      name: 'Good (80-100)',\n      count: audits.filter(a => a.score >= 80).length,\n      fill: '#22c55e'\n    },\n    {\n      name: 'Needs Improvement (50-79)',\n      count: audits.filter(a => a.score >= 50 && a.score < 80).length,\n      fill: '#eab308'\n    },\n    {\n      name: 'Poor (0-49)',\n      count: audits.filter(a => a.score < 50).length,\n      fill: '#ef4444'\n    },\n  ];\n\n  // Chart data - Top/Bottom 10 pages\n  const sortedByScore = [...audits].sort((a, b) => a.score - b.score);\n  const bottomPages = sortedByScore.slice(0, 10).map(audit => ({\n    name: new URL(audit.url).pathname.slice(0, 20) + '...',\n    score: audit.score,\n    url: audit.url,\n  }));\n\n  const topPages = sortedByScore.slice(-10).reverse().map(audit => ({\n    name: new URL(audit.url).pathname.slice(0, 20) + '...',\n    score: audit.score,\n    url: audit.url,\n  }));\n\n  // Vitals stats\n  const avgLcp = audits.filter(a => a.lcp).reduce((sum, a) => sum + (a.lcp || 0), 0) / audits.filter(a => a.lcp).length || 0;\n  const avgCls = audits.filter(a => a.cls).reduce((sum, a) => sum + (a.cls || 0), 0) / audits.filter(a => a.cls).length || 0;\n  const avgInp = audits.filter(a => a.inp).reduce((sum, a) => sum + (a.inp || 0), 0) / audits.filter(a => a.inp).length || 0;\n\n  const vitalsData = [\n    { name: 'LCP (s)', value: avgLcp.toFixed(2), threshold: 2.5, status: avgLcp <= 2.5 ? 'good' : 'poor' },\n    { name: 'CLS', value: (avgCls * 1000).toFixed(0), threshold: 0.1, status: avgCls <= 0.1 ? 'good' : 'poor' },\n    { name: 'INP (ms)', value: avgInp.toFixed(0), threshold: 200, status: avgInp <= 200 ? 'good' : 'poor' },\n  ];\n\n  // Score color\n  const getScoreColor = (score: number) => {\n    if (score >= 80) return 'text-green-600 dark:text-green-400';\n    if (score >= 50) return 'text-yellow-600 dark:text-yellow-400';\n    return 'text-red-600 dark:text-red-400';\n  };\n\n  // Vital badge\n  const getVitalBadge = (value: number | null, threshold: number, unit: string) => {\n    if (value === null) return <Badge variant=\"outline\">N/A</Badge>;\n\n    const isGood = value <= threshold;\n\n    return (\n      <Badge variant={isGood ? \"default\" : \"destructive\"} className={isGood ? \"bg-green-600 hover:bg-green-700\" : \"\"}>\n        {value.toFixed(value < 1 ? 4 : 2)}{unit}\n      </Badge>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"space-y-4\">\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n          <Skeleton className=\"h-24\" />\n          <Skeleton className=\"h-24\" />\n          <Skeleton className=\"h-24\" />\n        </div>\n        <Skeleton className=\"h-12\" />\n        <Skeleton className=\"h-64\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <Card className=\"hover:shadow-md transition-shadow\">\n          <CardHeader className=\"pb-3\">\n            <CardDescription className=\"flex items-center gap-2\">\n              <BarChart3 className=\"h-4 w-4\" />\n              Total Pages\n            </CardDescription>\n            <CardTitle className=\"text-4xl\">\n              {audits.length}\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <p className=\"text-xs text-muted-foreground\">Monitored URLs</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"hover:shadow-md transition-shadow\">\n          <CardHeader className=\"pb-3\">\n            <CardDescription className=\"flex items-center gap-2\">\n              <Activity className=\"h-4 w-4\" />\n              Average Score\n            </CardDescription>\n            <CardTitle className=\"text-4xl\">\n              {audits.length > 0\n                ? (audits.reduce((sum, a) => sum + a.score, 0) / audits.length).toFixed(1)\n                : '0'}\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <p className=\"text-xs text-muted-foreground\">Overall performance</p>\n          </CardContent>\n        </Card>\n\n        <Card className=\"hover:shadow-md transition-shadow\">\n          <CardHeader className=\"pb-3\">\n            <CardDescription className=\"flex items-center gap-2\">\n              <AlertTriangle className=\"h-4 w-4\" />\n              Flagged Issues\n            </CardDescription>\n            <CardTitle className=\"text-4xl text-orange-600\">\n              {flaggedAudits.length}\n            </CardTitle>\n          </CardHeader>\n          <CardContent>\n            <p className=\"text-xs text-muted-foreground\">Need attention</p>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Charts */}\n      <div className=\"grid gap-4 md:grid-cols-2\">\n        {/* Score Distribution */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-base\">Score Distribution</CardTitle>\n            <CardDescription>Pages grouped by performance score</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <ResponsiveContainer width=\"100%\" height={300}>\n              <PieChart>\n                <Pie\n                  data={scoreDistribution}\n                  cx=\"50%\"\n                  cy=\"50%\"\n                  labelLine={false}\n                  label={(entry: any) => `${entry.name.split(' ')[0]}: ${entry.count}`}\n                  outerRadius={80}\n                  fill=\"#8884d8\"\n                  dataKey=\"count\"\n                >\n                  {scoreDistribution.map((entry, index) => (\n                    <Cell key={`cell-${index}`} fill={entry.fill} />\n                  ))}\n                </Pie>\n                <Tooltip />\n              </PieChart>\n            </ResponsiveContainer>\n          </CardContent>\n        </Card>\n\n        {/* Core Web Vitals */}\n        <Card>\n          <CardHeader>\n            <CardTitle className=\"text-base\">Core Web Vitals</CardTitle>\n            <CardDescription>Average vital metrics across all pages</CardDescription>\n          </CardHeader>\n          <CardContent>\n            <div className=\"space-y-4 pt-4\">\n              {vitalsData.map((vital) => (\n                <div key={vital.name} className=\"space-y-2\">\n                  <div className=\"flex items-center justify-between\">\n                    <span className=\"text-sm font-medium\">{vital.name}</span>\n                    <Badge variant={vital.status === 'good' ? 'default' : 'destructive'} className={vital.status === 'good' ? 'bg-green-600' : ''}>\n                      {vital.value}\n                    </Badge>\n                  </div>\n                  <div className=\"h-2 w-full bg-muted rounded-full overflow-hidden\">\n                    <div\n                      className={`h-full transition-all ${vital.status === 'good' ? 'bg-green-600' : 'bg-red-600'}`}\n                      style={{ width: vital.status === 'good' ? '100%' : '60%' }}\n                    />\n                  </div>\n                </div>\n              ))}\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Top/Bottom Pages Chart */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-base\">Performance Comparison</CardTitle>\n          <CardDescription>Best and worst performing pages</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Tabs defaultValue=\"bottom\">\n            <TabsList className=\"grid w-full grid-cols-2\">\n              <TabsTrigger value=\"bottom\">Lowest Scores</TabsTrigger>\n              <TabsTrigger value=\"top\">Highest Scores</TabsTrigger>\n            </TabsList>\n            <TabsContent value=\"bottom\" className=\"mt-4\">\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <BarChart data={bottomPages}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"name\" angle={-45} textAnchor=\"end\" height={100} />\n                  <YAxis domain={[0, 100]} />\n                  <Tooltip />\n                  <Bar dataKey=\"score\" fill=\"#ef4444\" />\n                </BarChart>\n              </ResponsiveContainer>\n            </TabsContent>\n            <TabsContent value=\"top\" className=\"mt-4\">\n              <ResponsiveContainer width=\"100%\" height={300}>\n                <BarChart data={topPages}>\n                  <CartesianGrid strokeDasharray=\"3 3\" />\n                  <XAxis dataKey=\"name\" angle={-45} textAnchor=\"end\" height={100} />\n                  <YAxis domain={[0, 100]} />\n                  <Tooltip />\n                  <Bar dataKey=\"score\" fill=\"#22c55e\" />\n                </BarChart>\n              </ResponsiveContainer>\n            </TabsContent>\n          </Tabs>\n        </CardContent>\n      </Card>\n\n      {/* Filter */}\n      <div className=\"flex gap-2\">\n        <Button\n          onClick={() => setFilter('all')}\n          variant={filter === 'all' ? 'default' : 'outline'}\n        >\n          All Pages ({audits.length})\n        </Button>\n        <Button\n          onClick={() => setFilter('flagged')}\n          variant={filter === 'flagged' ? 'default' : 'outline'}\n        >\n          <AlertTriangle className=\"h-4 w-4 mr-2\" />\n          Flagged ({flaggedAudits.length})\n        </Button>\n      </div>\n\n      {/* Table */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"text-base\">Page Details</CardTitle>\n          <CardDescription>Detailed metrics for each page</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>URL</TableHead>\n                <TableHead className=\"text-center\">Score</TableHead>\n                <TableHead className=\"text-center\">LCP</TableHead>\n                <TableHead className=\"text-center\">CLS</TableHead>\n                <TableHead className=\"text-center\">INP</TableHead>\n                <TableHead className=\"text-center\">Checked</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {displayedAudits.length === 0 ? (\n                <TableRow>\n                  <TableCell colSpan={6} className=\"text-center py-12 text-muted-foreground\">\n                    No audits found. Run the agent to start monitoring.\n                  </TableCell>\n                </TableRow>\n              ) : (\n                displayedAudits.map((audit, index) => (\n                  <TableRow key={index} className=\"hover:bg-muted/50\">\n                    <TableCell>\n                      <a\n                        href={audit.url}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"hover:text-blue-600 hover:underline flex items-center gap-2\"\n                      >\n                        {audit.url.length > 50 ? audit.url.substring(0, 50) + '...' : audit.url}\n                        <ExternalLink className=\"h-3 w-3\" />\n                      </a>\n                    </TableCell>\n                    <TableCell className=\"text-center\">\n                      <span className={`text-2xl font-bold ${getScoreColor(audit.score)}`}>\n                        {audit.score}\n                      </span>\n                    </TableCell>\n                    <TableCell className=\"text-center\">\n                      {getVitalBadge(audit.lcp, 2.5, 's')}\n                    </TableCell>\n                    <TableCell className=\"text-center\">\n                      {getVitalBadge(audit.cls, 0.1, '')}\n                    </TableCell>\n                    <TableCell className=\"text-center\">\n                      {getVitalBadge(audit.inp, 200, 'ms')}\n                    </TableCell>\n                    <TableCell className=\"text-center text-sm text-muted-foreground\">\n                      {new Date(audit.created_at).toLocaleDateString('sv-SE', {\n                        year: 'numeric',\n                        month: '2-digit',\n                        day: '2-digit'\n                      }).replace(/-/g, '/')}\n                    </TableCell>\n                  </TableRow>\n                ))\n              )}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","// SEO Tasks Component\r\n\r\n'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\n\r\ninterface Task {\r\n  id: number;\r\n  title: string;\r\n  description?: string;\r\n  task_type?: string;\r\n  priority: 'high' | 'medium' | 'low';\r\n  status: 'todo' | 'in_progress' | 'done' | 'skipped';\r\n  expected_impact?: string;\r\n  effort_estimate?: string;\r\n  page_url?: string;\r\n  last_score?: number;\r\n  ai_generated: boolean;\r\n  created_at: string;\r\n  due_date?: string;\r\n}\r\n\r\nexport function SEOTasks() {\r\n  const [tasks, setTasks] = useState<Task[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filter, setFilter] = useState<'all' | 'todo' | 'in_progress' | 'done'>('todo');\r\n\r\n  useEffect(() => {\r\n    loadTasks();\r\n  }, []);\r\n\r\n  const loadTasks = async () => {\r\n    try {\r\n      const response = await fetch('/api/tasks?thisWeek=true');\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        setTasks(data.tasks);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to load tasks:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const updateTaskStatus = async (taskId: number, newStatus: string) => {\r\n    try {\r\n      const response = await fetch('/api/tasks', {\r\n        method: 'PATCH',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ taskId, status: newStatus }),\r\n      });\r\n\r\n      const data = await response.json();\r\n      \r\n      if (data.success) {\r\n        // Uppdatera lokal state\r\n        setTasks(tasks.map(task => \r\n          task.id === taskId ? { ...task, status: newStatus as any } : task\r\n        ));\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to update task:', error);\r\n    }\r\n  };\r\n\r\n  const getPriorityColor = (priority: string) => {\r\n    switch (priority) {\r\n      case 'high':\r\n        return 'destructive';\r\n      case 'medium':\r\n        return 'default';\r\n      case 'low':\r\n        return 'secondary';\r\n      default:\r\n        return 'default';\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'done':\r\n        return 'bg-green-100 text-green-800';\r\n      case 'in_progress':\r\n        return 'bg-blue-100 text-blue-800';\r\n      case 'todo':\r\n        return 'bg-gray-100 text-gray-800';\r\n      case 'skipped':\r\n        return 'bg-yellow-100 text-yellow-800';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const filteredTasks = filter === 'all' \r\n    ? tasks \r\n    : tasks.filter(task => task.status === filter);\r\n\r\n  const taskCounts = {\r\n    all: tasks.length,\r\n    todo: tasks.filter(t => t.status === 'todo').length,\r\n    in_progress: tasks.filter(t => t.status === 'in_progress').length,\r\n    done: tasks.filter(t => t.status === 'done').length,\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Stats Cards */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n        <Card className=\"hover:shadow-md transition-shadow\">\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"text-2xl font-bold text-gray-800 dark:text-gray-100\">{taskCounts.all}</div>\r\n            <p className=\"text-sm text-muted-foreground\">Total Tasks</p>\r\n          </CardContent>\r\n        </Card>\r\n        <Card className=\"hover:shadow-md transition-shadow border-orange-200 dark:border-orange-800\">\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"text-2xl font-bold text-orange-600\">{taskCounts.todo}</div>\r\n            <p className=\"text-sm text-muted-foreground\">To Do</p>\r\n          </CardContent>\r\n        </Card>\r\n        <Card className=\"hover:shadow-md transition-shadow border-blue-200 dark:border-blue-800\">\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"text-2xl font-bold text-blue-600\">{taskCounts.in_progress}</div>\r\n            <p className=\"text-sm text-muted-foreground\">In Progress</p>\r\n          </CardContent>\r\n        </Card>\r\n        <Card className=\"hover:shadow-md transition-shadow border-green-200 dark:border-green-800\">\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"text-2xl font-bold text-green-600\">{taskCounts.done}</div>\r\n            <p className=\"text-sm text-muted-foreground\">Completed</p>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Tasks List */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle className=\"flex items-center gap-2\">\r\n            <span className=\"text-xl\"></span> SEO Tasks\r\n          </CardTitle>\r\n          <CardDescription>\r\n            This week's prioritized tasks and improvements\r\n          </CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          {loading ? (\r\n            <div className=\"text-center py-8 text-muted-foreground\">Loading tasks...</div>\r\n          ) : (\r\n            <>\r\n              <Tabs defaultValue=\"todo\" onValueChange={(v) => setFilter(v as any)}>\r\n                <TabsList className=\"grid w-full grid-cols-4\">\r\n                  <TabsTrigger value=\"all\">All ({taskCounts.all})</TabsTrigger>\r\n                  <TabsTrigger value=\"todo\">To Do ({taskCounts.todo})</TabsTrigger>\r\n                  <TabsTrigger value=\"in_progress\">Active ({taskCounts.in_progress})</TabsTrigger>\r\n                  <TabsTrigger value=\"done\">Done ({taskCounts.done})</TabsTrigger>\r\n                </TabsList>\r\n\r\n              <div className=\"mt-6 space-y-3\">\r\n                {filteredTasks.length === 0 ? (\r\n                  <div className=\"text-center py-12 text-muted-foreground\">\r\n                    No tasks {filter !== 'all' && `with status \"${filter}\"`}\r\n                  </div>\r\n                ) : (\r\n                  filteredTasks.map((task) => (\r\n                    <Card key={task.id} className=\"hover:shadow-md hover:border-primary/50 transition-all\">\r\n                      <CardContent className=\"pt-4\">\r\n                        <div className=\"flex items-start justify-between mb-2\">\r\n                          <div className=\"flex items-center gap-2 flex-wrap\">\r\n                            <Badge variant={getPriorityColor(task.priority)}>\r\n                              {task.priority}\r\n                            </Badge>\r\n                            {task.task_type && (\r\n                              <Badge variant=\"outline\">{task.task_type}</Badge>\r\n                            )}\r\n                            {task.ai_generated && (\r\n                              <Badge variant=\"secondary\"> AI</Badge>\r\n                            )}\r\n                            <span className={`px-2 py-1 rounded-full text-xs ${getStatusColor(task.status)}`}>\r\n                              {task.status}\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n\r\n                        <h4 className=\"font-semibold mb-1\">{task.title}</h4>\r\n                        \r\n                        {task.page_url && (\r\n                          <div className=\"text-sm text-gray-600 mb-2\">\r\n                             {task.page_url}\r\n                            {task.last_score !== undefined && (\r\n                              <span className=\"ml-2\">\r\n                                (Score: {task.last_score})\r\n                              </span>\r\n                            )}\r\n                          </div>\r\n                        )}\r\n\r\n                        {task.description && (\r\n                          <p className=\"text-sm text-gray-600 mb-2\">\r\n                            {task.description}\r\n                          </p>\r\n                        )}\r\n\r\n                        {task.expected_impact && (\r\n                          <div className=\"text-sm mb-3\">\r\n                            <span className=\"font-medium\">Frvntad effekt:</span>{' '}\r\n                            <span className=\"text-green-600\">{task.expected_impact}</span>\r\n                          </div>\r\n                        )}\r\n\r\n                        <div className=\"flex gap-2 mt-3\">\r\n                          {task.status === 'todo' && (\r\n                            <Button\r\n                              size=\"sm\"\r\n                              variant=\"outline\"\r\n                              onClick={() => updateTaskStatus(task.id, 'in_progress')}\r\n                            >\r\n                              Starta\r\n                            </Button>\r\n                          )}\r\n                          {task.status === 'in_progress' && (\r\n                            <Button\r\n                              size=\"sm\"\r\n                              variant=\"default\"\r\n                              onClick={() => updateTaskStatus(task.id, 'done')}\r\n                            >\r\n                              Markera klar\r\n                            </Button>\r\n                          )}\r\n                          {task.status !== 'done' && task.status !== 'skipped' && (\r\n                            <Button\r\n                              size=\"sm\"\r\n                              variant=\"ghost\"\r\n                              onClick={() => updateTaskStatus(task.id, 'skipped')}\r\n                            >\r\n                              Hoppa ver\r\n                            </Button>\r\n                          )}\r\n                        </div>\r\n                      </CardContent>\r\n                    </Card>\r\n                  ))\r\n                )}\r\n              </div>\r\n              </Tabs>\r\n            </>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as SeparatorPrimitive from \"@radix-ui/react-separator\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Separator({\n  className,\n  orientation = \"horizontal\",\n  decorative = true,\n  ...props\n}: React.ComponentProps<typeof SeparatorPrimitive.Root>) {\n  return (\n    <SeparatorPrimitive.Root\n      data-slot=\"separator\"\n      decorative={decorative}\n      orientation={orientation}\n      className={cn(\n        \"bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Separator }\n","'use client';\n\n// Settings Component\n// Hantera applikationsinstllningar som API-nycklar och konfiguration\n\nimport { useState, useEffect } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Separator } from '@/components/ui/separator';\nimport { Badge } from '@/components/ui/badge';\nimport { Settings as SettingsIcon, Save, Eye, EyeOff, CheckCircle, AlertCircle, Plus, Trash2, Link as LinkIcon, Key } from 'lucide-react';\n\ninterface Setting {\n  id: number;\n  setting_key: string;\n  setting_value: string | null;\n  description: string;\n  is_sensitive: boolean;\n  updated_at: string;\n}\n\ninterface Keyword {\n  id: number;\n  keyword: string;\n  url: string;\n  target_density: number | null;\n  search_volume: number | null;\n  difficulty: number | null;\n  relevance_score: number | null;\n  status: string;\n  created_at: string;\n}\n\ninterface Page {\n  id: number;\n  url: string;\n  senaste_score: number | null;\n  last_seen_at: string | null;\n  updated_at: string;\n  created_at: string;\n}\n\nexport default function Settings() {\n  const [settings, setSettings] = useState<Setting[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState<string | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState<string | null>(null);\n  const [editedValues, setEditedValues] = useState<Record<string, string>>({});\n  const [showSensitive, setShowSensitive] = useState<Record<string, boolean>>({});\n\n  // Keywords state\n  const [keywords, setKeywords] = useState<Keyword[]>([]);\n  const [loadingKeywords, setLoadingKeywords] = useState(false);\n  const [newKeyword, setNewKeyword] = useState({ keyword: '', url: '', target_density: '' });\n  const [addingKeyword, setAddingKeyword] = useState(false);\n\n  // Pages state\n  const [pages, setPages] = useState<Page[]>([]);\n  const [loadingPages, setLoadingPages] = useState(false);\n  const [newPageUrl, setNewPageUrl] = useState('');\n  const [addingPage, setAddingPage] = useState(false);\n\n  useEffect(() => {\n    fetchSettings();\n    fetchKeywords();\n    fetchPages();\n  }, []);\n\n  const fetchSettings = async () => {\n    try {\n      const response = await fetch('/api/settings');\n      const data = await response.json();\n\n      if (data.success) {\n        setSettings(data.settings);\n        // Initiera editedValues med nuvarande vrden\n        const values: Record<string, string> = {};\n        data.settings.forEach((s: Setting) => {\n          values[s.setting_key] = s.setting_value || '';\n        });\n        setEditedValues(values);\n      }\n    } catch (err) {\n      setError('Kunde inte hmta instllningar');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const saveSetting = async (settingKey: string) => {\n    setSaving(settingKey);\n    setError(null);\n    setSuccess(null);\n\n    try {\n      const response = await fetch('/api/settings', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          setting_key: settingKey,\n          setting_value: editedValues[settingKey]\n        })\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        setSuccess(`${settingKey} uppdaterad!`);\n        setTimeout(() => setSuccess(null), 3000);\n        await fetchSettings();\n      } else {\n        throw new Error(data.error);\n      }\n    } catch (err) {\n      setError(`Kunde inte spara ${settingKey}`);\n    } finally {\n      setSaving(null);\n    }\n  };\n\n  const toggleShowSensitive = (key: string) => {\n    setShowSensitive(prev => ({ ...prev, [key]: !prev[key] }));\n  };\n\n  // Keywords functions\n  const fetchKeywords = async () => {\n    setLoadingKeywords(true);\n    try {\n      const response = await fetch('/api/keywords?url=all');\n      const data = await response.json();\n      if (data.keywords) {\n        setKeywords(data.keywords);\n      }\n    } catch (err) {\n      console.error('Failed to fetch keywords:', err);\n    } finally {\n      setLoadingKeywords(false);\n    }\n  };\n\n  const addKeyword = async () => {\n    if (!newKeyword.keyword || !newKeyword.url) {\n      setError('Keyword och URL mste anges');\n      return;\n    }\n\n    setAddingKeyword(true);\n    setError(null);\n    try {\n      const response = await fetch('/api/keywords', {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          keyword: newKeyword.keyword,\n          url: newKeyword.url,\n          target_density: newKeyword.target_density ? parseFloat(newKeyword.target_density) : null\n        })\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        setSuccess(data.message);\n        setNewKeyword({ keyword: '', url: '', target_density: '' });\n        await fetchKeywords();\n        setTimeout(() => setSuccess(null), 3000);\n      } else {\n        throw new Error(data.error);\n      }\n    } catch (err) {\n      setError('Kunde inte lgga till keyword');\n    } finally {\n      setAddingKeyword(false);\n    }\n  };\n\n  const deleteKeyword = async (id: number) => {\n    try {\n      const response = await fetch(`/api/keywords?id=${id}`, {\n        method: 'DELETE'\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        setSuccess('Keyword borttagen');\n        await fetchKeywords();\n        setTimeout(() => setSuccess(null), 3000);\n      } else {\n        throw new Error(data.error);\n      }\n    } catch (err) {\n      setError('Kunde inte ta bort keyword');\n    }\n  };\n\n  // Pages functions\n  const fetchPages = async () => {\n    setLoadingPages(true);\n    try {\n      const response = await fetch('/api/pages');\n      const data = await response.json();\n      if (data.pages) {\n        setPages(data.pages);\n      }\n    } catch (err) {\n      console.error('Failed to fetch pages:', err);\n    } finally {\n      setLoadingPages(false);\n    }\n  };\n\n  const addPage = async () => {\n    if (!newPageUrl) {\n      setError('URL mste anges');\n      return;\n    }\n\n    setAddingPage(true);\n    setError(null);\n    try {\n      const response = await fetch('/api/pages', {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ url: newPageUrl })\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        setSuccess(data.message);\n        setNewPageUrl('');\n        await fetchPages();\n        setTimeout(() => setSuccess(null), 3000);\n      } else {\n        throw new Error(data.error);\n      }\n    } catch (err) {\n      setError('Kunde inte lgga till sida');\n    } finally {\n      setAddingPage(false);\n    }\n  };\n\n  const deletePage = async (url: string) => {\n    try {\n      const response = await fetch(`/api/pages?url=${encodeURIComponent(url)}`, {\n        method: 'DELETE'\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        setSuccess('Sida borttagen');\n        await fetchPages();\n        setTimeout(() => setSuccess(null), 3000);\n      } else {\n        throw new Error(data.error);\n      }\n    } catch (err) {\n      setError('Kunde inte ta bort sida');\n    }\n  };\n\n  const getSettingIcon = (key: string) => {\n    const icons: Record<string, string> = {\n      site_url: '',\n      sitemap_url: '',\n      gsc_site_url: '',\n      max_pages_per_run: ''\n    };\n    return icons[key] || '';\n  };\n\n  const getSettingLabel = (key: string) => {\n    const labels: Record<string, string> = {\n      site_url: 'Standard webbplats URL',\n      sitemap_url: 'Sitemap URL (valfritt)',\n      gsc_site_url: 'Google Search Console Site URL (valfritt)',\n      max_pages_per_run: 'Max sidor per krning'\n    };\n    return labels[key] || key;\n  };\n\n  if (loading) {\n    return (\n      <div className=\"space-y-4\">\n        <Skeleton className=\"h-32\" />\n        <Skeleton className=\"h-64\" />\n        <Skeleton className=\"h-64\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <SettingsIcon className=\"h-6 w-6\" />\n            Instllningar\n          </CardTitle>\n          <CardDescription>\n            Konfigurera webbplatsinstllningar och hantera sidor och nyckelord.\n          </CardDescription>\n        </CardHeader>\n      </Card>\n\n      {/* API Keys Info Card */}\n      <Card className=\"bg-amber-50 dark:bg-amber-950 border-amber-200\">\n        <CardContent className=\"pt-6\">\n          <h3 className=\"font-semibold mb-2 flex items-center gap-2\">\n            <i className=\"bi bi-shield-lock text-amber-600\"></i>\n            API-nycklar (Konfigurera i .env.local)\n          </h3>\n          <p className=\"text-sm text-muted-foreground mb-3\">\n            Av skerhetsskl lagras API-nycklar i <code className=\"bg-amber-100 dark:bg-amber-900 px-2 py-1 rounded\">.env.local</code> istllet fr i databasen.\n          </p>\n          <div className=\"text-sm space-y-2 text-muted-foreground\">\n            <div>\n              <strong className=\"text-foreground\">PSI_API_KEY</strong> - Google PageSpeed Insights API-nyckel (obligatorisk)\n            </div>\n            <div>\n              <strong className=\"text-foreground\">GSC_ACCESS_TOKEN</strong> - Google Search Console access token (valfritt)\n            </div>\n            <div>\n              <strong className=\"text-foreground\">GSC_CLIENT_ID</strong> - Google OAuth Client ID (valfritt)\n            </div>\n            <div>\n              <strong className=\"text-foreground\">GSC_CLIENT_SECRET</strong> - Google OAuth Client Secret (valfritt)\n            </div>\n            <div>\n              <strong className=\"text-foreground\">GSC_REFRESH_TOKEN</strong> - Google OAuth Refresh Token (valfritt)\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Success/Error Messages */}\n      {success && (\n        <Alert className=\"bg-green-50 dark:bg-green-950 border-green-200\">\n          <CheckCircle className=\"h-4 w-4 text-green-600\" />\n          <AlertDescription className=\"text-green-800 dark:text-green-200\">\n            {success}\n          </AlertDescription>\n        </Alert>\n      )}\n\n      {error && (\n        <Alert variant=\"destructive\">\n          <AlertCircle className=\"h-4 w-4\" />\n          <AlertDescription>{error}</AlertDescription>\n        </Alert>\n      )}\n\n      {/* Settings Cards */}\n      {settings.map((setting) => {\n        const isSensitive = setting.is_sensitive;\n        const isEdited = editedValues[setting.setting_key] !== (setting.setting_value || '');\n        const isSaving = saving === setting.setting_key;\n\n        return (\n          <Card key={setting.id}>\n            <CardHeader>\n              <div className=\"flex items-center justify-between\">\n                <div className=\"flex items-center gap-3\">\n                  <span className=\"text-2xl\">{getSettingIcon(setting.setting_key)}</span>\n                  <div>\n                    <CardTitle className=\"text-lg\">\n                      {getSettingLabel(setting.setting_key)}\n                    </CardTitle>\n                    <CardDescription>{setting.description}</CardDescription>\n                  </div>\n                </div>\n                {isSensitive && (\n                  <Badge variant=\"secondary\">\n                    <i className=\"bi bi-shield-lock me-1\"></i>\n                    Knslig\n                  </Badge>\n                )}\n              </div>\n            </CardHeader>\n            <CardContent>\n              <div className=\"space-y-4\">\n                <div className=\"relative\">\n                  <Label htmlFor={setting.setting_key}>Vrde</Label>\n                  <div className=\"flex gap-2 mt-2\">\n                    <Input\n                      id={setting.setting_key}\n                      type={isSensitive && !showSensitive[setting.setting_key] ? 'password' : 'text'}\n                      value={editedValues[setting.setting_key] || ''}\n                      onChange={(e) => setEditedValues(prev => ({\n                        ...prev,\n                        [setting.setting_key]: e.target.value\n                      }))}\n                      placeholder={`Ange ${getSettingLabel(setting.setting_key).toLowerCase()}`}\n                      className=\"flex-1\"\n                    />\n                    {isSensitive && (\n                      <Button\n                        onClick={() => toggleShowSensitive(setting.setting_key)}\n                        variant=\"outline\"\n                        size=\"icon\"\n                      >\n                        {showSensitive[setting.setting_key] ? (\n                          <EyeOff className=\"h-4 w-4\" />\n                        ) : (\n                          <Eye className=\"h-4 w-4\" />\n                        )}\n                      </Button>\n                    )}\n                  </div>\n                </div>\n\n                <Separator />\n\n                <div className=\"flex items-center justify-between\">\n                  <div className=\"text-xs text-muted-foreground\">\n                    Senast uppdaterad: {new Date(setting.updated_at).toLocaleDateString('sv-SE', { year: 'numeric', month: '2-digit', day: '2-digit' }).replace(/-/g, '/')}\n                  </div>\n                  <Button\n                    onClick={() => saveSetting(setting.setting_key)}\n                    disabled={!isEdited || isSaving}\n                    size=\"sm\"\n                    className=\"bg-green-600 hover:bg-green-700\"\n                  >\n                    {isSaving ? (\n                      <>\n                        <i className=\"bi bi-arrow-repeat animate-spin me-2\"></i>\n                        Sparar...\n                      </>\n                    ) : (\n                      <>\n                        <Save className=\"h-4 w-4 mr-2\" />\n                        Spara\n                      </>\n                    )}\n                  </Button>\n                </div>\n              </div>\n            </CardContent>\n          </Card>\n        );\n      })}\n\n      {/* Keywords Management */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <Key className=\"h-6 w-6\" />\n              <div>\n                <CardTitle>Hantera nyckelord</CardTitle>\n                <CardDescription>\n                  Lgg till nyckelord manuellt fr att spra och optimera\n                </CardDescription>\n              </div>\n            </div>\n          </div>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          {/* Add keyword form */}\n          <div className=\"p-4 bg-slate-50 dark:bg-slate-900 rounded-lg space-y-3\">\n            <h3 className=\"font-semibold text-sm\">Lgg till nytt nyckelord</h3>\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\n              <div>\n                <Label htmlFor=\"new-keyword\">Nyckelord</Label>\n                <Input\n                  id=\"new-keyword\"\n                  placeholder=\"t.ex. SEO optimering\"\n                  value={newKeyword.keyword}\n                  onChange={(e) => setNewKeyword(prev => ({ ...prev, keyword: e.target.value }))}\n                />\n              </div>\n              <div>\n                <Label htmlFor=\"keyword-url\">URL</Label>\n                <Input\n                  id=\"keyword-url\"\n                  placeholder=\"https://example.com/page\"\n                  value={newKeyword.url}\n                  onChange={(e) => setNewKeyword(prev => ({ ...prev, url: e.target.value }))}\n                />\n              </div>\n              <div>\n                <Label htmlFor=\"target-density\">Ml-densitet % (valfritt)</Label>\n                <Input\n                  id=\"target-density\"\n                  type=\"number\"\n                  step=\"0.1\"\n                  placeholder=\"2.5\"\n                  value={newKeyword.target_density}\n                  onChange={(e) => setNewKeyword(prev => ({ ...prev, target_density: e.target.value }))}\n                />\n              </div>\n            </div>\n            <Button\n              onClick={addKeyword}\n              disabled={addingKeyword}\n              className=\"w-full md:w-auto\"\n            >\n              {addingKeyword ? (\n                <>\n                  <i className=\"bi bi-arrow-repeat animate-spin me-2\"></i>\n                  Lgger till...\n                </>\n              ) : (\n                <>\n                  <Plus className=\"h-4 w-4 mr-2\" />\n                  Lgg till nyckelord\n                </>\n              )}\n            </Button>\n          </div>\n\n          <Separator />\n\n          {/* Keywords list */}\n          <div className=\"space-y-2\">\n            <h3 className=\"font-semibold text-sm\">Dina nyckelord ({keywords.length})</h3>\n            {loadingKeywords ? (\n              <Skeleton className=\"h-20\" />\n            ) : keywords.length === 0 ? (\n              <p className=\"text-sm text-muted-foreground py-4\">\n                Inga nyckelord tillagda nnu. Lgg till ett nyckelord fr att brja spra.\n              </p>\n            ) : (\n              <div className=\"space-y-2 max-h-96 overflow-y-auto\">\n                {keywords.map((kw) => (\n                  <div\n                    key={kw.id}\n                    className=\"flex items-center justify-between p-3 bg-white dark:bg-slate-800 border rounded-lg\"\n                  >\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2\">\n                        <span className=\"font-medium\">{kw.keyword}</span>\n                        <Badge variant=\"secondary\" className=\"text-xs\">\n                          {kw.status}\n                        </Badge>\n                      </div>\n                      <p className=\"text-xs text-muted-foreground mt-1\">\n                        {kw.url}\n                        {kw.target_density && `  Ml: ${kw.target_density}%`}\n                      </p>\n                    </div>\n                    <Button\n                      onClick={() => deleteKeyword(kw.id)}\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"text-red-600 hover:text-red-700 hover:bg-red-50\"\n                    >\n                      <Trash2 className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Pages Management */}\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-3\">\n              <LinkIcon className=\"h-6 w-6\" />\n              <div>\n                <CardTitle>Hantera sidor</CardTitle>\n                <CardDescription>\n                  Lgg till sidor att vervaka och analysera\n                </CardDescription>\n              </div>\n            </div>\n          </div>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          {/* Add page form */}\n          <div className=\"p-4 bg-slate-50 dark:bg-slate-900 rounded-lg space-y-3\">\n            <h3 className=\"font-semibold text-sm\">Lgg till ny sida</h3>\n            <div className=\"flex gap-2\">\n              <Input\n                placeholder=\"https://example.com/page\"\n                value={newPageUrl}\n                onChange={(e) => setNewPageUrl(e.target.value)}\n                className=\"flex-1\"\n              />\n              <Button\n                onClick={addPage}\n                disabled={addingPage}\n              >\n                {addingPage ? (\n                  <>\n                    <i className=\"bi bi-arrow-repeat animate-spin me-2\"></i>\n                    Lgger till...\n                  </>\n                ) : (\n                  <>\n                    <Plus className=\"h-4 w-4 mr-2\" />\n                    Lgg till\n                  </>\n                )}\n              </Button>\n            </div>\n          </div>\n\n          <Separator />\n\n          {/* Pages list */}\n          <div className=\"space-y-2\">\n            <h3 className=\"font-semibold text-sm\">Dina sidor ({pages.length})</h3>\n            {loadingPages ? (\n              <Skeleton className=\"h-20\" />\n            ) : pages.length === 0 ? (\n              <p className=\"text-sm text-muted-foreground py-4\">\n                Inga sidor tillagda nnu. Lgg till en sida fr att brja vervaka.\n              </p>\n            ) : (\n              <div className=\"space-y-2 max-h-96 overflow-y-auto\">\n                {pages.map((page) => (\n                  <div\n                    key={page.id}\n                    className=\"flex items-center justify-between p-3 bg-white dark:bg-slate-800 border rounded-lg\"\n                  >\n                    <div className=\"flex-1\">\n                      <p className=\"font-medium text-sm break-all\">{page.url}</p>\n                      <div className=\"flex items-center gap-3 text-xs text-muted-foreground mt-1\">\n                        {page.senaste_score !== null && (\n                          <span>Score: {page.senaste_score}</span>\n                        )}\n                        <span>\n                          Senast sedd: {page.last_seen_at\n                            ? new Date(page.last_seen_at).toLocaleDateString('sv-SE', { year: 'numeric', month: '2-digit', day: '2-digit' }).replace(/-/g, '/')\n                            : 'Aldrig'}\n                        </span>\n                      </div>\n                    </div>\n                    <Button\n                      onClick={() => deletePage(page.url)}\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      className=\"text-red-600 hover:text-red-700 hover:bg-red-50\"\n                    >\n                      <Trash2 className=\"h-4 w-4\" />\n                    </Button>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n        </CardContent>\n      </Card>\n\n      {/* Help Section */}\n      <Card className=\"bg-blue-50 dark:bg-blue-950 border-blue-200\">\n        <CardContent className=\"pt-6\">\n          <h3 className=\"font-semibold mb-3 flex items-center gap-2\">\n            <i className=\"bi bi-info-circle\"></i>\n            Setup-guide\n          </h3>\n\n          <div className=\"space-y-4 text-sm text-muted-foreground\">\n            <div className=\"bg-white dark:bg-slate-800 p-3 rounded-lg\">\n              <h4 className=\"font-semibold text-foreground mb-2\">1. Konfigurera API-nycklar i .env.local</h4>\n              <p className=\"mb-2\">Lgg till fljande i din <code className=\"bg-slate-100 dark:bg-slate-700 px-2 py-1 rounded\">.env.local</code> fil:</p>\n              <pre className=\"bg-slate-100 dark:bg-slate-700 p-2 rounded text-xs overflow-x-auto\">\n{`# Google PageSpeed Insights (OBLIGATORISK)\nPSI_API_KEY=din-api-nyckel-hr\n\n# Google Search Console (Valfritt)\nGSC_ACCESS_TOKEN=din-token-hr\nGSC_SITE_URL=https://example.com\nGSC_CLIENT_ID=xxx.apps.googleusercontent.com\nGSC_CLIENT_SECRET=xxx\nGSC_REFRESH_TOKEN=xxx`}\n              </pre>\n              <p className=\"mt-2\">\n                Hmta PSI API-nyckel frn{' '}\n                <a\n                  href=\"https://console.cloud.google.com/apis/credentials\"\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-blue-600 hover:underline font-medium\"\n                >\n                  Google Cloud Console\n                </a>\n              </p>\n            </div>\n\n            <div className=\"bg-white dark:bg-slate-800 p-3 rounded-lg\">\n              <h4 className=\"font-semibold text-foreground mb-2\">2. Konfigurera webbplatsinstllningar</h4>\n              <p className=\"mb-2\">Anvnd formulren ovan fr att konfigurera:</p>\n              <ul className=\"list-disc list-inside space-y-1 ml-2\">\n                <li><strong>Site URL:</strong> Din huvudwebbplats (t.ex. https://example.com)</li>\n                <li><strong>Sitemap URL:</strong> Valfritt - lmna tom fr auto-upptckt</li>\n                <li><strong>Max sidor per run:</strong> Hur mnga sidor som analyseras t gngen</li>\n                <li><strong>GSC Site URL:</strong> Valfritt - fr Google Search Console-integration</li>\n              </ul>\n            </div>\n\n            <div className=\"bg-white dark:bg-slate-800 p-3 rounded-lg\">\n              <h4 className=\"font-semibold text-foreground mb-2\">3. Lgg till sidor och nyckelord</h4>\n              <ul className=\"list-disc list-inside space-y-1 ml-2\">\n                <li>Anvnd \"Hantera sidor\" fr att lgga till specifika sidor att vervaka</li>\n                <li>Anvnd \"Hantera nyckelord\" fr att lgga till viktiga keywords per sida</li>\n                <li>Dessa kommer anvndas vid nsta analys-krning</li>\n              </ul>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as ScrollAreaPrimitive from \"@radix-ui/react-scroll-area\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ScrollArea = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <ScrollAreaPrimitive.Root\n    ref={ref}\n    className={cn(\"relative overflow-hidden\", className)}\n    {...props}\n  >\n    <ScrollAreaPrimitive.Viewport className=\"h-full w-full rounded-[inherit]\">\n      {children}\n    </ScrollAreaPrimitive.Viewport>\n    <ScrollBar />\n    <ScrollAreaPrimitive.Corner />\n  </ScrollAreaPrimitive.Root>\n))\nScrollArea.displayName = ScrollAreaPrimitive.Root.displayName\n\nconst ScrollBar = React.forwardRef<\n  React.ElementRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>,\n  React.ComponentPropsWithoutRef<typeof ScrollAreaPrimitive.ScrollAreaScrollbar>\n>(({ className, orientation = \"vertical\", ...props }, ref) => (\n  <ScrollAreaPrimitive.ScrollAreaScrollbar\n    ref={ref}\n    orientation={orientation}\n    className={cn(\n      \"flex touch-none select-none transition-colors\",\n      orientation === \"vertical\" &&\n        \"h-full w-2.5 border-l border-l-transparent p-[1px]\",\n      orientation === \"horizontal\" &&\n        \"h-2.5 flex-col border-t border-t-transparent p-[1px]\",\n      className\n    )}\n    {...props}\n  >\n    <ScrollAreaPrimitive.ScrollAreaThumb className=\"relative flex-1 rounded-full bg-border\" />\n  </ScrollAreaPrimitive.ScrollAreaScrollbar>\n))\nScrollBar.displayName = ScrollAreaPrimitive.ScrollAreaScrollbar.displayName\n\nexport { ScrollArea, ScrollBar }\n","'use client';\n\nimport { cn } from '@/lib/utils';\nimport {\n  LayoutDashboard,\n  ListTodo,\n  Sparkles,\n  BarChart3,\n  Lightbulb,\n  FileText,\n  Clock,\n  Settings\n} from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { ScrollArea } from '@/components/ui/scroll-area';\n\ninterface SidebarProps {\n  activeTab: string;\n  onTabChange: (tab: string) => void;\n}\n\nexport function Sidebar({ activeTab, onTabChange }: SidebarProps) {\n  const navItems = [\n    {\n      id: 'dashboard',\n      label: 'Dashboard',\n      icon: LayoutDashboard,\n      description: 'versikt'\n    },\n    {\n      id: 'tasks',\n      label: 'Todo',\n      icon: ListTodo,\n      description: 'Uppgifter'\n    },\n    {\n      id: 'ai-analysis',\n      label: 'AI Analys',\n      icon: Sparkles,\n      description: 'AI-insikter'\n    },\n    {\n      id: 'overview',\n      label: 'Score',\n      icon: BarChart3,\n      description: 'Metrics'\n    },\n    {\n      id: 'suggestions',\n      label: 'Frslag',\n      icon: Lightbulb,\n      description: 'SEO-tips'\n    },\n    {\n      id: 'text-suggestions',\n      label: 'Text',\n      icon: FileText,\n      description: 'Content'\n    },\n    {\n      id: 'runs',\n      label: 'Runs',\n      icon: Clock,\n      description: 'Historik'\n    },\n    {\n      id: 'settings',\n      label: 'Settings',\n      icon: Settings,\n      description: 'Instllningar'\n    },\n  ];\n\n  return (\n    <div className=\"flex h-full w-64 flex-col border-r bg-card\">\n      {/* Logo / Header */}\n      <div className=\"border-b px-6 py-5\">\n        <h2 className=\"text-xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n           SEO Manager\n        </h2>\n        <p className=\"text-xs text-muted-foreground mt-1\">\n          AI-Driven Analytics\n        </p>\n      </div>\n\n      {/* Navigation */}\n      <ScrollArea className=\"flex-1 px-3 py-4\">\n        <nav className=\"space-y-1\">\n          {navItems.map((item) => {\n            const Icon = item.icon;\n            const isActive = activeTab === item.id;\n\n            return (\n              <Button\n                key={item.id}\n                variant={isActive ? \"secondary\" : \"ghost\"}\n                className={cn(\n                  \"w-full justify-start gap-3 px-3\",\n                  isActive && \"bg-primary/10 text-primary hover:bg-primary/15 hover:text-primary\"\n                )}\n                onClick={() => onTabChange(item.id)}\n              >\n                <Icon className=\"h-4 w-4\" />\n                <div className=\"flex flex-col items-start\">\n                  <span className=\"text-sm font-medium\">{item.label}</span>\n                  <span className=\"text-xs text-muted-foreground\">{item.description}</span>\n                </div>\n              </Button>\n            );\n          })}\n        </nav>\n      </ScrollArea>\n\n      {/* Footer */}\n      <div className=\"border-t px-4 py-3\">\n        <p className=\"text-xs text-muted-foreground text-center\">\n          Powered by OpenAI & Google\n        </p>\n      </div>\n    </div>\n  );\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { CheckIcon, ChevronDownIcon, ChevronUpIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Select({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Root>) {\n  return <SelectPrimitive.Root data-slot=\"select\" {...props} />\n}\n\nfunction SelectGroup({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Group>) {\n  return <SelectPrimitive.Group data-slot=\"select-group\" {...props} />\n}\n\nfunction SelectValue({\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Value>) {\n  return <SelectPrimitive.Value data-slot=\"select-value\" {...props} />\n}\n\nfunction SelectTrigger({\n  className,\n  size = \"default\",\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Trigger> & {\n  size?: \"sm\" | \"default\"\n}) {\n  return (\n    <SelectPrimitive.Trigger\n      data-slot=\"select-trigger\"\n      data-size={size}\n      className={cn(\n        \"border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <SelectPrimitive.Icon asChild>\n        <ChevronDownIcon className=\"size-4 opacity-50\" />\n      </SelectPrimitive.Icon>\n    </SelectPrimitive.Trigger>\n  )\n}\n\nfunction SelectContent({\n  className,\n  children,\n  position = \"popper\",\n  align = \"center\",\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Content>) {\n  return (\n    <SelectPrimitive.Portal>\n      <SelectPrimitive.Content\n        data-slot=\"select-content\"\n        className={cn(\n          \"bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md\",\n          position === \"popper\" &&\n            \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n          className\n        )}\n        position={position}\n        align={align}\n        {...props}\n      >\n        <SelectScrollUpButton />\n        <SelectPrimitive.Viewport\n          className={cn(\n            \"p-1\",\n            position === \"popper\" &&\n              \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1\"\n          )}\n        >\n          {children}\n        </SelectPrimitive.Viewport>\n        <SelectScrollDownButton />\n      </SelectPrimitive.Content>\n    </SelectPrimitive.Portal>\n  )\n}\n\nfunction SelectLabel({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Label>) {\n  return (\n    <SelectPrimitive.Label\n      data-slot=\"select-label\"\n      className={cn(\"text-muted-foreground px-2 py-1.5 text-xs\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectItem({\n  className,\n  children,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Item>) {\n  return (\n    <SelectPrimitive.Item\n      data-slot=\"select-item\"\n      className={cn(\n        \"focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2\",\n        className\n      )}\n      {...props}\n    >\n      <span className=\"absolute right-2 flex size-3.5 items-center justify-center\">\n        <SelectPrimitive.ItemIndicator>\n          <CheckIcon className=\"size-4\" />\n        </SelectPrimitive.ItemIndicator>\n      </span>\n      <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n    </SelectPrimitive.Item>\n  )\n}\n\nfunction SelectSeparator({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.Separator>) {\n  return (\n    <SelectPrimitive.Separator\n      data-slot=\"select-separator\"\n      className={cn(\"bg-border pointer-events-none -mx-1 my-1 h-px\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction SelectScrollUpButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollUpButton>) {\n  return (\n    <SelectPrimitive.ScrollUpButton\n      data-slot=\"select-scroll-up-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronUpIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollUpButton>\n  )\n}\n\nfunction SelectScrollDownButton({\n  className,\n  ...props\n}: React.ComponentProps<typeof SelectPrimitive.ScrollDownButton>) {\n  return (\n    <SelectPrimitive.ScrollDownButton\n      data-slot=\"select-scroll-down-button\"\n      className={cn(\n        \"flex cursor-default items-center justify-center py-1\",\n        className\n      )}\n      {...props}\n    >\n      <ChevronDownIcon className=\"size-4\" />\n    </SelectPrimitive.ScrollDownButton>\n  )\n}\n\nexport {\n  Select,\n  SelectContent,\n  SelectGroup,\n  SelectItem,\n  SelectLabel,\n  SelectScrollDownButton,\n  SelectScrollUpButton,\n  SelectSeparator,\n  SelectTrigger,\n  SelectValue,\n}\n","'use client';\n\n// Komponent fr att visa och hantera frslag\n// Visar topp frslag filtrerade p impact och status\n\nimport { useState, useEffect } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Label } from '@/components/ui/label';\nimport { AlertTriangle, TrendingUp, TrendingDown, ExternalLink, Play, CheckCircle, X } from 'lucide-react';\n\ninterface Suggestion {\n  suggestion_id: number;\n  url: string;\n  action: string;\n  impact: 'low' | 'medium' | 'high';\n  status: 'pending' | 'in_progress' | 'completed' | 'dismissed';\n  created_at: string;\n  updated_at: string;\n}\n\nexport default function SuggestionsList() {\n  const [suggestions, setSuggestions] = useState<Suggestion[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [impactFilter, setImpactFilter] = useState<string>('all');\n  const [statusFilter, setStatusFilter] = useState<string>('pending');\n\n  useEffect(() => {\n    fetchSuggestions();\n  }, [impactFilter, statusFilter]);\n\n  const fetchSuggestions = async () => {\n    try {\n      const params = new URLSearchParams();\n      if (impactFilter !== 'all') params.set('impact', impactFilter);\n      if (statusFilter !== 'all') params.set('status', statusFilter);\n\n      const response = await fetch(`/api/agent/suggestions?${params}`);\n      const data = await response.json();\n\n      if (data.success) {\n        setSuggestions(data.data);\n      }\n    } catch (error) {\n      console.error('Error fetching suggestions:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const updateStatus = async (\n    suggestionId: number,\n    newStatus: 'pending' | 'in_progress' | 'completed' | 'dismissed'\n  ) => {\n    try {\n      const response = await fetch('/api/agent/suggestions', {\n        method: 'PATCH',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ suggestionId, status: newStatus }),\n      });\n\n      const data = await response.json();\n\n      if (data.success) {\n        fetchSuggestions();\n      }\n    } catch (error) {\n      console.error('Error updating suggestion:', error);\n    }\n  };\n\n  const getImpactBadge = (impact: string) => {\n    const variants = {\n      high: { variant: 'destructive' as const, icon: AlertTriangle },\n      medium: { variant: 'default' as const, icon: TrendingUp },\n      low: { variant: 'secondary' as const, icon: TrendingDown },\n    };\n\n    const config = variants[impact as keyof typeof variants];\n    const Icon = config.icon;\n\n    return (\n      <Badge variant={config.variant} className=\"gap-1\">\n        <Icon className=\"h-3 w-3\" />\n        {impact.toUpperCase()}\n      </Badge>\n    );\n  };\n\n  const getStatusBadge = (status: string) => {\n    const variants = {\n      pending: 'outline' as const,\n      in_progress: 'default' as const,\n      completed: 'default' as const,\n      dismissed: 'secondary' as const,\n    };\n\n    return (\n      <Badge variant={variants[status as keyof typeof variants]}>\n        {status.replace('_', ' ').toUpperCase()}\n      </Badge>\n    );\n  };\n\n  if (loading) {\n    return (\n      <div className=\"space-y-4\">\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n          <Skeleton className=\"h-24\" />\n          <Skeleton className=\"h-24\" />\n          <Skeleton className=\"h-24\" />\n          <Skeleton className=\"h-24\" />\n        </div>\n        <Skeleton className=\"h-64\" />\n      </div>\n    );\n  }\n\n  const suggestionsByImpact = {\n    high: suggestions.filter(s => s.impact === 'high'),\n    medium: suggestions.filter(s => s.impact === 'medium'),\n    low: suggestions.filter(s => s.impact === 'low'),\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardDescription>High Impact</CardDescription>\n            <CardTitle className=\"text-4xl flex items-center gap-2\">\n              <AlertTriangle className=\"h-8 w-8 text-red-600\" />\n              {suggestionsByImpact.high.length}\n            </CardTitle>\n          </CardHeader>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardDescription>Medium Impact</CardDescription>\n            <CardTitle className=\"text-4xl flex items-center gap-2\">\n              <TrendingUp className=\"h-8 w-8 text-yellow-600\" />\n              {suggestionsByImpact.medium.length}\n            </CardTitle>\n          </CardHeader>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardDescription>Low Impact</CardDescription>\n            <CardTitle className=\"text-4xl flex items-center gap-2\">\n              <TrendingDown className=\"h-8 w-8 text-blue-600\" />\n              {suggestionsByImpact.low.length}\n            </CardTitle>\n          </CardHeader>\n        </Card>\n\n        <Card>\n          <CardHeader className=\"pb-3\">\n            <CardDescription>Total</CardDescription>\n            <CardTitle className=\"text-4xl\">\n              {suggestions.length}\n            </CardTitle>\n          </CardHeader>\n        </Card>\n      </div>\n\n      {/* Filters */}\n      <div className=\"flex flex-wrap gap-4\">\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"impact-filter\">Impact</Label>\n          <Select value={impactFilter} onValueChange={setImpactFilter}>\n            <SelectTrigger id=\"impact-filter\" className=\"w-[180px]\">\n              <SelectValue placeholder=\"Select impact\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All Impacts</SelectItem>\n              <SelectItem value=\"high\">High</SelectItem>\n              <SelectItem value=\"medium\">Medium</SelectItem>\n              <SelectItem value=\"low\">Low</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"status-filter\">Status</Label>\n          <Select value={statusFilter} onValueChange={setStatusFilter}>\n            <SelectTrigger id=\"status-filter\" className=\"w-[180px]\">\n              <SelectValue placeholder=\"Select status\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All Statuses</SelectItem>\n              <SelectItem value=\"pending\">Pending</SelectItem>\n              <SelectItem value=\"in_progress\">In Progress</SelectItem>\n              <SelectItem value=\"completed\">Completed</SelectItem>\n              <SelectItem value=\"dismissed\">Dismissed</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n      </div>\n\n      {/* Suggestions List */}\n      <div className=\"space-y-4\">\n        {suggestions.length === 0 ? (\n          <Card>\n            <CardContent className=\"text-center py-12 text-muted-foreground\">\n              No suggestions found. Run the agent to generate suggestions.\n            </CardContent>\n          </Card>\n        ) : (\n          suggestions.map((suggestion) => (\n            <Card key={suggestion.suggestion_id}>\n              <CardHeader>\n                <div className=\"flex items-start justify-between\">\n                  <div className=\"flex items-center gap-2\">\n                    {getImpactBadge(suggestion.impact)}\n                    {getStatusBadge(suggestion.status)}\n                  </div>\n                  <div className=\"flex gap-2\">\n                    {suggestion.status === 'pending' && (\n                      <Button\n                        onClick={() => updateStatus(suggestion.suggestion_id, 'in_progress')}\n                        size=\"sm\"\n                        variant=\"default\"\n                      >\n                        <Play className=\"h-4 w-4 mr-1\" />\n                        Start\n                      </Button>\n                    )}\n                    {suggestion.status === 'in_progress' && (\n                      <Button\n                        onClick={() => updateStatus(suggestion.suggestion_id, 'completed')}\n                        size=\"sm\"\n                        variant=\"default\"\n                        className=\"bg-green-600 hover:bg-green-700\"\n                      >\n                        <CheckCircle className=\"h-4 w-4 mr-1\" />\n                        Complete\n                      </Button>\n                    )}\n                    {suggestion.status !== 'dismissed' && (\n                      <Button\n                        onClick={() => updateStatus(suggestion.suggestion_id, 'dismissed')}\n                        size=\"sm\"\n                        variant=\"outline\"\n                      >\n                        <X className=\"h-4 w-4 mr-1\" />\n                        Dismiss\n                      </Button>\n                    )}\n                  </div>\n                </div>\n              </CardHeader>\n              <CardContent>\n                <p className=\"text-sm mb-3\">\n                  {suggestion.action}\n                </p>\n\n                <a\n                  href={suggestion.url}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-sm text-blue-600 hover:underline flex items-center gap-1\"\n                >\n                  {suggestion.url}\n                  <ExternalLink className=\"h-3 w-3\" />\n                </a>\n\n                <p className=\"text-xs text-muted-foreground mt-3\">\n                  Created: {new Date(suggestion.created_at).toLocaleDateString('sv-SE', { year: 'numeric', month: '2-digit', day: '2-digit' }).replace(/-/g, '/')}\n                </p>\n              </CardContent>\n            </Card>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n","import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Textarea({ className, ...props }: React.ComponentProps<\"textarea\">) {\n  return (\n    <textarea\n      data-slot=\"textarea\"\n      className={cn(\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Textarea }\n","'use client';\n\n// Text Suggestions Component\n// Visar och hanterar textfrslag med redigerings- och tillmpningsfunktion\n\nimport { useState, useEffect } from 'react';\nimport type { Database } from '@/lib/db/types';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Badge } from '@/components/ui/badge';\nimport { Alert, AlertDescription } from '@/components/ui/alert';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Skeleton } from '@/components/ui/skeleton';\nimport { Separator } from '@/components/ui/separator';\nimport {\n  Sparkles,\n  Copy,\n  Check,\n  X,\n  Edit,\n  Save,\n  AlertCircle,\n  TrendingUp,\n  Hash\n} from 'lucide-react';\n\ntype TextSuggestion = Database['public']['Tables']['text_suggestions']['Row'];\ntype SectionType = TextSuggestion['section_type'];\n\ninterface TextSuggestionsProps {\n  url?: string;\n}\n\n// Sektion metadata\nconst SECTION_META: Record<SectionType, { label: string; icon: string; description: string }> = {\n  title: { label: 'Title Tag', icon: '', description: 'Sidans titel i skmotorer' },\n  meta_description: { label: 'Meta Description', icon: '', description: 'Beskrivning i skresultat' },\n  h1: { label: 'H1 Rubrik', icon: '', description: 'Huvudrubrik' },\n  h2: { label: 'H2 Underrubrik', icon: '', description: 'Sekundra rubriker' },\n  h3: { label: 'H3 Underrubrik', icon: '', description: 'Tertira rubriker' },\n  h4: { label: 'H4 Underrubrik', icon: '', description: 'Fjrde nivns rubriker' },\n  h5: { label: 'H5 Underrubrik', icon: '', description: 'Femte nivns rubriker' },\n  h6: { label: 'H6 Underrubrik', icon: '', description: 'Sjtte nivns rubriker' },\n  paragraph: { label: 'Paragraf', icon: '', description: 'Brdtext' },\n  image_alt: { label: 'Bild Alt-text', icon: '', description: 'Alternativ text fr bilder' },\n  canonical: { label: 'Canonical URL', icon: '', description: 'Kanonisk URL' }\n};\n\nexport default function TextSuggestions({ url }: TextSuggestionsProps) {\n  const [selectedUrl, setSelectedUrl] = useState(url || '');\n  const [suggestions, setSuggestions] = useState<TextSuggestion[]>([]);\n  const [grouped, setGrouped] = useState<Record<string, TextSuggestion[]>>({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [editingId, setEditingId] = useState<number | null>(null);\n  const [editedText, setEditedText] = useState('');\n  const [filter, setFilter] = useState<'all' | 'pending' | 'edited'>('pending');\n  const [copySuccess, setCopySuccess] = useState<number | null>(null);\n\n  // Hmta frslag\n  const fetchSuggestions = async () => {\n    if (!selectedUrl) return;\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      const params = new URLSearchParams({ url: selectedUrl });\n      if (filter !== 'all') {\n        params.append('status', filter);\n      }\n\n      const response = await fetch(`/api/text-suggestions?${params}`);\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || 'Failed to fetch suggestions');\n      }\n\n      setSuggestions(data.suggestions || []);\n      setGrouped(data.grouped || {});\n    } catch (err) {\n      setError((err as Error).message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Generera nya frslag\n  const generateSuggestions = async () => {\n    if (!selectedUrl) return;\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch('/api/text-suggestions', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ url: selectedUrl, forceRegenerate: false })\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || 'Failed to generate suggestions');\n      }\n\n      await fetchSuggestions();\n    } catch (err) {\n      setError((err as Error).message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Uppdatera frslag (redigera eller ndra status)\n  const updateSuggestion = async (id: number, updates: { editedText?: string; status?: string }) => {\n    try {\n      const response = await fetch('/api/text-suggestions', {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ id, ...updates })\n      });\n\n      const data = await response.json();\n\n      if (!response.ok) {\n        throw new Error(data.error || 'Failed to update suggestion');\n      }\n\n      setSuggestions(prev =>\n        prev.map(s => s.id === id ? data.suggestion : s)\n      );\n\n      await fetchSuggestions();\n    } catch (err) {\n      setError((err as Error).message);\n    }\n  };\n\n  // Kopiera text till clipboard\n  const copyToClipboard = async (text: string, id: number) => {\n    try {\n      await navigator.clipboard.writeText(text);\n      setCopySuccess(id);\n      setTimeout(() => setCopySuccess(null), 2000);\n    } catch (err) {\n      setError('Kunde inte kopiera text');\n    }\n  };\n\n  const getImpactBadge = (impact: string) => {\n    const variants = {\n      high: { variant: 'destructive' as const, label: 'HIGH IMPACT' },\n      medium: { variant: 'default' as const, label: 'MEDIUM IMPACT' },\n      low: { variant: 'secondary' as const, label: 'LOW IMPACT' },\n    };\n    const config = variants[impact as keyof typeof variants];\n    return <Badge variant={config.variant}>{config.label}</Badge>;\n  };\n\n  const getStatusBadge = (status: string) => {\n    const variants = {\n      pending: { variant: 'outline' as const, label: 'PENDING', className: '' },\n      edited: { variant: 'default' as const, label: 'EDITED', className: 'bg-purple-600 hover:bg-purple-700' },\n      applied: { variant: 'default' as const, label: 'APPLIED', className: 'bg-green-600 hover:bg-green-700' },\n      dismissed: { variant: 'secondary' as const, label: 'DISMISSED', className: '' },\n    };\n    const config = variants[status as keyof typeof variants];\n    return <Badge variant={config.variant} className={config.className}>{config.label}</Badge>;\n  };\n\n  useEffect(() => {\n    if (selectedUrl) {\n      fetchSuggestions();\n    }\n  }, [selectedUrl, filter]);\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header & Controls */}\n      <Card>\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Sparkles className=\"h-6 w-6\" />\n            Textfrslag & Optimering\n          </CardTitle>\n          <CardDescription>\n            AI-genererade textfrslag fr att frbttra SEO\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {/* URL Input */}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"url-input\">URL att analysera</Label>\n              <Input\n                id=\"url-input\"\n                type=\"url\"\n                value={selectedUrl}\n                onChange={(e) => setSelectedUrl(e.target.value)}\n                placeholder=\"https://example.com/page\"\n              />\n            </div>\n\n            {/* Filter */}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"filter-select\">Filtrera frslag</Label>\n              <Select value={filter} onValueChange={(value) => setFilter(value as any)}>\n                <SelectTrigger id=\"filter-select\">\n                  <SelectValue placeholder=\"Vlj filter\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">Alla frslag</SelectItem>\n                  <SelectItem value=\"pending\">Vntande</SelectItem>\n                  <SelectItem value=\"edited\">Redigerade</SelectItem>\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          {/* Action Buttons */}\n          <div className=\"flex gap-3\">\n            <Button\n              onClick={fetchSuggestions}\n              disabled={!selectedUrl || loading}\n              variant=\"default\"\n            >\n              <i className=\"bi bi-arrow-clockwise me-2\"></i>\n              {loading ? 'Hmtar...' : 'Hmta frslag'}\n            </Button>\n\n            <Button\n              onClick={generateSuggestions}\n              disabled={!selectedUrl || loading}\n              variant=\"default\"\n              className=\"bg-green-600 hover:bg-green-700\"\n            >\n              <Sparkles className=\"h-4 w-4 mr-2\" />\n              {loading ? 'Genererar...' : 'Generera nya frslag'}\n            </Button>\n          </div>\n\n          {error && (\n            <Alert variant=\"destructive\">\n              <AlertCircle className=\"h-4 w-4\" />\n              <AlertDescription>{error}</AlertDescription>\n            </Alert>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Loading State */}\n      {loading && (\n        <div className=\"space-y-4\">\n          <Skeleton className=\"h-32\" />\n          <Skeleton className=\"h-64\" />\n          <Skeleton className=\"h-64\" />\n        </div>\n      )}\n\n      {/* Suggestions List */}\n      {!loading && suggestions.length > 0 && (\n        <div className=\"space-y-4\">\n          <Card>\n            <CardContent className=\"pt-6\">\n              <div className=\"flex items-center gap-2\">\n                <TrendingUp className=\"h-5 w-5 text-green-600\" />\n                <h3 className=\"text-lg font-semibold\">\n                  {suggestions.length} frslag funna\n                </h3>\n              </div>\n              <p className=\"text-sm text-muted-foreground mt-1\">\n                Klicka p \"Redigera\" fr att ndra texten, eller \"Tillmpa\" fr att markera som klar.\n              </p>\n            </CardContent>\n          </Card>\n\n          {/* Grupperade frslag per sektion */}\n          {Object.entries(grouped).map(([sectionType, sectionSuggestions]) => {\n            const meta = SECTION_META[sectionType as SectionType];\n            if (!meta || sectionSuggestions.length === 0) return null;\n\n            return (\n              <Card key={sectionType}>\n                {/* Section Header */}\n                <CardHeader className=\"bg-gradient-to-r from-blue-50 to-blue-100 dark:from-blue-950 dark:to-blue-900\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <span className=\"text-2xl\">{meta.icon}</span>\n                      <div>\n                        <CardTitle className=\"text-lg\">{meta.label}</CardTitle>\n                        <CardDescription>{meta.description}</CardDescription>\n                      </div>\n                    </div>\n                    <Badge variant=\"default\" className=\"bg-blue-600\">\n                      {sectionSuggestions.length} frslag\n                    </Badge>\n                  </div>\n                </CardHeader>\n\n                {/* Suggestions */}\n                <CardContent className=\"p-0\">\n                  <div className=\"divide-y\">\n                    {sectionSuggestions.map((suggestion) => {\n                      const isEditing = editingId === suggestion.id;\n                      const displayText = suggestion.edited_text || suggestion.suggested_text;\n\n                      return (\n                        <div key={suggestion.id} className=\"p-6 hover:bg-muted/50 transition-colors\">\n                          {/* Impact & Status Badges */}\n                          <div className=\"flex gap-2 mb-4\">\n                            {getImpactBadge(suggestion.impact)}\n                            {getStatusBadge(suggestion.status)}\n                            {suggestion.seo_score_impact && (\n                              <Badge variant=\"default\" className=\"bg-green-600 hover:bg-green-700\">\n                                +{suggestion.seo_score_impact} pong\n                              </Badge>\n                            )}\n                          </div>\n\n                          {/* Original Text */}\n                          {suggestion.original_text && (\n                            <div className=\"mb-4\">\n                              <Label className=\"mb-2 block\">Nuvarande text:</Label>\n                              <Alert variant=\"destructive\" className=\"bg-red-50 dark:bg-red-950\">\n                                <AlertDescription>\n                                  {suggestion.original_text}\n                                  <div className=\"text-xs text-muted-foreground mt-1\">\n                                    {suggestion.original_text.length} tecken, {suggestion.original_text.split(' ').length} ord\n                                  </div>\n                                </AlertDescription>\n                              </Alert>\n                            </div>\n                          )}\n\n                          {/* Suggested/Edited Text */}\n                          <div className=\"mb-4\">\n                            <Label className=\"mb-2 block\">\n                              {suggestion.edited_text ? 'Din redigerade text:' : 'Freslagen text:'}\n                            </Label>\n\n                            {isEditing ? (\n                              <Textarea\n                                value={editedText}\n                                onChange={(e) => setEditedText(e.target.value)}\n                                className=\"min-h-[100px]\"\n                                placeholder=\"Redigera texten hr...\"\n                              />\n                            ) : (\n                              <Alert className=\"bg-green-50 dark:bg-green-950 border-green-200\">\n                                <AlertDescription>\n                                  {displayText}\n                                  <div className=\"text-xs text-muted-foreground mt-1\">\n                                    {displayText.length} tecken, {displayText.split(' ').length} ord\n                                    {suggestion.readability_score && (\n                                      <span className=\"ml-3\">\n                                         Lsbarhet: {suggestion.readability_score.toFixed(0)}/100\n                                      </span>\n                                    )}\n                                  </div>\n                                </AlertDescription>\n                              </Alert>\n                            )}\n                          </div>\n\n                          {/* Reason */}\n                          <Alert className=\"mb-4 bg-blue-50 dark:bg-blue-950 border-l-4 border-blue-400\">\n                            <AlertDescription>\n                              <span className=\"font-semibold\">Varfr:</span> {suggestion.reason}\n                            </AlertDescription>\n                          </Alert>\n\n                          {/* Keywords */}\n                          {suggestion.keywords && Array.isArray(suggestion.keywords) && suggestion.keywords.length > 0 && (\n                            <div className=\"mb-4\">\n                              <Label className=\"mb-2 flex items-center gap-2\">\n                                <Hash className=\"h-4 w-4\" />\n                                Inkluderade nyckelord:\n                              </Label>\n                              <div className=\"flex flex-wrap gap-2\">\n                                {suggestion.keywords.map((keyword: any, idx: number) => (\n                                  <Badge key={idx} variant=\"secondary\" className=\"bg-purple-100 text-purple-700 dark:bg-purple-950 dark:text-purple-300\">\n                                    {String(keyword)}\n                                  </Badge>\n                                ))}\n                              </div>\n                            </div>\n                          )}\n\n                          <Separator className=\"my-4\" />\n\n                          {/* Action Buttons */}\n                          <div className=\"flex gap-2 flex-wrap\">\n                            {isEditing ? (\n                              <>\n                                <Button\n                                  onClick={() => {\n                                    updateSuggestion(suggestion.id, { editedText });\n                                    setEditingId(null);\n                                  }}\n                                  size=\"sm\"\n                                  className=\"bg-green-600 hover:bg-green-700\"\n                                >\n                                  <Save className=\"h-4 w-4 mr-1\" />\n                                  Spara redigering\n                                </Button>\n                                <Button\n                                  onClick={() => {\n                                    setEditingId(null);\n                                    setEditedText('');\n                                  }}\n                                  size=\"sm\"\n                                  variant=\"outline\"\n                                >\n                                  <X className=\"h-4 w-4 mr-1\" />\n                                  Avbryt\n                                </Button>\n                              </>\n                            ) : (\n                              <>\n                                <Button\n                                  onClick={() => {\n                                    setEditingId(suggestion.id);\n                                    setEditedText(displayText);\n                                  }}\n                                  disabled={suggestion.status === 'applied'}\n                                  size=\"sm\"\n                                  variant=\"default\"\n                                >\n                                  <Edit className=\"h-4 w-4 mr-1\" />\n                                  Redigera\n                                </Button>\n                                <Button\n                                  onClick={() => copyToClipboard(displayText, suggestion.id)}\n                                  size=\"sm\"\n                                  variant=\"secondary\"\n                                >\n                                  {copySuccess === suggestion.id ? (\n                                    <>\n                                      <Check className=\"h-4 w-4 mr-1\" />\n                                      Kopierad!\n                                    </>\n                                  ) : (\n                                    <>\n                                      <Copy className=\"h-4 w-4 mr-1\" />\n                                      Kopiera\n                                    </>\n                                  )}\n                                </Button>\n                                <Button\n                                  onClick={() => updateSuggestion(suggestion.id, { status: 'applied' })}\n                                  disabled={suggestion.status === 'applied'}\n                                  size=\"sm\"\n                                  className=\"bg-green-600 hover:bg-green-700\"\n                                >\n                                  <Check className=\"h-4 w-4 mr-1\" />\n                                  Tillmpa\n                                </Button>\n                                <Button\n                                  onClick={() => updateSuggestion(suggestion.id, { status: 'dismissed' })}\n                                  disabled={suggestion.status === 'dismissed'}\n                                  size=\"sm\"\n                                  variant=\"destructive\"\n                                >\n                                  <X className=\"h-4 w-4 mr-1\" />\n                                  Avfrda\n                                </Button>\n                              </>\n                            )}\n                          </div>\n\n                          {/* Applied timestamp */}\n                          {suggestion.applied_at && (\n                            <div className=\"mt-3 text-xs text-muted-foreground\">\n                              Tillmpades: {new Date(suggestion.applied_at).toLocaleDateString('sv-SE', { year: 'numeric', month: '2-digit', day: '2-digit' }).replace(/-/g, '/')}\n                            </div>\n                          )}\n                        </div>\n                      );\n                    })}\n                  </div>\n                </CardContent>\n              </Card>\n            );\n          })}\n        </div>\n      )}\n\n      {/* Empty State */}\n      {!loading && suggestions.length === 0 && selectedUrl && (\n        <Card>\n          <CardContent className=\"py-12 text-center\">\n            <i className=\"bi bi-lightbulb text-6xl text-muted-foreground mb-4 d-block\"></i>\n            <h3 className=\"text-xl font-semibold mb-2\">Inga frslag n</h3>\n            <p className=\"text-muted-foreground mb-6\">\n              Generera textfrslag fr denna sida genom att klicka p knappen ovan.\n            </p>\n          </CardContent>\n        </Card>\n      )}\n    </div>\n  );\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { XIcon } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Dialog({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Root>) {\n  return <DialogPrimitive.Root data-slot=\"dialog\" {...props} />\n}\n\nfunction DialogTrigger({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Trigger>) {\n  return <DialogPrimitive.Trigger data-slot=\"dialog-trigger\" {...props} />\n}\n\nfunction DialogPortal({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Portal>) {\n  return <DialogPrimitive.Portal data-slot=\"dialog-portal\" {...props} />\n}\n\nfunction DialogClose({\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Close>) {\n  return <DialogPrimitive.Close data-slot=\"dialog-close\" {...props} />\n}\n\nfunction DialogOverlay({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Overlay>) {\n  return (\n    <DialogPrimitive.Overlay\n      data-slot=\"dialog-overlay\"\n      className={cn(\n        \"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogContent({\n  className,\n  children,\n  showCloseButton = true,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Content> & {\n  showCloseButton?: boolean\n}) {\n  return (\n    <DialogPortal data-slot=\"dialog-portal\">\n      <DialogOverlay />\n      <DialogPrimitive.Content\n        data-slot=\"dialog-content\"\n        className={cn(\n          \"bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg\",\n          className\n        )}\n        {...props}\n      >\n        {children}\n        {showCloseButton && (\n          <DialogPrimitive.Close\n            data-slot=\"dialog-close\"\n            className=\"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4\"\n          >\n            <XIcon />\n            <span className=\"sr-only\">Close</span>\n          </DialogPrimitive.Close>\n        )}\n      </DialogPrimitive.Content>\n    </DialogPortal>\n  )\n}\n\nfunction DialogHeader({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-header\"\n      className={cn(\"flex flex-col gap-2 text-center sm:text-left\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogFooter({ className, ...props }: React.ComponentProps<\"div\">) {\n  return (\n    <div\n      data-slot=\"dialog-footer\"\n      className={cn(\n        \"flex flex-col-reverse gap-2 sm:flex-row sm:justify-end\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction DialogTitle({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Title>) {\n  return (\n    <DialogPrimitive.Title\n      data-slot=\"dialog-title\"\n      className={cn(\"text-lg leading-none font-semibold\", className)}\n      {...props}\n    />\n  )\n}\n\nfunction DialogDescription({\n  className,\n  ...props\n}: React.ComponentProps<typeof DialogPrimitive.Description>) {\n  return (\n    <DialogPrimitive.Description\n      data-slot=\"dialog-description\"\n      className={cn(\"text-muted-foreground text-sm\", className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Dialog,\n  DialogClose,\n  DialogContent,\n  DialogDescription,\n  DialogFooter,\n  DialogHeader,\n  DialogOverlay,\n  DialogPortal,\n  DialogTitle,\n  DialogTrigger,\n}\n","\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Progress({\n  className,\n  value,\n  ...props\n}: React.ComponentProps<typeof ProgressPrimitive.Root>) {\n  return (\n    <ProgressPrimitive.Root\n      data-slot=\"progress\"\n      className={cn(\n        \"bg-primary/20 relative h-2 w-full overflow-hidden rounded-full\",\n        className\n      )}\n      {...props}\n    >\n      <ProgressPrimitive.Indicator\n        data-slot=\"progress-indicator\"\n        className=\"bg-primary h-full w-full flex-1 transition-all\"\n        style={{ transform: `translateX(-${100 - (value || 0)}%)` }}\n      />\n    </ProgressPrimitive.Root>\n  )\n}\n\nexport { Progress }\n","// Supabase Client Setup\n// Konfigurerar Supabase client fr server-side anvndning\n\nimport { createClient } from '@supabase/supabase-js';\nimport type { Database } from './types';\n\n// Hmta env-variabler utan att kasta vid import (undviker build-fel)\nconst SUPABASE_URL = process.env.NEXT_PUBLIC_SUPABASE_URL || '';\nconst SUPABASE_SERVICE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY || '';\n\n// Skapa Supabase client med service role (full access)\nexport const supabase: any = createClient<Database>(\n  SUPABASE_URL,\n  SUPABASE_SERVICE_KEY,\n  {\n    auth: {\n      autoRefreshToken: false,\n      persistSession: false,\n    },\n  }\n);\n\n// Anon client fr UI (med RLS)\nexport function createAnonClient() {\n  const url = process.env.NEXT_PUBLIC_SUPABASE_URL || '';\n  const anon = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || '';\n\n  return createClient<Database>(url, anon);\n}\n","// Database Operations\n// CRUD operationer och queries fr SEO-agenten\n\nimport { supabase } from './supabase';\nimport type { Database } from './types';\n\ntype PageRow = Database['public']['Tables']['pages']['Row'];\ntype PageInsert = Database['public']['Tables']['pages']['Insert'];\ntype PageUpdate = Database['public']['Tables']['pages']['Update'];\ntype RunRow = Database['public']['Tables']['runs']['Row'];\ntype RunInsert = Database['public']['Tables']['runs']['Insert'];\ntype AuditInsert = Database['public']['Tables']['audits']['Insert'];\ntype AuditRow = Database['public']['Tables']['audits']['Row'];\ntype SuggestionInsert = Database['public']['Tables']['suggestions']['Insert'];\ntype SuggestionRow = Database['public']['Tables']['suggestions']['Row'];\ntype GSCDailyInsert = Database['public']['Tables']['gsc_daily']['Insert'];\n\n// ============================================================================\n// RUNS\n// ============================================================================\n\n/**\n * Skapar en ny run\n */\nexport async function createRun(): Promise<number> {\n  // Cast to any to avoid TS type narrowing issues when Database types are out of sync\n  const { data, error } = await (supabase as any)\n    .from('runs')\n    .insert({\n      started_at: new Date().toISOString(),\n      status: 'running',\n    })\n    .select('run_id')\n    .single();\n\n  if (error) throw new Error(`Failed to create run: ${error.message}`);\n  return data.run_id;\n}\n\n/**\n * Uppdaterar en run med resultat\n */\nexport async function updateRun(\n  runId: number,\n  update: {\n    finished_at?: string;\n    pages_checked?: number;\n    avg_score?: number;\n    status?: string;\n    error_message?: string;\n  }\n): Promise<void> {\n  const { error } = await (supabase as any)\n    .from('runs')\n    .update(update)\n    .eq('run_id', runId);\n\n  if (error) throw new Error(`Failed to update run: ${error.message}`);\n}\n\n/**\n * Hmtar senaste runs\n */\nexport async function getRecentRuns(limit = 10): Promise<RunRow[]> {\n  const { data, error } = await supabase\n    .from('runs')\n    .select('*')\n    .order('started_at', { ascending: false })\n    .limit(limit);\n\n  if (error) throw new Error(`Failed to fetch runs: ${error.message}`);\n  return data || [];\n}\n\n// ============================================================================\n// PAGES\n// ============================================================================\n\n/**\n * Upsertar en page (insert eller update om URL finns)\n */\nexport async function upsertPage(page: PageInsert): Promise<void> {\n  const { error } = await supabase\n    .from('pages')\n    .upsert(page, { onConflict: 'url' });\n\n  if (error) throw new Error(`Failed to upsert page: ${error.message}`);\n}\n\n/**\n * Uppdaterar senaste mtvrden fr en page\n */\nexport async function updatePageMetrics(\n  url: string,\n  metrics: {\n    senaste_score: number;\n    senaste_lcp?: number;\n    senaste_cls?: number;\n    senaste_inp?: number;\n    last_seen_at?: string;\n  }\n): Promise<void> {\n  const { error } = await supabase\n    .from('pages')\n    .update({\n      ...metrics,\n      last_seen_at: metrics.last_seen_at || new Date().toISOString(),\n      updated_at: new Date().toISOString(),\n    })\n    .eq('url', url);\n\n  if (error) throw new Error(`Failed to update page metrics: ${error.message}`);\n}\n\n/**\n * Hmtar alla pages\n */\nexport async function getAllPages(): Promise<PageRow[]> {\n  const { data, error } = await supabase\n    .from('pages')\n    .select('*')\n    .order('updated_at', { ascending: false });\n\n  if (error) throw new Error(`Failed to fetch pages: ${error.message}`);\n  return data || [];\n}\n\n/**\n * Hmtar en page via URL\n */\nexport async function getPageByUrl(url: string): Promise<PageRow | null> {\n  const { data, error } = await supabase\n    .from('pages')\n    .select('*')\n    .eq('url', url)\n    .single();\n\n  if (error) {\n    if (error.code === 'PGRST116') return null; // Not found\n    throw new Error(`Failed to fetch page: ${error.message}`);\n  }\n  return data;\n}\n\n/**\n * Hmtar pages med dlig score (under threshold)\n */\nexport async function getPagesWithLowScore(threshold = 50): Promise<PageRow[]> {\n  const { data, error } = await supabase\n    .from('pages')\n    .select('*')\n    .lt('senaste_score', threshold)\n    .order('senaste_score', { ascending: true });\n\n  if (error) throw new Error(`Failed to fetch low score pages: ${error.message}`);\n  return data || [];\n}\n\n// ============================================================================\n// AUDITS\n// ============================================================================\n\n/**\n * Skapar en ny audit\n */\nexport async function createAudit(audit: AuditInsert): Promise<number> {\n  const { data, error } = await supabase\n    .from('audits')\n    .insert(audit)\n    .select('audit_id')\n    .single();\n\n  if (error) {\n    // Kolla fr duplicate (idempotens)\n    if (error.code === '23505') {\n      throw new Error(`Audit already exists for URL in this run`);\n    }\n    throw new Error(`Failed to create audit: ${error.message}`);\n  }\n\n  return data.audit_id;\n}\n\n/**\n * Hmtar audits fr en specifik run\n */\nexport async function getAuditsByRun(runId: number): Promise<AuditRow[]> {\n  const { data, error } = await supabase\n    .from('audits')\n    .select('*')\n    .eq('run_id', runId)\n    .order('score', { ascending: true });\n\n  if (error) throw new Error(`Failed to fetch audits: ${error.message}`);\n  return data || [];\n}\n\n/**\n * Hmtar audits fr en specifik URL\n */\nexport async function getAuditsByUrl(url: string, limit = 10): Promise<AuditRow[]> {\n  const { data, error } = await supabase\n    .from('audits')\n    .select('*')\n    .eq('url', url)\n    .order('created_at', { ascending: false })\n    .limit(limit);\n\n  if (error) throw new Error(`Failed to fetch audits for URL: ${error.message}`);\n  return data || [];\n}\n\n/**\n * Hmtar senaste audit fr varje URL (frn materialiserad vy)\n */\nexport async function getLatestAudits(): Promise<any[]> {\n  const { data, error } = await supabase\n    .from('latest_audits')\n    .select('*')\n    .order('score', { ascending: true });\n\n  if (error) throw new Error(`Failed to fetch latest audits: ${error.message}`);\n  return data || [];\n}\n\n/**\n * Hmtar smsta sidor senaste veckan (frn materialiserad vy)\n */\nexport async function getWorstPagesWeek(): Promise<any[]> {\n  const { data, error } = await supabase\n    .from('worst_pages_week')\n    .select('*')\n    .limit(20);\n\n  if (error) throw new Error(`Failed to fetch worst pages: ${error.message}`);\n  return data || [];\n}\n\n// ============================================================================\n// SUGGESTIONS\n// ============================================================================\n\n/**\n * Skapar ett nytt frslag\n */\nexport async function createSuggestion(suggestion: SuggestionInsert): Promise<number> {\n  const { data, error } = await supabase\n    .from('suggestions')\n    .insert(suggestion)\n    .select('suggestion_id')\n    .single();\n\n  if (error) throw new Error(`Failed to create suggestion: ${error.message}`);\n  return data.suggestion_id;\n}\n\n/**\n * Uppdaterar status p ett frslag\n */\nexport async function updateSuggestionStatus(\n  suggestionId: number,\n  status: 'pending' | 'in_progress' | 'completed' | 'dismissed'\n): Promise<void> {\n  const { error } = await supabase\n    .from('suggestions')\n    .update({\n      status,\n      updated_at: new Date().toISOString(),\n    })\n    .eq('suggestion_id', suggestionId);\n\n  if (error) throw new Error(`Failed to update suggestion: ${error.message}`);\n}\n\n/**\n * Hmtar suggestions filtrerade p status och impact\n */\nexport async function getSuggestions(filters?: {\n  status?: string;\n  impact?: string;\n  url?: string;\n}): Promise<SuggestionRow[]> {\n  let query = supabase\n    .from('suggestions')\n    .select('*')\n    .order('created_at', { ascending: false });\n\n  if (filters?.status) {\n    query = query.eq('status', filters.status);\n  }\n\n  if (filters?.impact) {\n    query = query.eq('impact', filters.impact);\n  }\n\n  if (filters?.url) {\n    query = query.eq('url', filters.url);\n  }\n\n  const { data, error } = await query;\n\n  if (error) throw new Error(`Failed to fetch suggestions: ${error.message}`);\n  return data || [];\n}\n\n/**\n * Hmtar topp 5 frslag per impact\n */\nexport async function getTopSuggestions(): Promise<{\n  high: SuggestionRow[];\n  medium: SuggestionRow[];\n  low: SuggestionRow[];\n}> {\n  const [high, medium, low] = await Promise.all([\n    getSuggestions({ impact: 'high', status: 'pending' }),\n    getSuggestions({ impact: 'medium', status: 'pending' }),\n    getSuggestions({ impact: 'low', status: 'pending' }),\n  ]);\n\n  return {\n    high: high.slice(0, 5),\n    medium: medium.slice(0, 5),\n    low: low.slice(0, 5),\n  };\n}\n\n// ============================================================================\n// GSC DAILY\n// ============================================================================\n\n/**\n * Upsertar GSC daily data\n */\nexport async function upsertGSCDaily(data: GSCDailyInsert): Promise<void> {\n  const { error } = await supabase\n    .from('gsc_daily')\n    .upsert(data, { onConflict: 'url,date' });\n\n  if (error) throw new Error(`Failed to upsert GSC data: ${error.message}`);\n}\n\n/**\n * Batch insert GSC daily data\n */\nexport async function batchInsertGSCDaily(data: GSCDailyInsert[]): Promise<void> {\n  const { error } = await supabase\n    .from('gsc_daily')\n    .upsert(data, { onConflict: 'url,date' });\n\n  if (error) throw new Error(`Failed to batch insert GSC data: ${error.message}`);\n}\n\n/**\n * Hmtar GSC data fr en URL\n */\nexport async function getGSCDataByUrl(url: string, days = 30): Promise<any[]> {\n  const startDate = new Date();\n  startDate.setDate(startDate.getDate() - days);\n\n  const { data, error } = await supabase\n    .from('gsc_daily')\n    .select('*')\n    .eq('url', url)\n    .gte('date', startDate.toISOString().split('T')[0])\n    .order('date', { ascending: false });\n\n  if (error) throw new Error(`Failed to fetch GSC data: ${error.message}`);\n  return data || [];\n}\n\n// ============================================================================\n// AI ANALYSIS HISTORY\n// ============================================================================\n\n/**\n * Sparar AI-analys historik\n */\nexport async function createAIAnalysis(analysis: {\n  page_id: number;\n  run_id?: number;\n  analysis_type?: string;\n  ai_summary: string;\n  ai_score: number;\n  suggestions_count: number;\n  used_gsc_data?: boolean;\n  used_analytics_data?: boolean;\n  used_psi_data?: boolean;\n  title_suggestions?: unknown;\n  meta_suggestions?: unknown;\n  faq_suggestions?: unknown;\n  content_outline?: unknown;\n  keywords?: unknown;\n  full_response?: unknown;\n  model_used?: string;\n  tokens_used?: number;\n  analysis_duration_ms?: number;\n}): Promise<number> {\n  const { data, error } = await (supabase as any)\n    .from('ai_analysis_history')\n    .insert(analysis)\n    .select('id')\n    .single();\n\n  if (error) throw new Error(`Failed to create AI analysis: ${error.message}`);\n  return data.id;\n}\n\n/**\n * Hmtar AI-analyser fr en sida\n */\nexport async function getAIAnalysesByPageId(pageId: number, limit = 10): Promise<any[]> {\n  const { data, error } = await supabase\n    .from('ai_analysis_history')\n    .select('*')\n    .eq('page_id', pageId)\n    .order('created_at', { ascending: false })\n    .limit(limit);\n\n  if (error) throw new Error(`Failed to fetch AI analyses: ${error.message}`);\n  return data || [];\n}\n\n// ============================================================================\n// SEO TASKS (TODO-SYSTEM)\n// ============================================================================\n\n/**\n * Skapar en ny SEO task\n */\nexport async function createTask(task: {\n  page_id: number;\n  suggestion_id?: number;\n  title: string;\n  description?: string;\n  task_type?: string;\n  priority?: 'high' | 'medium' | 'low';\n  status?: 'todo' | 'in_progress' | 'done' | 'skipped';\n  ai_generated?: boolean;\n  expected_impact?: string;\n  effort_estimate?: string;\n  assigned_to?: string;\n  due_date?: string;\n  notes?: string;\n}): Promise<number> {\n  const { data, error } = await (supabase as any)\n    .from('seo_tasks')\n    .insert(task)\n    .select('id')\n    .single();\n\n  if (error) throw new Error(`Failed to create task: ${error.message}`);\n  return data.id;\n}\n\n/**\n * Uppdaterar en task\n */\nexport async function updateTask(\n  taskId: number,\n  update: {\n    status?: string;\n    assigned_to?: string;\n    completed_at?: string;\n    completed_by?: string;\n    notes?: string;\n  }\n): Promise<void> {\n  const { error } = await supabase\n    .from('seo_tasks')\n    .update(update)\n    .eq('id', taskId);\n\n  if (error) throw new Error(`Failed to update task: ${error.message}`);\n}\n\n/**\n * Hmtar tasks fr en sida\n */\nexport async function getTasksByPageId(pageId: number): Promise<any[]> {\n  const { data, error } = await supabase\n    .from('seo_tasks')\n    .select('*')\n    .eq('page_id', pageId)\n    .order('priority', { ascending: true })\n    .order('created_at', { ascending: false });\n\n  if (error) throw new Error(`Failed to fetch tasks: ${error.message}`);\n  return data || [];\n}\n\n/**\n * Hmtar alla aktiva tasks (denna veckans prioriterade)\n */\nexport async function getActiveTasksThisWeek(): Promise<any[]> {\n  // Try the view first\n  const { data, error } = await supabase\n    .from('this_week_priority_tasks')\n    .select('*');\n\n  // If view doesn't exist or has issues, fallback to direct query\n  if (error) {\n    console.warn('View this_week_priority_tasks not available, using fallback query:', error.message);\n\n    // Fallback: query seo_tasks directly\n    const { data: fallbackData, error: fallbackError } = await supabase\n      .from('seo_tasks')\n      .select('*')\n      .in('status', ['todo', 'in_progress'])\n      .order('priority', { ascending: true })\n      .order('created_at', { ascending: false });\n\n    if (fallbackError) {\n      throw new Error(`Failed to fetch tasks: ${fallbackError.message}`);\n    }\n    return fallbackData || [];\n  }\n\n  return data || [];\n}\n\n/**\n * Hmtar pending AI-suggestions som inte r tasks n\n */\nexport async function getPendingAISuggestions(): Promise<any[]> {\n  // Try the view first\n  const { data, error } = await supabase\n    .from('pending_ai_suggestions')\n    .select('*');\n\n  // If view doesn't exist, fallback to direct query\n  if (error) {\n    console.warn('View pending_ai_suggestions not available, using fallback query:', error.message);\n\n    // Fallback: query suggestions directly\n    const { data: fallbackData, error: fallbackError } = await supabase\n      .from('suggestions')\n      .select('*')\n      .eq('ai_generated', true)\n      .eq('status', 'pending')\n      .order('created_at', { ascending: false });\n\n    if (fallbackError) {\n      throw new Error(`Failed to fetch suggestions: ${fallbackError.message}`);\n    }\n    return fallbackData || [];\n  }\n\n  return data || [];\n}\n\n// ============================================================================\n// CONTENT VERSIONS\n// ============================================================================\n\n/**\n * Sparar en content version (fre/efter ndring)\n */\nexport async function createContentVersion(version: {\n  page_id: number;\n  task_id?: number;\n  version_number: number;\n  version_type: string;\n  previous_value?: string;\n  new_value: string;\n  changed_by?: string;\n  change_reason?: string;\n  ai_suggested?: boolean;\n  previous_metrics?: unknown;\n  notes?: string;\n}): Promise<number> {\n  const { data, error } = await (supabase as any)\n    .from('content_versions')\n    .insert(version)\n    .select('id')\n    .single();\n\n  if (error) throw new Error(`Failed to create content version: ${error.message}`);\n  return data.id;\n}\n\n/**\n * Hmtar content versions fr en sida\n */\nexport async function getContentVersionsByPageId(pageId: number): Promise<any[]> {\n  const { data, error } = await supabase\n    .from('content_versions')\n    .select('*')\n    .eq('page_id', pageId)\n    .order('implemented_at', { ascending: false });\n\n  if (error) throw new Error(`Failed to fetch content versions: ${error.message}`);\n  return data || [];\n}\n\n// ============================================================================\n// UTILITIES\n// ============================================================================\n\n/**\n * Refreshar materialiserade vyer\n */\nexport async function refreshMaterializedViews(): Promise<void> {\n  const { error } = await supabase.rpc('refresh_materialized_views');\n\n  if (error) throw new Error(`Failed to refresh views: ${error.message}`);\n}\n\n/**\n * Kr retention cleanup\n */\nexport async function runRetentionCleanup(): Promise<any> {\n  const { data, error } = await supabase.rpc('run_retention_cleanup');\n\n  if (error) throw new Error(`Failed to run retention cleanup: ${error.message}`);\n  return data;\n}\n","// OpenAI Client - AI-driven SEO Analysis\r\n// Hjrnan i SEO-manager systemet\r\n\r\nimport OpenAI from 'openai';\r\nimport type { GSCPageData } from '../mcp/gsc-top-queries';\r\n\r\n// Initialisera OpenAI klient\r\nconst openai = new OpenAI({\r\n  apiKey: process.env.OPENAI_API_KEY || '',\r\n});\r\n\r\nexport interface SEOAnalysisInput {\r\n  url: string;\r\n  currentTitle?: string;\r\n  currentMetaDescription?: string;\r\n  currentH1?: string;\r\n  contentLength?: number;\r\n  gscData?: GSCPageData;\r\n  psiScore?: number;\r\n  psiMetrics?: {\r\n    fcp?: number;\r\n    lcp?: number;\r\n    cls?: number;\r\n    tbt?: number;\r\n  };\r\n  competitors?: string[];\r\n  language?: string;\r\n}\r\n\r\nexport interface SEOSuggestion {\r\n  type: 'title' | 'meta_description' | 'h1' | 'content' | 'faq' | 'schema' | 'performance';\r\n  priority: 'high' | 'medium' | 'low';\r\n  category: string;\r\n  suggestion: string;\r\n  reasoning: string;\r\n  expectedImpact: string;\r\n  implementation?: string;\r\n}\r\n\r\nexport interface AIAnalysisResult {\r\n  summary: string;\r\n  score: number; // 0-100\r\n  suggestions: SEOSuggestion[];\r\n  titleSuggestions: string[];\r\n  metaDescriptionSuggestions: string[];\r\n  faqSuggestions?: {\r\n    question: string;\r\n    answer: string;\r\n  }[];\r\n  contentOutline?: string[];\r\n  keywords: {\r\n    primary: string[];\r\n    secondary: string[];\r\n    longTail: string[];\r\n  };\r\n}\r\n\r\n/**\r\n * Genererar en omfattande SEO-analys med AI\r\n */\r\nexport async function analyzePageWithAI(\r\n  input: SEOAnalysisInput\r\n): Promise<AIAnalysisResult> {\r\n  // Kolla om API-nyckel finns\r\n  if (!process.env.OPENAI_API_KEY) {\r\n    throw new Error('OPENAI_API_KEY saknas i environment variables');\r\n  }\r\n\r\n  const systemPrompt = `Du r en expert SEO-konsult som analyserar webbsidor och ger konkreta, prioriterade frbttringsfrslag.\r\n\r\nDin uppgift:\r\n1. Analysera sidans nuvarande SEO-status\r\n2. Identifiera frbttringsmjligheter baserat p GSC-data (klick, impressions, CTR, position)\r\n3. Ge konkreta, implementerbara frslag\r\n4. Prioritera baserat p frvntad effekt\r\n\r\nFokusera p:\r\n- Title och meta description optimering fr hgre CTR\r\n- Content-kvalitet och relevans\r\n- Anvndarintention och skbeteende\r\n- Teknisk SEO (om performance-data finns)\r\n- Strukturerad data (FAQ, schema.org)\r\n\r\nSvara alltid p svenska med konkreta exempel.`;\r\n\r\n  const userPrompt = buildAnalysisPrompt(input);\r\n\r\n  try {\r\n    const completion = await openai.chat.completions.create({\r\n      model: 'gpt-4o',\r\n      messages: [\r\n        { role: 'system', content: systemPrompt },\r\n        { role: 'user', content: userPrompt },\r\n      ],\r\n      temperature: 0.7,\r\n      response_format: { type: 'json_object' },\r\n    });\r\n\r\n    const result = completion.choices[0].message.content;\r\n    if (!result) {\r\n      throw new Error('Ingen respons frn OpenAI');\r\n    }\r\n\r\n    const parsed = JSON.parse(result) as AIAnalysisResult;\r\n    return parsed;\r\n  } catch (error) {\r\n    console.error('[OpenAI] Analysis error:', error);\r\n    throw new Error(\r\n      `AI-analys misslyckades: ${error instanceof Error ? error.message : 'Unknown error'}`\r\n    );\r\n  }\r\n}\r\n\r\n/**\r\n * Bygger prompten fr AI-analysen\r\n */\r\nfunction buildAnalysisPrompt(input: SEOAnalysisInput): string {\r\n  let prompt = `Analysera fljande webbsida och ge konkreta SEO-frbttringar:\\n\\n`;\r\n  prompt += `URL: ${input.url}\\n`;\r\n  prompt += `Sprk: ${input.language || 'svenska'}\\n\\n`;\r\n\r\n  // Nuvarande SEO-data\r\n  if (input.currentTitle) {\r\n    prompt += `Nuvarande title: \"${input.currentTitle}\"\\n`;\r\n  }\r\n  if (input.currentMetaDescription) {\r\n    prompt += `Nuvarande meta description: \"${input.currentMetaDescription}\"\\n`;\r\n  }\r\n  if (input.currentH1) {\r\n    prompt += `Nuvarande H1: \"${input.currentH1}\"\\n`;\r\n  }\r\n  if (input.contentLength) {\r\n    prompt += `Content-lngd: ${input.contentLength} tecken\\n`;\r\n  }\r\n  prompt += '\\n';\r\n\r\n  // Google Search Console data\r\n  if (input.gscData) {\r\n    prompt += `Google Search Console data:\\n`;\r\n    prompt += `- Klick: ${input.gscData.clicks}\\n`;\r\n    prompt += `- Impressions: ${input.gscData.impressions}\\n`;\r\n    prompt += `- CTR: ${(input.gscData.ctr * 100).toFixed(2)}%\\n`;\r\n    prompt += `- Genomsnittlig position: ${input.gscData.position.toFixed(1)}\\n\\n`;\r\n\r\n    if (input.gscData.topQueries && input.gscData.topQueries.length > 0) {\r\n      prompt += `Top queries:\\n`;\r\n      input.gscData.topQueries.slice(0, 10).forEach((q, i) => {\r\n        prompt += `${i + 1}. \"${q.query}\" - ${q.clicks} klick, pos ${q.position.toFixed(1)}, CTR ${(q.ctr * 100).toFixed(1)}%\\n`;\r\n      });\r\n      prompt += '\\n';\r\n    }\r\n  }\r\n\r\n  // PageSpeed Insights data\r\n  if (input.psiScore !== undefined) {\r\n    prompt += `PageSpeed Insights:\\n`;\r\n    prompt += `- Performance score: ${input.psiScore}/100\\n`;\r\n    if (input.psiMetrics) {\r\n      if (input.psiMetrics.lcp) prompt += `- LCP: ${input.psiMetrics.lcp}s\\n`;\r\n      if (input.psiMetrics.fcp) prompt += `- FCP: ${input.psiMetrics.fcp}s\\n`;\r\n      if (input.psiMetrics.cls) prompt += `- CLS: ${input.psiMetrics.cls}\\n`;\r\n      if (input.psiMetrics.tbt) prompt += `- TBT: ${input.psiMetrics.tbt}ms\\n`;\r\n    }\r\n    prompt += '\\n';\r\n  }\r\n\r\n  prompt += `Ge mig ett JSON-svar med fljande struktur:\r\n{\r\n  \"summary\": \"Kort sammanfattning av sidans SEO-status (2-3 meningar)\",\r\n  \"score\": 75,\r\n  \"suggestions\": [\r\n    {\r\n      \"type\": \"title\",\r\n      \"priority\": \"high\",\r\n      \"category\": \"On-page SEO\",\r\n      \"suggestion\": \"Konkret frslag\",\r\n      \"reasoning\": \"Varfr detta r viktigt\",\r\n      \"expectedImpact\": \"Frvntad effekt (t.ex. '+15% CTR', 'Bttre ranking')\",\r\n      \"implementation\": \"Hur man implementerar (valfritt)\"\r\n    }\r\n  ],\r\n  \"titleSuggestions\": [\"Frslag 1\", \"Frslag 2\", \"Frslag 3\"],\r\n  \"metaDescriptionSuggestions\": [\"Frslag 1\", \"Frslag 2\"],\r\n  \"faqSuggestions\": [\r\n    {\r\n      \"question\": \"Vanlig frga baserad p skord\",\r\n      \"answer\": \"Kort, informativt svar\"\r\n    }\r\n  ],\r\n  \"contentOutline\": [\"Rubrik 1\", \"Rubrik 2\", \"Rubrik 3\"],\r\n  \"keywords\": {\r\n    \"primary\": [\"huvudskord\"],\r\n    \"secondary\": [\"relaterade skord\"],\r\n    \"longTail\": [\"long-tail varianter\"]\r\n  }\r\n}\r\n\r\nPrioritera frslag baserat p:\r\n1. GSC-data (lg CTR men mnga impressions = fokusera p title/meta)\r\n2. Position (nra topp 10 = sm ndringar kan ge stor effekt)\r\n3. Performance (lngsam sida = tekniska frbttringar viktiga)\r\n\r\nGe minst 5 konkreta suggestions.`;\r\n\r\n  return prompt;\r\n}\r\n\r\n/**\r\n * Genererar content-optimeringsfrslag\r\n */\r\nexport async function generateContentSuggestions(\r\n  url: string,\r\n  currentContent: string,\r\n  targetKeywords: string[]\r\n): Promise<{\r\n  outline: string[];\r\n  sections: { heading: string; content: string }[];\r\n  internalLinkSuggestions: string[];\r\n}> {\r\n  // Kolla om API-nyckel finns\r\n  if (!process.env.OPENAI_API_KEY) {\r\n    throw new Error('OPENAI_API_KEY saknas i environment variables');\r\n  }\r\n\r\n  const prompt = `Analysera fljande content och ge frbttringsfrslag fr SEO:\r\n\r\nURL: ${url}\r\nTarget keywords: ${targetKeywords.join(', ')}\r\n\r\nNuvarande content (frsta 500 tecken):\r\n${currentContent.slice(0, 500)}\r\n\r\nGe mig ett JSON-svar med:\r\n{\r\n  \"outline\": [\"Freslagen struktur med rubriker\"],\r\n  \"sections\": [\r\n    {\r\n      \"heading\": \"H2-rubrik\",\r\n      \"content\": \"Frslag p textinnehll (2-3 stycken)\"\r\n    }\r\n  ],\r\n  \"internalLinkSuggestions\": [\"Frslag p interna lnkar baserat p keywords\"]\r\n}`;\r\n\r\n  try {\r\n    const completion = await openai.chat.completions.create({\r\n      model: 'gpt-4o',\r\n      messages: [\r\n        {\r\n          role: 'system',\r\n          content: 'Du r en SEO content-expert som optimerar text fr skord och anvndarupplevelse.',\r\n        },\r\n        { role: 'user', content: prompt },\r\n      ],\r\n      temperature: 0.8,\r\n      response_format: { type: 'json_object' },\r\n    });\r\n\r\n    const result = completion.choices[0].message.content;\r\n    if (!result) {\r\n      throw new Error('Ingen respons frn OpenAI');\r\n    }\r\n\r\n    return JSON.parse(result);\r\n  } catch (error) {\r\n    console.error('[OpenAI] Content generation error:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\n/**\r\n * Genererar schema.org markup\r\n */\r\nexport async function generateSchemaMarkup(\r\n  pageType: 'article' | 'product' | 'faq' | 'local-business',\r\n  pageData: Record<string, unknown>\r\n): Promise<Record<string, unknown>> {\r\n  const prompt = `Generera schema.org JSON-LD markup fr fljande:\r\n\r\nPage type: ${pageType}\r\nData: ${JSON.stringify(pageData, null, 2)}\r\n\r\nGe endast valid JSON-LD enligt schema.org spec.`;\r\n\r\n  try {\r\n    const completion = await openai.chat.completions.create({\r\n      model: 'gpt-4o',\r\n      messages: [\r\n        {\r\n          role: 'system',\r\n          content: 'Du r en expert p strukturerad data och schema.org markup.',\r\n        },\r\n        { role: 'user', content: prompt },\r\n      ],\r\n      temperature: 0.3,\r\n      response_format: { type: 'json_object' },\r\n    });\r\n\r\n    const result = completion.choices[0].message.content;\r\n    if (!result) {\r\n      throw new Error('Ingen respons frn OpenAI');\r\n    }\r\n\r\n    return JSON.parse(result);\r\n  } catch (error) {\r\n    console.error('[OpenAI] Schema generation error:', error);\r\n    throw error;\r\n  }\r\n}\r\n","// fetch_url - MCP verktyg fr att hmta HTML frn en URL\n// Anvnds fr on-page SEO analys\n\nimport axios, { AxiosError } from 'axios';\n\nexport interface FetchUrlOptions {\n  url: string;\n  timeout?: number; // i millisekunder\n  userAgent?: string;\n}\n\nexport interface FetchUrlResult {\n  success: boolean;\n  url: string;\n  html?: string;\n  statusCode?: number;\n  error?: string;\n  redirectUrl?: string;\n  contentType?: string;\n}\n\n/**\n * Hmtar HTML innehll frn en URL\n * @param options - URL och optionella instllningar\n * @returns Resultat med HTML eller felmeddelande\n */\nexport async function fetchUrl(options: FetchUrlOptions): Promise<FetchUrlResult> {\n  const {\n    url,\n    timeout = 30000,\n    userAgent = 'SEO-Agent/1.0 (+https://yoursite.com/bot)',\n  } = options;\n\n  try {\n    // Validera URL format\n    const urlObj = new URL(url);\n    if (!['http:', 'https:'].includes(urlObj.protocol)) {\n      return {\n        success: false,\n        url,\n        error: 'Only HTTP and HTTPS protocols are supported',\n      };\n    }\n\n    // Gr HTTP request\n    const response = await axios.get(url, {\n      timeout,\n      headers: {\n        'User-Agent': userAgent,\n        'Accept': 'text/html,application/xhtml+xml',\n      },\n      maxRedirects: 5,\n      validateStatus: (status) => status < 500, // Acceptera alla statuskoder under 500\n    });\n\n    // Kontrollera om det r HTML\n    const contentType = response.headers['content-type'] || '';\n    const isHtml = contentType.includes('text/html') || contentType.includes('application/xhtml');\n\n    if (!isHtml) {\n      return {\n        success: false,\n        url,\n        statusCode: response.status,\n        contentType,\n        error: `Content-Type is not HTML: ${contentType}`,\n      };\n    }\n\n    // Success!\n    return {\n      success: true,\n      url,\n      html: response.data,\n      statusCode: response.status,\n      contentType,\n      redirectUrl: response.request?.res?.responseUrl || url,\n    };\n\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      const axiosError = error as AxiosError;\n\n      if (axiosError.code === 'ECONNABORTED') {\n        return {\n          success: false,\n          url,\n          error: `Request timeout after ${timeout}ms`,\n        };\n      }\n\n      if (axiosError.response) {\n        return {\n          success: false,\n          url,\n          statusCode: axiosError.response.status,\n          error: `HTTP ${axiosError.response.status}: ${axiosError.response.statusText}`,\n        };\n      }\n\n      if (axiosError.request) {\n        return {\n          success: false,\n          url,\n          error: 'No response received from server',\n        };\n      }\n    }\n\n    return {\n      success: false,\n      url,\n      error: error instanceof Error ? error.message : 'Unknown error occurred',\n    };\n  }\n}\n\n/**\n * Batch fetch flera URLs med rate limiting\n * @param urls - Array av URLs att hmta\n * @param concurrency - Max antal samtidiga requests\n * @returns Array av resultat\n */\nexport async function fetchUrlBatch(\n  urls: string[],\n  concurrency = 3\n): Promise<FetchUrlResult[]> {\n  const results: FetchUrlResult[] = [];\n\n  for (let i = 0; i < urls.length; i += concurrency) {\n    const batch = urls.slice(i, i + concurrency);\n    const batchResults = await Promise.all(\n      batch.map(url => fetchUrl({ url }))\n    );\n    results.push(...batchResults);\n\n    // Liten delay mellan batches fr att inte verbelasta\n    if (i + concurrency < urls.length) {\n      await new Promise(resolve => setTimeout(resolve, 1000));\n    }\n  }\n\n  return results;\n}\n","// read_sitemap - MCP verktyg fr att lsa och parsa sitemap.xml\n// Stdjer bde vanliga sitemaps och sitemap index\n\nimport { XMLParser } from 'fast-xml-parser';\nimport { fetchUrl } from './fetch-url';\n\nexport interface SitemapUrl {\n  loc: string;\n  lastmod?: string;\n  changefreq?: string;\n  priority?: number;\n}\n\nexport interface ReadSitemapResult {\n  success: boolean;\n  urls: SitemapUrl[];\n  totalUrls: number;\n  error?: string;\n  isSitemapIndex?: boolean;\n  childSitemaps?: string[];\n}\n\n/**\n * Lser och parsar en sitemap.xml eller sitemap index\n * @param sitemapUrl - URL till sitemap.xml\n * @returns Parsed sitemap med alla URLs\n */\nexport async function readSitemap(sitemapUrl: string): Promise<ReadSitemapResult> {\n  try {\n    // Hmta sitemap innehll\n    const fetchResult = await fetchUrl({ url: sitemapUrl });\n\n    if (!fetchResult.success || !fetchResult.html) {\n      return {\n        success: false,\n        urls: [],\n        totalUrls: 0,\n        error: fetchResult.error || 'Failed to fetch sitemap',\n      };\n    }\n\n    // Parsa XML\n    const parser = new XMLParser({\n      ignoreAttributes: false,\n      attributeNamePrefix: '@_',\n    });\n\n    const parsed = parser.parse(fetchResult.html);\n\n    // Kolla om det r en sitemap index\n    if (parsed.sitemapindex) {\n      return await parseSitemapIndex(parsed.sitemapindex, sitemapUrl);\n    }\n\n    // Vanlig sitemap\n    if (parsed.urlset) {\n      return parseSitemapUrlset(parsed.urlset);\n    }\n\n    return {\n      success: false,\n      urls: [],\n      totalUrls: 0,\n      error: 'Invalid sitemap format: missing urlset or sitemapindex',\n    };\n\n  } catch (error) {\n    return {\n      success: false,\n      urls: [],\n      totalUrls: 0,\n      error: error instanceof Error ? error.message : 'Unknown error parsing sitemap',\n    };\n  }\n}\n\n/**\n * Parsar en vanlig sitemap urlset\n */\nfunction parseSitemapUrlset(urlset: any): ReadSitemapResult {\n  const urls: SitemapUrl[] = [];\n\n  // Normalisera till array (kan vara single object)\n  const urlEntries = Array.isArray(urlset.url) ? urlset.url : [urlset.url];\n\n  for (const entry of urlEntries) {\n    if (!entry || !entry.loc) continue;\n\n    urls.push({\n      loc: entry.loc,\n      lastmod: entry.lastmod,\n      changefreq: entry.changefreq,\n      priority: entry.priority ? parseFloat(entry.priority) : undefined,\n    });\n  }\n\n  return {\n    success: true,\n    urls,\n    totalUrls: urls.length,\n    isSitemapIndex: false,\n  };\n}\n\n/**\n * Parsar en sitemap index och hmtar alla child sitemaps\n */\nasync function parseSitemapIndex(\n  sitemapindex: any,\n  baseUrl: string\n): Promise<ReadSitemapResult> {\n  const childSitemaps: string[] = [];\n  const allUrls: SitemapUrl[] = [];\n\n  // Normalisera till array\n  const sitemapEntries = Array.isArray(sitemapindex.sitemap)\n    ? sitemapindex.sitemap\n    : [sitemapindex.sitemap];\n\n  // Samla alla child sitemap URLs\n  for (const entry of sitemapEntries) {\n    if (entry && entry.loc) {\n      childSitemaps.push(entry.loc);\n    }\n  }\n\n  // Hmta och parsa varje child sitemap (max 10 fr att inte verbelasta)\n  const sitemapsToFetch = childSitemaps.slice(0, 10);\n\n  for (const childUrl of sitemapsToFetch) {\n    try {\n      const result = await readSitemap(childUrl);\n      if (result.success) {\n        allUrls.push(...result.urls);\n      }\n      // Liten delay mellan requests\n      await new Promise(resolve => setTimeout(resolve, 500));\n    } catch (error) {\n      console.error(`Error fetching child sitemap ${childUrl}:`, error);\n    }\n  }\n\n  return {\n    success: true,\n    urls: allUrls,\n    totalUrls: allUrls.length,\n    isSitemapIndex: true,\n    childSitemaps,\n  };\n}\n\n/**\n * Lser robots.txt och hittar sitemap URLs\n * @param domain - Domain URL (e.g. https://example.com)\n * @returns Array av sitemap URLs frn robots.txt\n */\nexport async function findSitemapsInRobotsTxt(domain: string): Promise<string[]> {\n  try {\n    const robotsUrl = new URL('/robots.txt', domain).toString();\n    const fetchResult = await fetchUrl({ url: robotsUrl });\n\n    if (!fetchResult.success || !fetchResult.html) {\n      return [];\n    }\n\n    const sitemaps: string[] = [];\n    const lines = fetchResult.html.split('\\n');\n\n    for (const line of lines) {\n      const trimmed = line.trim();\n      if (trimmed.toLowerCase().startsWith('sitemap:')) {\n        const sitemapUrl = trimmed.substring(8).trim();\n        if (sitemapUrl) {\n          sitemaps.push(sitemapUrl);\n        }\n      }\n    }\n\n    return sitemaps;\n\n  } catch (error) {\n    console.error('Error reading robots.txt:', error);\n    return [];\n  }\n}\n\n/**\n * Auto-discover sitemap fr en domain\n * Frsker hitta sitemap via robots.txt eller vanliga platser\n */\nexport async function discoverSitemap(domain: string): Promise<ReadSitemapResult> {\n  // Frsk hitta via robots.txt frst\n  const robotsSitemaps = await findSitemapsInRobotsTxt(domain);\n\n  if (robotsSitemaps.length > 0) {\n    return await readSitemap(robotsSitemaps[0]);\n  }\n\n  // Frsk vanliga platser\n  const commonPaths = [\n    '/sitemap.xml',\n    '/sitemap_index.xml',\n    '/sitemap-index.xml',\n    '/sitemap1.xml',\n  ];\n\n  for (const path of commonPaths) {\n    try {\n      const sitemapUrl = new URL(path, domain).toString();\n      const result = await readSitemap(sitemapUrl);\n\n      if (result.success && result.totalUrls > 0) {\n        return result;\n      }\n    } catch (error) {\n      continue;\n    }\n  }\n\n  return {\n    success: false,\n    urls: [],\n    totalUrls: 0,\n    error: 'Could not discover sitemap for domain',\n  };\n}\n","// psi_audit - MCP verktyg fr PageSpeed Insights API\n// Hmtar Lighthouse score och Core Web Vitals\n\nimport axios from 'axios';\n\nexport interface CoreWebVitals {\n  lcp: number; // Largest Contentful Paint (sekunder)\n  cls: number; // Cumulative Layout Shift\n  inp: number; // Interaction to Next Paint (millisekunder)\n  fcp?: number; // First Contentful Paint (sekunder)\n  ttfb?: number; // Time to First Byte (millisekunder)\n}\n\nexport interface LighthouseMetrics {\n  performance: number; // 0-100\n  accessibility?: number;\n  bestPractices?: number;\n  seo?: number;\n}\n\nexport interface PSIIssue {\n  title: string;\n  description: string;\n  score?: number;\n  displayValue?: string;\n  impact?: 'low' | 'medium' | 'high';\n}\n\nexport interface PSIAuditResult {\n  success: boolean;\n  url: string;\n  vitals?: CoreWebVitals;\n  lighthouse?: LighthouseMetrics;\n  issues: PSIIssue[];\n  rawData?: any; // Full PSI response\n  error?: string;\n  requestId?: string;\n}\n\n/**\n * Kr PageSpeed Insights audit p en URL\n * @param url - URL att analysera\n * @param apiKey - Google PageSpeed Insights API key\n * @param strategy - 'mobile' eller 'desktop'\n * @returns PSI audit resultat\n */\nexport async function psiAudit(\n  url: string,\n  apiKey: string,\n  strategy: 'mobile' | 'desktop' = 'mobile'\n): Promise<PSIAuditResult> {\n  try {\n    // Bygg API URL\n    const apiUrl = new URL('https://www.googleapis.com/pagespeedonline/v5/runPagespeed');\n    apiUrl.searchParams.set('url', url);\n    apiUrl.searchParams.set('key', apiKey);\n    apiUrl.searchParams.set('strategy', strategy);\n    apiUrl.searchParams.set('category', 'performance');\n    apiUrl.searchParams.set('category', 'accessibility');\n    apiUrl.searchParams.set('category', 'best-practices');\n    apiUrl.searchParams.set('category', 'seo');\n\n    // Gr request med lngre timeout (PSI kan ta tid)\n    const response = await axios.get(apiUrl.toString(), {\n      timeout: 60000, // 60 sekunder\n    });\n\n    const data = response.data;\n\n    // Extrahera Core Web Vitals\n    const vitals = extractCoreWebVitals(data);\n\n    // Extrahera Lighthouse scores\n    const lighthouse = extractLighthouseScores(data);\n\n    // Extrahera viktiga issues\n    const issues = extractIssues(data);\n\n    return {\n      success: true,\n      url,\n      vitals,\n      lighthouse,\n      issues,\n      rawData: data,\n      requestId: data.id,\n    };\n\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      if (error.response) {\n        return {\n          success: false,\n          url,\n          issues: [],\n          error: `PSI API error: ${error.response.status} - ${JSON.stringify(error.response.data)}`,\n        };\n      }\n\n      if (error.code === 'ECONNABORTED') {\n        return {\n          success: false,\n          url,\n          issues: [],\n          error: 'PSI API timeout after 60 seconds',\n        };\n      }\n    }\n\n    return {\n      success: false,\n      url,\n      issues: [],\n      error: error instanceof Error ? error.message : 'Unknown PSI error',\n    };\n  }\n}\n\n/**\n * Extraherar Core Web Vitals frn PSI response\n */\nfunction extractCoreWebVitals(data: any): CoreWebVitals | undefined {\n  try {\n    const metrics = data.loadingExperience?.metrics;\n    const labData = data.lighthouseResult?.audits;\n\n    if (!metrics && !labData) return undefined;\n\n    // Field data (real user data) prioriteras\n    const lcp = metrics?.LARGEST_CONTENTFUL_PAINT_MS?.percentile\n      ? metrics.LARGEST_CONTENTFUL_PAINT_MS.percentile / 1000\n      : labData?.['largest-contentful-paint']?.numericValue\n      ? labData['largest-contentful-paint'].numericValue / 1000\n      : 0;\n\n    const cls = metrics?.CUMULATIVE_LAYOUT_SHIFT_SCORE?.percentile\n      ? metrics.CUMULATIVE_LAYOUT_SHIFT_SCORE.percentile / 100\n      : labData?.['cumulative-layout-shift']?.numericValue || 0;\n\n    const inp = metrics?.INTERACTION_TO_NEXT_PAINT?.percentile\n      ? metrics.INTERACTION_TO_NEXT_PAINT.percentile\n      : labData?.['interaction-to-next-paint']?.numericValue || 0;\n\n    const fcp = labData?.['first-contentful-paint']?.numericValue\n      ? labData['first-contentful-paint'].numericValue / 1000\n      : undefined;\n\n    const ttfb = labData?.['server-response-time']?.numericValue || undefined;\n\n    return {\n      lcp: parseFloat(lcp.toFixed(2)),\n      cls: parseFloat(cls.toFixed(4)),\n      inp: parseFloat(inp.toFixed(2)),\n      fcp: fcp ? parseFloat(fcp.toFixed(2)) : undefined,\n      ttfb: ttfb ? parseFloat(ttfb.toFixed(2)) : undefined,\n    };\n  } catch (error) {\n    console.error('Error extracting Core Web Vitals:', error);\n    return undefined;\n  }\n}\n\n/**\n * Extraherar Lighthouse scores frn PSI response\n */\nfunction extractLighthouseScores(data: any): LighthouseMetrics | undefined {\n  try {\n    const categories = data.lighthouseResult?.categories;\n    if (!categories) return undefined;\n\n    return {\n      performance: Math.round((categories.performance?.score || 0) * 100),\n      accessibility: categories.accessibility\n        ? Math.round(categories.accessibility.score * 100)\n        : undefined,\n      bestPractices: categories['best-practices']\n        ? Math.round(categories['best-practices'].score * 100)\n        : undefined,\n      seo: categories.seo ? Math.round(categories.seo.score * 100) : undefined,\n    };\n  } catch (error) {\n    console.error('Error extracting Lighthouse scores:', error);\n    return undefined;\n  }\n}\n\n/**\n * Extraherar viktiga issues frn Lighthouse audits\n */\nfunction extractIssues(data: any): PSIIssue[] {\n  const issues: PSIIssue[] = [];\n\n  try {\n    const audits = data.lighthouseResult?.audits;\n    if (!audits) return issues;\n\n    // Viktiga audits att kolla\n    const importantAudits = [\n      'largest-contentful-paint',\n      'cumulative-layout-shift',\n      'interaction-to-next-paint',\n      'first-contentful-paint',\n      'speed-index',\n      'total-blocking-time',\n      'server-response-time',\n      'render-blocking-resources',\n      'unminified-css',\n      'unminified-javascript',\n      'unused-css-rules',\n      'unused-javascript',\n      'modern-image-formats',\n      'uses-optimized-images',\n      'uses-text-compression',\n      'uses-responsive-images',\n    ];\n\n    for (const auditKey of importantAudits) {\n      const audit = audits[auditKey];\n      if (!audit) continue;\n\n      // Bara rapportera om score r lg (under 0.9)\n      if (audit.score !== null && audit.score < 0.9) {\n        issues.push({\n          title: audit.title || auditKey,\n          description: audit.description || '',\n          score: audit.score,\n          displayValue: audit.displayValue,\n          impact: determineImpact(audit.score),\n        });\n      }\n    }\n\n    return issues;\n  } catch (error) {\n    console.error('Error extracting issues:', error);\n    return issues;\n  }\n}\n\n/**\n * Bestmmer impact level baserat p score\n */\nfunction determineImpact(score: number): 'low' | 'medium' | 'high' {\n  if (score >= 0.5) return 'low';\n  if (score >= 0.3) return 'medium';\n  return 'high';\n}\n\n/**\n * Batch PSI audit med rate limiting och retry\n */\nexport async function psiAuditBatch(\n  urls: string[],\n  apiKey: string,\n  strategy: 'mobile' | 'desktop' = 'mobile',\n  delayMs = 2000 // Delay mellan requests fr att respektera rate limits\n): Promise<PSIAuditResult[]> {\n  const results: PSIAuditResult[] = [];\n\n  for (const url of urls) {\n    try {\n      const result = await psiAudit(url, apiKey, strategy);\n      results.push(result);\n\n      // Delay mellan requests\n      if (urls.indexOf(url) < urls.length - 1) {\n        await new Promise(resolve => setTimeout(resolve, delayMs));\n      }\n\n      // Exponential backoff vid fel\n      if (!result.success && result.error?.includes('429')) {\n        console.log('Rate limit hit, waiting 10 seconds...');\n        await new Promise(resolve => setTimeout(resolve, 10000));\n      }\n\n    } catch (error) {\n      results.push({\n        success: false,\n        url,\n        issues: [],\n        error: error instanceof Error ? error.message : 'Unknown error',\n      });\n    }\n  }\n\n  return results;\n}\n","// gsc_top_queries - MCP verktyg fr Google Search Console API\n// Hmtar top queries och performance data\n\nimport axios from 'axios';\n\nexport interface GSCQuery {\n  query: string;\n  clicks: number;\n  impressions: number;\n  ctr: number;\n  position: number;\n}\n\nexport interface GSCPageData {\n  page: string;\n  clicks: number;\n  impressions: number;\n  ctr: number;\n  position: number;\n  topQueries?: GSCQuery[];\n}\n\nexport interface GSCTopQueriesResult {\n  success: boolean;\n  siteUrl: string;\n  data: GSCPageData[];\n  totalRows: number;\n  startDate: string;\n  endDate: string;\n  error?: string;\n}\n\n/**\n * Hmtar top queries frn Google Search Console\n * @param siteUrl - Verified site URL i GSC (e.g. 'https://example.com')\n * @param accessToken - OAuth2 access token\n * @param startDate - Start datum (YYYY-MM-DD)\n * @param endDate - Slut datum (YYYY-MM-DD)\n * @param rowLimit - Max antal rader att hmta\n * @returns GSC query data\n */\nexport async function gscTopQueries(\n  siteUrl: string,\n  accessToken: string,\n  startDate: string,\n  endDate: string,\n  rowLimit = 1000\n): Promise<GSCTopQueriesResult> {\n  try {\n    // Bygg API request\n    const apiUrl = `https://searchconsole.googleapis.com/v1/sites/${encodeURIComponent(\n      siteUrl\n    )}/searchAnalytics/query`;\n\n    const requestBody = {\n      startDate,\n      endDate,\n      dimensions: ['page', 'query'],\n      rowLimit,\n      startRow: 0,\n    };\n\n    // Gr request\n    const response = await axios.post(apiUrl, requestBody, {\n      headers: {\n        Authorization: `Bearer ${accessToken}`,\n        'Content-Type': 'application/json',\n      },\n      timeout: 30000,\n    });\n\n    // Processera resultat\n    const rows = response.data.rows || [];\n    const pageMap = new Map<string, GSCPageData>();\n\n    for (const row of rows) {\n      const [page, query] = row.keys;\n      const { clicks, impressions, ctr, position } = row;\n\n      if (!pageMap.has(page)) {\n        pageMap.set(page, {\n          page,\n          clicks: 0,\n          impressions: 0,\n          ctr: 0,\n          position: 0,\n          topQueries: [],\n        });\n      }\n\n      const pageData = pageMap.get(page)!;\n      pageData.clicks += clicks;\n      pageData.impressions += impressions;\n\n      pageData.topQueries!.push({\n        query,\n        clicks,\n        impressions,\n        ctr,\n        position,\n      });\n    }\n\n    // Berkna aggregerade vrden och sortera queries\n    const data: GSCPageData[] = Array.from(pageMap.values()).map(pageData => {\n      // Sortera queries efter clicks\n      pageData.topQueries!.sort((a, b) => b.clicks - a.clicks);\n\n      // Berkna genomsnittlig CTR och position\n      const totalQueries = pageData.topQueries!.length;\n      pageData.ctr = pageData.clicks / pageData.impressions;\n      pageData.position =\n        pageData.topQueries!.reduce((sum, q) => sum + q.position, 0) / totalQueries;\n\n      return pageData;\n    });\n\n    // Sortera sidor efter clicks\n    data.sort((a, b) => b.clicks - a.clicks);\n\n    return {\n      success: true,\n      siteUrl,\n      data,\n      totalRows: data.length,\n      startDate,\n      endDate,\n    };\n\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      if (error.response) {\n        return {\n          success: false,\n          siteUrl,\n          data: [],\n          totalRows: 0,\n          startDate,\n          endDate,\n          error: `GSC API error: ${error.response.status} - ${JSON.stringify(\n            error.response.data\n          )}`,\n        };\n      }\n    }\n\n    return {\n      success: false,\n      siteUrl,\n      data: [],\n      totalRows: 0,\n      startDate,\n      endDate,\n      error: error instanceof Error ? error.message : 'Unknown GSC error',\n    };\n  }\n}\n\n/**\n * Hittar sidor med lg CTR nra topp 10\n * @param gscData - GSC data frn gscTopQueries\n * @param minPosition - Min position fr att inkluderas (default 15)\n * @param maxPosition - Max position fr att inkluderas (default 1)\n * @param ctrThreshold - CTR under detta vrde flaggas (default 0.05 = 5%)\n * @returns Filtrerade sidor med lg CTR\n */\nexport function findLowCtrPages(\n  gscData: GSCPageData[],\n  minPosition = 1,\n  maxPosition = 15,\n  ctrThreshold = 0.05\n): GSCPageData[] {\n  return gscData.filter(\n    page =>\n      page.position >= minPosition &&\n      page.position <= maxPosition &&\n      page.ctr < ctrThreshold &&\n      page.impressions > 10 // Minst 10 impressions fr att vara relevant\n  );\n}\n\n/**\n * OAuth2 token refresh\n * @param refreshToken - Refresh token frn OAuth2 flow\n * @param clientId - Google OAuth2 client ID\n * @param clientSecret - Google OAuth2 client secret\n * @returns Ny access token\n */\nexport async function refreshGSCToken(\n  refreshToken: string,\n  clientId: string,\n  clientSecret: string\n): Promise<string> {\n  try {\n    const response = await axios.post('https://oauth2.googleapis.com/token', {\n      client_id: clientId,\n      client_secret: clientSecret,\n      refresh_token: refreshToken,\n      grant_type: 'refresh_token',\n    });\n\n    return response.data.access_token;\n  } catch (error) {\n    throw new Error(\n      `Failed to refresh GSC token: ${\n        error instanceof Error ? error.message : 'Unknown error'\n      }`\n    );\n  }\n}\n\n/**\n * Hmtar GSC data fr en specifik sida/URL\n * @param siteUrl - Verified site URL i GSC\n * @param pageUrl - Specifik page URL att hmta data fr\n * @param accessToken - OAuth2 access token\n * @param startDate - Start datum\n * @param endDate - Slut datum\n * @returns GSC data fr sidan\n */\nexport async function gscPageData(\n  siteUrl: string,\n  pageUrl: string,\n  accessToken: string,\n  startDate: string,\n  endDate: string\n): Promise<GSCPageData | null> {\n  try {\n    const apiUrl = `https://searchconsole.googleapis.com/v1/sites/${encodeURIComponent(\n      siteUrl\n    )}/searchAnalytics/query`;\n\n    const requestBody = {\n      startDate,\n      endDate,\n      dimensions: ['query'],\n      dimensionFilterGroups: [\n        {\n          filters: [\n            {\n              dimension: 'page',\n              expression: pageUrl,\n              operator: 'equals',\n            },\n          ],\n        },\n      ],\n      rowLimit: 100,\n    };\n\n    const response = await axios.post(apiUrl, requestBody, {\n      headers: {\n        Authorization: `Bearer ${accessToken}`,\n        'Content-Type': 'application/json',\n      },\n      timeout: 30000,\n    });\n\n    const rows = response.data.rows || [];\n\n    if (rows.length === 0) {\n      return null;\n    }\n\n    const topQueries: GSCQuery[] = rows.map((row: any) => ({\n      query: row.keys[0],\n      clicks: row.clicks,\n      impressions: row.impressions,\n      ctr: row.ctr,\n      position: row.position,\n    }));\n\n    // Berkna totaler\n    const totalClicks = topQueries.reduce((sum, q) => sum + q.clicks, 0);\n    const totalImpressions = topQueries.reduce((sum, q) => sum + q.impressions, 0);\n    const avgPosition =\n      topQueries.reduce((sum, q) => sum + q.position, 0) / topQueries.length;\n\n    return {\n      page: pageUrl,\n      clicks: totalClicks,\n      impressions: totalImpressions,\n      ctr: totalClicks / totalImpressions,\n      position: avgPosition,\n      topQueries,\n    };\n\n  } catch (error) {\n    console.error('Error fetching GSC page data:', error);\n    return null;\n  }\n}\n","// On-Page SEO Analysis\n// Analyserar HTML fr SEO-faktorer: title, meta, h1, canonical, images\n\nimport * as cheerio from 'cheerio';\n\nexport interface OnPageIssue {\n  type: 'title' | 'meta-description' | 'h1' | 'canonical' | 'images' | 'other';\n  severity: 'low' | 'medium' | 'high';\n  message: string;\n  current?: string;\n  recommendation?: string;\n}\n\nexport interface OnPageResult {\n  title?: string;\n  titleLength: number;\n  metaDescription?: string;\n  metaDescriptionLength: number;\n  h1Tags: string[];\n  h1Count: number;\n  canonical?: string;\n  totalImages: number;\n  imagesWithAlt: number;\n  imagesWithoutAlt: number;\n  altCoverage: number; // procent\n  issues: OnPageIssue[];\n  score: number; // 0-100\n}\n\n/**\n * Analyserar HTML fr on-page SEO faktorer\n * @param html - HTML innehll att analysera\n * @param url - URL fr canonical check\n * @returns On-page analys resultat\n */\nexport function analyzeOnPage(html: string, url: string): OnPageResult {\n  const $ = cheerio.load(html);\n  const issues: OnPageIssue[] = [];\n\n  // Analysera Title\n  const title = $('title').first().text().trim();\n  const titleLength = title.length;\n\n  if (!title) {\n    issues.push({\n      type: 'title',\n      severity: 'high',\n      message: 'Missing title tag',\n      recommendation: 'Add a descriptive title tag (50-60 characters)',\n    });\n  } else if (titleLength < 30) {\n    issues.push({\n      type: 'title',\n      severity: 'medium',\n      message: 'Title too short',\n      current: `${titleLength} characters`,\n      recommendation: 'Title should be 50-60 characters for optimal display',\n    });\n  } else if (titleLength > 70) {\n    issues.push({\n      type: 'title',\n      severity: 'medium',\n      message: 'Title too long',\n      current: `${titleLength} characters`,\n      recommendation: 'Title should be 50-60 characters to avoid truncation',\n    });\n  }\n\n  // Analysera Meta Description\n  const metaDescription = $('meta[name=\"description\"]').attr('content')?.trim() || '';\n  const metaDescriptionLength = metaDescription.length;\n\n  if (!metaDescription) {\n    issues.push({\n      type: 'meta-description',\n      severity: 'high',\n      message: 'Missing meta description',\n      recommendation: 'Add a compelling meta description (140-160 characters)',\n    });\n  } else if (metaDescriptionLength < 120) {\n    issues.push({\n      type: 'meta-description',\n      severity: 'medium',\n      message: 'Meta description too short',\n      current: `${metaDescriptionLength} characters`,\n      recommendation: 'Meta description should be 140-160 characters',\n    });\n  } else if (metaDescriptionLength > 170) {\n    issues.push({\n      type: 'meta-description',\n      severity: 'low',\n      message: 'Meta description too long',\n      current: `${metaDescriptionLength} characters`,\n      recommendation: 'Meta description should be 140-160 characters to avoid truncation',\n    });\n  }\n\n  // Analysera H1\n  const h1Tags: string[] = [];\n  $('h1').each((_, el) => {\n    const text = $(el).text().trim();\n    if (text) h1Tags.push(text);\n  });\n\n  const h1Count = h1Tags.length;\n\n  if (h1Count === 0) {\n    issues.push({\n      type: 'h1',\n      severity: 'high',\n      message: 'Missing H1 tag',\n      recommendation: 'Add exactly one H1 tag that matches page intent',\n    });\n  } else if (h1Count > 1) {\n    issues.push({\n      type: 'h1',\n      severity: 'medium',\n      message: 'Multiple H1 tags found',\n      current: `${h1Count} H1 tags`,\n      recommendation: 'Use only one H1 tag per page',\n    });\n  }\n\n  // Analysera Canonical\n  const canonical = $('link[rel=\"canonical\"]').attr('href')?.trim();\n\n  if (!canonical) {\n    issues.push({\n      type: 'canonical',\n      severity: 'medium',\n      message: 'Missing canonical tag',\n      recommendation: 'Add a canonical tag to prevent duplicate content issues',\n    });\n  }\n\n  // Analysera Images och Alt text\n  let totalImages = 0;\n  let imagesWithAlt = 0;\n  let imagesWithoutAlt = 0;\n\n  $('img').each((_, el) => {\n    totalImages++;\n    const alt = $(el).attr('alt');\n\n    if (alt !== undefined && alt.trim() !== '') {\n      imagesWithAlt++;\n    } else {\n      imagesWithoutAlt++;\n    }\n  });\n\n  const altCoverage = totalImages > 0 ? (imagesWithAlt / totalImages) * 100 : 100;\n\n  if (altCoverage < 80 && totalImages > 0) {\n    issues.push({\n      type: 'images',\n      severity: altCoverage < 50 ? 'high' : 'medium',\n      message: 'Low alt text coverage',\n      current: `${altCoverage.toFixed(0)}% coverage (${imagesWithAlt}/${totalImages} images)`,\n      recommendation: 'Add descriptive alt text to at least 80% of images',\n    });\n  }\n\n  // Berkna score\n  const score = calculateOnPageScore({\n    titleLength,\n    metaDescriptionLength,\n    h1Count,\n    hasCanonical: !!canonical,\n    altCoverage,\n  });\n\n  return {\n    title,\n    titleLength,\n    metaDescription,\n    metaDescriptionLength,\n    h1Tags,\n    h1Count,\n    canonical,\n    totalImages,\n    imagesWithAlt,\n    imagesWithoutAlt,\n    altCoverage: parseFloat(altCoverage.toFixed(2)),\n    issues,\n    score,\n  };\n}\n\n/**\n * Berknar on-page score (0-100)\n */\nfunction calculateOnPageScore(params: {\n  titleLength: number;\n  metaDescriptionLength: number;\n  h1Count: number;\n  hasCanonical: boolean;\n  altCoverage: number;\n}): number {\n  let score = 100;\n\n  // Title scoring (25 pong)\n  if (params.titleLength === 0) {\n    score -= 25;\n  } else if (params.titleLength < 30 || params.titleLength > 70) {\n    score -= 10;\n  } else if (params.titleLength >= 50 && params.titleLength <= 60) {\n    // Perfect length\n    score += 0;\n  } else {\n    score -= 5;\n  }\n\n  // Meta description scoring (20 pong)\n  if (params.metaDescriptionLength === 0) {\n    score -= 20;\n  } else if (\n    params.metaDescriptionLength < 120 ||\n    params.metaDescriptionLength > 170\n  ) {\n    score -= 10;\n  } else if (\n    params.metaDescriptionLength >= 140 &&\n    params.metaDescriptionLength <= 160\n  ) {\n    // Perfect length\n    score += 0;\n  } else {\n    score -= 5;\n  }\n\n  // H1 scoring (20 pong)\n  if (params.h1Count === 0) {\n    score -= 20;\n  } else if (params.h1Count === 1) {\n    // Perfect\n    score += 0;\n  } else {\n    score -= 10;\n  }\n\n  // Canonical scoring (15 pong)\n  if (!params.hasCanonical) {\n    score -= 15;\n  }\n\n  // Alt coverage scoring (20 pong)\n  if (params.altCoverage < 50) {\n    score -= 20;\n  } else if (params.altCoverage < 80) {\n    score -= 10;\n  }\n\n  return Math.max(0, Math.min(100, score));\n}\n\n/**\n * Genererar actionable frslag frn on-page issues\n */\nexport function generateOnPageSuggestions(\n  result: OnPageResult,\n  url: string\n): Array<{\n  action: string;\n  impact: 'low' | 'medium' | 'high';\n}> {\n  const suggestions: Array<{\n    action: string;\n    impact: 'low' | 'medium' | 'high';\n  }> = [];\n\n  for (const issue of result.issues) {\n    suggestions.push({\n      action: `${issue.message}${\n        issue.recommendation ? `: ${issue.recommendation}` : ''\n      }`,\n      impact: issue.severity,\n    });\n  }\n\n  return suggestions;\n}\n","// SEO Scoring System\n// Kombinerar on-page, Core Web Vitals och GSC data fr total score\n\nimport type { OnPageResult } from './on-page-analysis';\nimport type { CoreWebVitals } from '../mcp/psi-audit';\n\nexport interface ScoringWeights {\n  onPage: number; // 0-1, default 0.4\n  vitals: number; // 0-1, default 0.5\n  gsc: number; // 0-1, default 0.1\n}\n\nexport interface GSCMetrics {\n  ctr: number;\n  position: number;\n  impressions: number;\n}\n\nexport interface ScoreBreakdown {\n  total: number; // 0-100\n  onPageScore: number;\n  vitalsScore: number;\n  gscScore: number;\n  issues: Array<{\n    category: 'on-page' | 'vitals' | 'gsc';\n    severity: 'low' | 'medium' | 'high';\n    message: string;\n  }>;\n}\n\nconst DEFAULT_WEIGHTS: ScoringWeights = {\n  onPage: 0.4,\n  vitals: 0.5,\n  gsc: 0.1,\n};\n\n/**\n * Berknar total SEO score\n * @param onPageResult - On-page analys resultat\n * @param vitals - Core Web Vitals frn PSI\n * @param gscMetrics - Google Search Console metrics (optional)\n * @param weights - Viktning av olika faktorer\n * @returns Score breakdown\n */\nexport function calculateSEOScore(\n  onPageResult: OnPageResult,\n  vitals?: CoreWebVitals,\n  gscMetrics?: GSCMetrics,\n  weights: ScoringWeights = DEFAULT_WEIGHTS\n): ScoreBreakdown {\n  const issues: ScoreBreakdown['issues'] = [];\n\n  // On-page score (redan berknad)\n  const onPageScore = onPageResult.score;\n\n  // Lgg till on-page issues\n  for (const issue of onPageResult.issues) {\n    issues.push({\n      category: 'on-page',\n      severity: issue.severity,\n      message: issue.message,\n    });\n  }\n\n  // Core Web Vitals score\n  let vitalsScore = 100;\n\n  if (vitals) {\n    // LCP scoring\n    if (vitals.lcp > 4.0) {\n      vitalsScore -= 30;\n      issues.push({\n        category: 'vitals',\n        severity: 'high',\n        message: `LCP is ${vitals.lcp.toFixed(2)}s (should be under 2.5s)`,\n      });\n    } else if (vitals.lcp > 2.5) {\n      vitalsScore -= 15;\n      issues.push({\n        category: 'vitals',\n        severity: 'medium',\n        message: `LCP is ${vitals.lcp.toFixed(2)}s (should be under 2.5s)`,\n      });\n    }\n\n    // CLS scoring\n    if (vitals.cls > 0.25) {\n      vitalsScore -= 30;\n      issues.push({\n        category: 'vitals',\n        severity: 'high',\n        message: `CLS is ${vitals.cls.toFixed(4)} (should be under 0.1)`,\n      });\n    } else if (vitals.cls > 0.1) {\n      vitalsScore -= 15;\n      issues.push({\n        category: 'vitals',\n        severity: 'medium',\n        message: `CLS is ${vitals.cls.toFixed(4)} (should be under 0.1)`,\n      });\n    }\n\n    // INP scoring\n    if (vitals.inp > 500) {\n      vitalsScore -= 20;\n      issues.push({\n        category: 'vitals',\n        severity: 'high',\n        message: `INP is ${vitals.inp.toFixed(0)}ms (should be under 200ms)`,\n      });\n    } else if (vitals.inp > 200) {\n      vitalsScore -= 10;\n      issues.push({\n        category: 'vitals',\n        severity: 'medium',\n        message: `INP is ${vitals.inp.toFixed(0)}ms (should be under 200ms)`,\n      });\n    }\n\n    vitalsScore = Math.max(0, vitalsScore);\n  } else {\n    // Om vi inte har vitals data, anvnd neutral score\n    vitalsScore = 50;\n  }\n\n  // GSC score (baserat p CTR och position)\n  let gscScore = 100;\n\n  if (gscMetrics && gscMetrics.impressions > 10) {\n    // CTR scoring\n    const expectedCtr = calculateExpectedCtr(gscMetrics.position);\n    const ctrRatio = gscMetrics.ctr / expectedCtr;\n\n    if (ctrRatio < 0.5) {\n      gscScore -= 40;\n      issues.push({\n        category: 'gsc',\n        severity: 'high',\n        message: `CTR is ${(gscMetrics.ctr * 100).toFixed(2)}% (expected ~${(\n          expectedCtr * 100\n        ).toFixed(2)}% for position ${gscMetrics.position.toFixed(1)})`,\n      });\n    } else if (ctrRatio < 0.8) {\n      gscScore -= 20;\n      issues.push({\n        category: 'gsc',\n        severity: 'medium',\n        message: `CTR is ${(gscMetrics.ctr * 100).toFixed(2)}% (below expected for position ${gscMetrics.position.toFixed(1)})`,\n      });\n    }\n\n    // Position scoring (incentivize improvement to top 3)\n    if (gscMetrics.position > 10) {\n      gscScore -= 30;\n    } else if (gscMetrics.position > 5) {\n      gscScore -= 15;\n    } else if (gscMetrics.position > 3) {\n      gscScore -= 5;\n    }\n\n    gscScore = Math.max(0, gscScore);\n  } else {\n    // Om vi inte har GSC data, anvnd neutral score\n    gscScore = 50;\n  }\n\n  // Berkna weighted total score\n  const total = Math.round(\n    onPageScore * weights.onPage +\n      vitalsScore * weights.vitals +\n      gscScore * weights.gsc\n  );\n\n  return {\n    total,\n    onPageScore,\n    vitalsScore,\n    gscScore,\n    issues,\n  };\n}\n\n/**\n * Berknar frvntad CTR baserat p position\n * Data frn branschstudier (approximation)\n */\nfunction calculateExpectedCtr(position: number): number {\n  if (position <= 1) return 0.3;\n  if (position <= 2) return 0.15;\n  if (position <= 3) return 0.1;\n  if (position <= 5) return 0.06;\n  if (position <= 10) return 0.03;\n  return 0.01;\n}\n\n/**\n * Bestmmer prioritet baserat p score och trend\n * @param currentScore - Nuvarande score\n * @param previousScore - Tidigare score (optional)\n * @param vitals - Core Web Vitals\n * @param daysSinceLastCheck - Dagar sedan senaste check\n * @returns Priority weight (hgre = mer urgent)\n */\nexport function calculatePriority(\n  currentScore: number,\n  previousScore: number | null,\n  vitals: CoreWebVitals | undefined,\n  daysSinceLastCheck: number\n): number {\n  let priority = 0;\n\n  // Bas prioritet frn score (lgre score = hgre prio)\n  priority += (100 - currentScore) * 0.5;\n\n  // Trend prioritet (frsmring ger hgre prio)\n  if (previousScore !== null) {\n    const scoreDiff = currentScore - previousScore;\n    if (scoreDiff < -10) {\n      priority += 30; // Stor frsmring\n    } else if (scoreDiff < 0) {\n      priority += 15; // Mindre frsmring\n    } else if (scoreDiff > 10) {\n      priority -= 10; // Frbttring, minska prio\n    }\n  }\n\n  // Vitals prioritet (dliga vitals ger hgre prio)\n  if (vitals) {\n    if (vitals.lcp > 4.0) priority += 20;\n    if (vitals.cls > 0.25) priority += 20;\n    if (vitals.inp > 500) priority += 15;\n  }\n\n  // Tid sedan senaste check (ldre checks ger hgre prio)\n  if (daysSinceLastCheck > 7) {\n    priority += 10;\n  } else if (daysSinceLastCheck > 14) {\n    priority += 20;\n  }\n\n  return Math.max(0, priority);\n}\n\n/**\n * Flaggar sidor som behver omedelbar uppmrksamhet\n * @param score - Total score\n * @param vitals - Core Web Vitals\n * @param scoreDiff - Frndring i score sedan frra\n * @returns True om sidan ska flaggas\n */\nexport function shouldFlagPage(\n  score: number,\n  vitals: CoreWebVitals | undefined,\n  scoreDiff: number | null\n): boolean {\n  // Flagga om score faller mer n 10 pong\n  if (scoreDiff !== null && scoreDiff < -10) {\n    return true;\n  }\n\n  // Flagga om LCP ver 2.5s\n  if (vitals && vitals.lcp > 2.5) {\n    return true;\n  }\n\n  // Flagga om CLS ver 0.1\n  if (vitals && vitals.cls > 0.1) {\n    return true;\n  }\n\n  // Flagga om INP ver 200ms\n  if (vitals && vitals.inp > 200) {\n    return true;\n  }\n\n  // Flagga om total score under 40\n  if (score < 40) {\n    return true;\n  }\n\n  return false;\n}\n","// SEO Agent Core\n// Huvudlogik fr automatisk SEO-agent med prioritering och historik\n// Uppdaterad med OpenAI-integration fr AI-driven analys\n\nimport { fetchUrl } from '../mcp/fetch-url';\nimport { readSitemap, discoverSitemap } from '../mcp/read-sitemap';\nimport { psiAudit } from '../mcp/psi-audit';\nimport { gscTopQueries, gscPageData } from '../mcp/gsc-top-queries';\nimport { analyzeOnPage, generateOnPageSuggestions } from '../seo/on-page-analysis';\nimport { calculateSEOScore, calculatePriority, shouldFlagPage } from '../seo/scoring';\nimport { analyzePageWithAI } from '../ai/openai-client';\nimport { getPageAnalytics } from '../analytics/google-analytics';\nimport {\n  createRun,\n  updateRun,\n  upsertPage,\n  updatePageMetrics,\n  getAllPages,\n  createAudit,\n  getAuditsByUrl,\n  createSuggestion,\n  refreshMaterializedViews,\n} from '../db/operations';\n\nexport interface AgentConfig {\n  siteUrl: string;\n  sitemapUrl?: string; // Om tom, frsk auto-discover\n  psiApiKey: string;\n  gscAccessToken?: string; // Optional\n  gscSiteUrl?: string; // Verified site URL i GSC\n  gaPropertyId?: string; // Google Analytics property ID\n  maxPagesToCheck?: number; // Default 20\n  priorityThreshold?: number; // Bara kra sidor ver denna prio\n  useAI?: boolean; // Om AI-analys ska anvndas (default: true)\n  openaiApiKey?: string; // OpenAI API-nyckel\n}\n\nexport interface AgentRunResult {\n  runId: number;\n  pagesChecked: number;\n  avgScore: number;\n  errors: string[];\n  flaggedPages: string[];\n  duration: number; // i sekunder\n}\n\nexport interface PageToCheck {\n  url: string;\n  priority: number;\n  lastScore: number | null;\n  daysSinceLastCheck: number;\n}\n\n/**\n * Huvudfunktion fr att kra SEO-agenten\n * @param config - Agent konfiguration\n * @returns Run resultat\n */\nexport async function runAgent(config: AgentConfig): Promise<AgentRunResult> {\n  const startTime = Date.now();\n  const errors: string[] = [];\n  const flaggedPages: string[] = [];\n\n  console.log('[Agent] Starting SEO agent run...');\n\n  // Skapa ny run i databasen\n  const runId = await createRun();\n  console.log(`[Agent] Created run ID: ${runId}`);\n\n  try {\n    // Steg 1: Hmta sitemap\n    console.log('[Agent] Fetching sitemap...');\n    const sitemapResult = config.sitemapUrl\n      ? await readSitemap(config.sitemapUrl)\n      : await discoverSitemap(config.siteUrl);\n\n    let urlsToProcess: string[] = [];\n\n    if (!sitemapResult.success || sitemapResult.totalUrls === 0) {\n      // Sitemap hittades inte - anvnd bara siteUrl\n      console.warn(`[Agent]  Sitemap not found: ${sitemapResult.error}`);\n      console.log('[Agent] Falling back to checking only the site URL');\n      urlsToProcess = [config.siteUrl];\n    } else {\n      console.log(`[Agent] Found ${sitemapResult.totalUrls} URLs in sitemap`);\n      urlsToProcess = sitemapResult.urls.map(u => u.loc);\n    }\n\n    // Steg 2: Upsertera alla pages frn sitemap eller bara siteUrl\n    for (const url of urlsToProcess) {\n      try {\n        await upsertPage({\n          url: url,\n          last_seen_at: new Date().toISOString(),\n        });\n      } catch (error) {\n        console.error(`Error upserting page ${url}:`, error);\n      }\n    }\n\n    // Steg 3: Berkna prioritering fr alla pages\n    console.log('[Agent] Calculating page priorities...');\n    const allPages = await getAllPages();\n    const pagesToCheck = await selectPagesToCheck(\n      allPages,\n      config.maxPagesToCheck || 20,\n      config.priorityThreshold\n    );\n\n    console.log(`[Agent] Selected ${pagesToCheck.length} pages to check`);\n\n    // Steg 4: Kr audit fr varje vald sida\n    let totalScore = 0;\n    let successCount = 0;\n\n    for (const page of pagesToCheck) {\n      console.log(`[Agent] Checking ${page.url}...`);\n\n      try {\n        const result = await checkPage(page.url, config);\n\n        if (result.success) {\n          // Spara audit\n          await createAudit({\n            run_id: runId,\n            url: page.url,\n            score: result.score,\n            lcp: result.vitals?.lcp || null,\n            cls: result.vitals?.cls || null,\n            inp: result.vitals?.inp || null,\n            issues: result.issues as any,\n          });\n\n          // Uppdatera page metrics\n          await updatePageMetrics(page.url, {\n            senaste_score: result.score,\n            senaste_lcp: result.vitals?.lcp,\n            senaste_cls: result.vitals?.cls,\n            senaste_inp: result.vitals?.inp,\n            last_seen_at: new Date().toISOString(),\n          });\n\n          // Spara frslag\n          for (const suggestion of result.suggestions) {\n            await createSuggestion({\n              url: page.url,\n              action: suggestion.action,\n              impact: suggestion.impact,\n              status: 'pending',\n            });\n          }\n\n          totalScore += result.score;\n          successCount++;\n\n          // Flagga sida om ndvndigt\n          const scoreDiff = page.lastScore ? result.score - page.lastScore : null;\n          if (shouldFlagPage(result.score, result.vitals, scoreDiff)) {\n            flaggedPages.push(page.url);\n            console.log(`[Agent]   Flagged ${page.url} (score: ${result.score})`);\n          }\n        } else {\n          errors.push(`${page.url}: ${result.error}`);\n        }\n\n        // Rate limiting: vnta 2 sekunder mellan checks\n        await new Promise(resolve => setTimeout(resolve, 2000));\n\n      } catch (error) {\n        const errorMsg = error instanceof Error ? error.message : 'Unknown error';\n        errors.push(`${page.url}: ${errorMsg}`);\n        console.error(`[Agent] Error checking ${page.url}:`, error);\n      }\n    }\n\n    // Steg 5: Uppdatera run med resultat\n    const avgScore = successCount > 0 ? totalScore / successCount : 0;\n\n    await updateRun(runId, {\n      finished_at: new Date().toISOString(),\n      pages_checked: successCount,\n      avg_score: avgScore,\n      status: 'completed',\n    });\n\n    // Steg 6: Refresh materialiserade vyer\n    console.log('[Agent] Refreshing materialized views...');\n    await refreshMaterializedViews();\n\n    const duration = (Date.now() - startTime) / 1000;\n\n    console.log('[Agent]  Run completed successfully');\n    console.log(`[Agent] Checked ${successCount} pages in ${duration.toFixed(1)}s`);\n    console.log(`[Agent] Average score: ${avgScore.toFixed(1)}`);\n\n    return {\n      runId,\n      pagesChecked: successCount,\n      avgScore,\n      errors,\n      flaggedPages,\n      duration,\n    };\n\n  } catch (error) {\n    // Markera run som failed\n    await updateRun(runId, {\n      finished_at: new Date().toISOString(),\n      status: 'failed',\n      error_message: error instanceof Error ? error.message : 'Unknown error',\n    });\n\n    throw error;\n  }\n}\n\n/**\n * Vljer sidor att checka baserat p prioritering\n */\nasync function selectPagesToCheck(\n  allPages: any[],\n  maxPages: number,\n  priorityThreshold?: number\n): Promise<PageToCheck[]> {\n  const pagesToCheck: PageToCheck[] = [];\n\n  for (const page of allPages) {\n    // Hmta tidigare audits fr att berkna trend\n    const previousAudits = await getAuditsByUrl(page.url, 2);\n    const lastScore = previousAudits.length > 0 ? previousAudits[0].score : null;\n    const prevScore = previousAudits.length > 1 ? previousAudits[1].score : null;\n\n    // Berkna dagar sedan senaste check\n    const daysSinceLastCheck = page.last_seen_at\n      ? (Date.now() - new Date(page.last_seen_at).getTime()) / (1000 * 60 * 60 * 24)\n      : 999;\n\n    // Berkna prioritet\n    const priority = calculatePriority(\n      page.senaste_score || 50,\n      prevScore,\n      {\n        lcp: page.senaste_lcp || 0,\n        cls: page.senaste_cls || 0,\n        inp: page.senaste_inp || 0,\n      },\n      daysSinceLastCheck\n    );\n\n    // Filtrera p threshold om satt\n    if (priorityThreshold && priority < priorityThreshold) {\n      continue;\n    }\n\n    pagesToCheck.push({\n      url: page.url,\n      priority,\n      lastScore,\n      daysSinceLastCheck,\n    });\n  }\n\n  // Sortera efter prioritet och ta top N\n  pagesToCheck.sort((a, b) => b.priority - a.priority);\n\n  return pagesToCheck.slice(0, maxPages);\n}\n\n/**\n * Kr full check p en enskild sida\n */\nasync function checkPage(\n  url: string,\n  config: AgentConfig\n): Promise<{\n  success: boolean;\n  score: number;\n  vitals?: any;\n  issues: any;\n  suggestions: Array<{ action: string; impact: 'low' | 'medium' | 'high' }>;\n  error?: string;\n}> {\n  try {\n    // Hmta HTML\n    const fetchResult = await fetchUrl({ url });\n\n    if (!fetchResult.success || !fetchResult.html) {\n      return {\n        success: false,\n        score: 0,\n        issues: {},\n        suggestions: [],\n        error: fetchResult.error || 'Failed to fetch HTML',\n      };\n    }\n\n    // On-page analys\n    const onPageResult = analyzeOnPage(fetchResult.html, url);\n\n    // PSI audit\n    const psiResult = await psiAudit(url, config.psiApiKey, 'mobile');\n\n    if (!psiResult.success) {\n      return {\n        success: false,\n        score: 0,\n        issues: {},\n        suggestions: [],\n        error: psiResult.error || 'PSI audit failed',\n      };\n    }\n\n    // GSC data (optional)\n    let gscMetrics;\n    if (config.gscAccessToken && config.gscSiteUrl) {\n      try {\n        const endDate = new Date().toISOString().split('T')[0];\n        const startDate = new Date(Date.now() - 30 * 24 * 60 * 60 * 1000)\n          .toISOString()\n          .split('T')[0];\n\n        const gscData = await gscPageData(\n          config.gscSiteUrl,\n          url,\n          config.gscAccessToken,\n          startDate,\n          endDate\n        );\n\n        if (gscData && gscData.impressions > 10) {\n          gscMetrics = {\n            ctr: gscData.ctr,\n            position: gscData.position,\n            impressions: gscData.impressions,\n          };\n        }\n      } catch (error) {\n        console.error('GSC error (non-fatal):', error);\n      }\n    }\n\n    // Berkna total score\n    const scoreBreakdown = calculateSEOScore(\n      onPageResult,\n      psiResult.vitals,\n      gscMetrics\n    );\n\n    // Generera frslag\n    const onPageSuggestions = generateOnPageSuggestions(onPageResult, url);\n    const psiSuggestions = psiResult.issues.map(issue => ({\n      action: issue.title + ': ' + issue.description,\n      impact: issue.impact || 'medium',\n    }));\n\n    const allSuggestions = [...onPageSuggestions, ...psiSuggestions];\n\n    return {\n      success: true,\n      score: scoreBreakdown.total,\n      vitals: psiResult.vitals,\n      issues: {\n        onPage: onPageResult.issues,\n        psi: psiResult.issues,\n        scoreBreakdown,\n      },\n      suggestions: allSuggestions,\n    };\n\n  } catch (error) {\n    return {\n      success: false,\n      score: 0,\n      issues: {},\n      suggestions: [],\n      error: error instanceof Error ? error.message : 'Unknown error',\n    };\n  }\n}\n","// Google Analytics API Integration\r\n// Hmtar trafikdata och anvndarstatistik\r\n\r\nimport { google } from 'googleapis';\r\n\r\nexport interface AnalyticsData {\r\n  pageviews: number;\r\n  uniquePageviews: number;\r\n  avgTimeOnPage: number;\r\n  bounceRate: number;\r\n  exitRate: number;\r\n  conversions?: number;\r\n  dateRange: {\r\n    startDate: string;\r\n    endDate: string;\r\n  };\r\n}\r\n\r\nexport interface AnalyticsPageData {\r\n  pagePath: string;\r\n  pageviews: number;\r\n  uniquePageviews: number;\r\n  avgTimeOnPage: number;\r\n  bounceRate: number;\r\n}\r\n\r\n/**\r\n * Hmtar Analytics data fr en specifik sida\r\n */\r\nexport async function getPageAnalytics(\r\n  propertyId: string,\r\n  pagePath: string,\r\n  startDate: string,\r\n  endDate: string,\r\n  credentials?: unknown\r\n): Promise<AnalyticsData | null> {\r\n  try {\r\n    // Google Analytics Data API v1 (GA4)\r\n    const analyticsData = google.analyticsdata('v1beta');\r\n\r\n    // Autentisering\r\n    const auth = credentials\r\n      ? new google.auth.GoogleAuth({\r\n          credentials: credentials as never,\r\n          scopes: ['https://www.googleapis.com/auth/analytics.readonly'],\r\n        })\r\n      : new google.auth.GoogleAuth({\r\n          scopes: ['https://www.googleapis.com/auth/analytics.readonly'],\r\n        });\r\n\r\n    const authClient = await auth.getClient();\r\n\r\n    // Hmta data\r\n    const response = await analyticsData.properties.runReport({\r\n      property: `properties/${propertyId}`,\r\n      requestBody: {\r\n        dateRanges: [{ startDate, endDate }],\r\n        dimensions: [{ name: 'pagePath' }],\r\n        metrics: [\r\n          { name: 'screenPageViews' },\r\n          { name: 'sessions' },\r\n          { name: 'averageSessionDuration' },\r\n          { name: 'bounceRate' },\r\n        ],\r\n        dimensionFilter: {\r\n          filter: {\r\n            fieldName: 'pagePath',\r\n            stringFilter: {\r\n              matchType: 'EXACT',\r\n              value: pagePath,\r\n            },\r\n          },\r\n        },\r\n      },\r\n      auth: authClient as never,\r\n    });\r\n\r\n    const rows = response.data.rows;\r\n    if (!rows || rows.length === 0) {\r\n      return null;\r\n    }\r\n\r\n    const row = rows[0];\r\n    const metricValues = row.metricValues || [];\r\n\r\n    return {\r\n      pageviews: parseInt(metricValues[0]?.value || '0'),\r\n      uniquePageviews: parseInt(metricValues[1]?.value || '0'),\r\n      avgTimeOnPage: parseFloat(metricValues[2]?.value || '0'),\r\n      bounceRate: parseFloat(metricValues[3]?.value || '0'),\r\n      exitRate: 0, // GA4 berknar inte exitRate p samma stt\r\n      dateRange: { startDate, endDate },\r\n    };\r\n  } catch (error) {\r\n    console.error('[Analytics] Error fetching page data:', error);\r\n    return null;\r\n  }\r\n}\r\n\r\n/**\r\n * Hmtar top pages frn Analytics\r\n */\r\nexport async function getTopPages(\r\n  propertyId: string,\r\n  startDate: string,\r\n  endDate: string,\r\n  limit = 50,\r\n  credentials?: unknown\r\n): Promise<AnalyticsPageData[]> {\r\n  try {\r\n    const analyticsData = google.analyticsdata('v1beta');\r\n\r\n    const auth = credentials\r\n      ? new google.auth.GoogleAuth({\r\n          credentials: credentials as never,\r\n          scopes: ['https://www.googleapis.com/auth/analytics.readonly'],\r\n        })\r\n      : new google.auth.GoogleAuth({\r\n          scopes: ['https://www.googleapis.com/auth/analytics.readonly'],\r\n        });\r\n\r\n    const authClient = await auth.getClient();\r\n\r\n    const response = await analyticsData.properties.runReport({\r\n      property: `properties/${propertyId}`,\r\n      requestBody: {\r\n        dateRanges: [{ startDate, endDate }],\r\n        dimensions: [{ name: 'pagePath' }],\r\n        metrics: [\r\n          { name: 'screenPageViews' },\r\n          { name: 'sessions' },\r\n          { name: 'averageSessionDuration' },\r\n          { name: 'bounceRate' },\r\n        ],\r\n        orderBys: [\r\n          {\r\n            metric: {\r\n              metricName: 'screenPageViews',\r\n            },\r\n            desc: true,\r\n          },\r\n        ],\r\n        limit: limit.toString(),\r\n      },\r\n      auth: authClient as never,\r\n    });\r\n\r\n    const rows = response.data.rows || [];\r\n\r\n    return rows.map((row: any) => {\r\n      const dimensionValues = row.dimensionValues || [];\r\n      const metricValues = row.metricValues || [];\r\n\r\n      return {\r\n        pagePath: dimensionValues[0]?.value || '',\r\n        pageviews: parseInt(metricValues[0]?.value || '0'),\r\n        uniquePageviews: parseInt(metricValues[1]?.value || '0'),\r\n        avgTimeOnPage: parseFloat(metricValues[2]?.value || '0'),\r\n        bounceRate: parseFloat(metricValues[3]?.value || '0'),\r\n      };\r\n    });\r\n  } catch (error) {\r\n    console.error('[Analytics] Error fetching top pages:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\n/**\r\n * Kombinerar GSC + Analytics data fr en komplett bild\r\n */\r\nexport interface CombinedPageData {\r\n  url: string;\r\n  // GSC data\r\n  clicks: number;\r\n  impressions: number;\r\n  ctr: number;\r\n  position: number;\r\n  topQueries: Array<{ query: string; clicks: number }>;\r\n  // Analytics data\r\n  pageviews: number;\r\n  avgTimeOnPage: number;\r\n  bounceRate: number;\r\n  // Berknat\r\n  searchVsDirectRatio: number; // clicks / pageviews\r\n  engagementScore: number; // baserat p time + bounce\r\n}\r\n\r\nexport function combineGSCAndAnalytics(\r\n  gscData: {\r\n    clicks: number;\r\n    impressions: number;\r\n    ctr: number;\r\n    position: number;\r\n    topQueries?: Array<{ query: string; clicks: number }>;\r\n  },\r\n  analyticsData: AnalyticsData | null\r\n): Partial<CombinedPageData> {\r\n  const combined: Partial<CombinedPageData> = {\r\n    clicks: gscData.clicks,\r\n    impressions: gscData.impressions,\r\n    ctr: gscData.ctr,\r\n    position: gscData.position,\r\n    topQueries: gscData.topQueries?.slice(0, 5) || [],\r\n  };\r\n\r\n  if (analyticsData) {\r\n    combined.pageviews = analyticsData.pageviews;\r\n    combined.avgTimeOnPage = analyticsData.avgTimeOnPage;\r\n    combined.bounceRate = analyticsData.bounceRate;\r\n\r\n    // Berkna metrics\r\n    combined.searchVsDirectRatio =\r\n      analyticsData.pageviews > 0 ? gscData.clicks / analyticsData.pageviews : 0;\r\n\r\n    // Engagement score: hg tid + lg bounce = bra\r\n    const timeScore = Math.min(analyticsData.avgTimeOnPage / 180, 1); // Max 3 min\r\n    const bounceScore = 1 - analyticsData.bounceRate / 100;\r\n    combined.engagementScore = (timeScore + bounceScore) / 2;\r\n  }\r\n\r\n  return combined;\r\n}\r\n","// Content Optimizer - AI-driven text suggestions\n// Genererar konkreta textfrslag fr bttre SEO\n\nimport * as cheerio from 'cheerio';\nimport type { SectionType, ImpactLevel } from '../db/types';\n\n// ============================================================================\n// TYPES\n// ============================================================================\n\nexport interface TextSuggestion {\n  section_type: SectionType;\n  section_identifier: string | null;\n  original_text: string | null;\n  suggested_text: string;\n  keywords: string[];\n  keyword_density: Record<string, number>;\n  reason: string;\n  impact: ImpactLevel;\n  seo_score_impact: number;\n  readability_score: number;\n}\n\nexport interface KeywordAnalysis {\n  keyword: string;\n  current_count: number;\n  suggested_count: number;\n  density: number;\n  target_density: number;\n  relevance_score: number;\n  status: 'suggested' | 'optimized' | 'over_used' | 'under_used';\n}\n\nexport interface ContentAnalysisResult {\n  url: string;\n  heading_structure: any;\n  paragraph_count: number;\n  word_count: number;\n  char_count: number;\n  readability_score: number;\n  avg_sentence_length: number;\n  avg_word_length: number;\n  top_keywords: Record<string, number>;\n  keyword_density: Record<string, number>;\n  missing_keywords: string[];\n  sentiment_score: number;\n  tone: string;\n  content_score: number;\n  improvement_areas: string[];\n}\n\n// ============================================================================\n// KEYWORD EXTRACTION & ANALYSIS\n// ============================================================================\n\n// Stop words (vanliga ord att filtrera bort)\nconst STOP_WORDS = new Set([\n  'och', 'i', 'att', 'det', 'som', 'en', 'p', 'r', 'fr', 'med',\n  'till', 'av', 'om', 's', 'den', 'men', 'ett', 'har', 'de', 'var',\n  'vad', 'kan', 'vi', 'inte', 'frn', 'ska', 'eller', 'nr', 'han',\n  'the', 'be', 'to', 'of', 'and', 'a', 'in', 'that', 'have', 'i',\n  'it', 'for', 'not', 'on', 'with', 'he', 'as', 'you', 'do', 'at',\n  'this', 'but', 'his', 'by', 'from', 'they', 'we', 'say', 'her', 'she'\n]);\n\n/**\n * Extraherar nyckelord frn text\n */\nexport function extractKeywords(text: string, topN: number = 10): Record<string, number> {\n  const words = text.toLowerCase()\n    .replace(/[^\\w\\s-]/g, ' ')\n    .split(/\\s+/)\n    .filter(word => word.length > 3 && !STOP_WORDS.has(word));\n\n  const frequency: Record<string, number> = {};\n  words.forEach(word => {\n    frequency[word] = (frequency[word] || 0) + 1;\n  });\n\n  // Sortera och ta top N\n  const sorted = Object.entries(frequency)\n    .sort(([, a], [, b]) => b - a)\n    .slice(0, topN);\n\n  return Object.fromEntries(sorted);\n}\n\n/**\n * Berknar keyword density\n */\nexport function calculateKeywordDensity(text: string, keywords: string[]): Record<string, number> {\n  const words = text.toLowerCase().split(/\\s+/).filter(w => w.length > 0);\n  const totalWords = words.length;\n\n  const density: Record<string, number> = {};\n  keywords.forEach(keyword => {\n    const count = words.filter(w => w.includes(keyword.toLowerCase())).length;\n    density[keyword] = totalWords > 0 ? (count / totalWords) * 100 : 0;\n  });\n\n  return density;\n}\n\n/**\n * Analyserar nyckelord och ger rekommendationer\n */\nexport function analyzeKeywords(text: string, targetKeywords: string[] = []): KeywordAnalysis[] {\n  const extractedKeywords = extractKeywords(text, 15);\n  const words = text.split(/\\s+/).filter(w => w.length > 0);\n  const totalWords = words.length;\n\n  const results: KeywordAnalysis[] = [];\n\n  // Analysera target keywords\n  targetKeywords.forEach(keyword => {\n    const currentCount = (extractedKeywords[keyword.toLowerCase()] || 0);\n    const density = totalWords > 0 ? (currentCount / totalWords) * 100 : 0;\n\n    // Target density: 0.5-2.5% r optimalt\n    let targetDensity = 1.5;\n    let suggestedCount = Math.round(totalWords * (targetDensity / 100));\n    let status: KeywordAnalysis['status'] = 'suggested';\n\n    if (density >= 0.5 && density <= 2.5) {\n      status = 'optimized';\n    } else if (density > 2.5) {\n      status = 'over_used';\n      suggestedCount = Math.round(totalWords * 0.02); // Max 2%\n    } else {\n      status = 'under_used';\n    }\n\n    results.push({\n      keyword,\n      current_count: currentCount,\n      suggested_count: suggestedCount,\n      density,\n      target_density: targetDensity,\n      relevance_score: 85, // Detta kan frbttras med AI\n      status\n    });\n  });\n\n  return results;\n}\n\n// ============================================================================\n// READABILITY ANALYSIS\n// ============================================================================\n\n/**\n * Berknar Flesch Reading Ease score (anpassad fr svenska)\n */\nexport function calculateReadability(text: string): number {\n  const sentences = text.split(/[.!?]+/).filter(s => s.trim().length > 0);\n  const words = text.split(/\\s+/).filter(w => w.length > 0);\n  const syllables = words.reduce((sum, word) => sum + countSyllables(word), 0);\n\n  if (sentences.length === 0 || words.length === 0) return 0;\n\n  const avgWordsPerSentence = words.length / sentences.length;\n  const avgSyllablesPerWord = syllables / words.length;\n\n  // Flesch Reading Ease formula (anpassad)\n  const score = 206.835 - (1.015 * avgWordsPerSentence) - (84.6 * avgSyllablesPerWord);\n\n  return Math.max(0, Math.min(100, score));\n}\n\n/**\n * Rknar stavelser i ord (approximation)\n */\nfunction countSyllables(word: string): number {\n  word = word.toLowerCase();\n  if (word.length <= 3) return 1;\n\n  const vowels = /[aeiouy]/g;\n  const matches = word.match(vowels);\n  return matches ? matches.length : 1;\n}\n\n/**\n * Fr lsbarhetsniv som text\n */\nexport function getReadabilityLevel(score: number): string {\n  if (score >= 90) return 'Mycket ltt';\n  if (score >= 80) return 'Ltt';\n  if (score >= 70) return 'Ganska ltt';\n  if (score >= 60) return 'Standard';\n  if (score >= 50) return 'Ganska svr';\n  if (score >= 30) return 'Svr';\n  return 'Mycket svr';\n}\n\n// ============================================================================\n// TEXT SUGGESTIONS GENERATOR\n// ============================================================================\n\n/**\n * Genererar frbttrat title-frslag\n */\nexport function generateTitleSuggestion(\n  originalTitle: string | null,\n  url: string,\n  keywords: string[]\n): TextSuggestion | null {\n  const title = originalTitle || '';\n  const length = title.length;\n\n  // Optimalt: 50-60 tecken\n  if (length >= 50 && length <= 60 && keywords.some(k => title.toLowerCase().includes(k.toLowerCase()))) {\n    return null; // Title r redan bra\n  }\n\n  let suggestedTitle = title;\n  let reason = '';\n  let impact: ImpactLevel = 'medium';\n  let scoreImpact = 5;\n\n  if (length === 0) {\n    // Skapa ny title frn URL och keywords\n    const pageName = url.split('/').pop()?.replace(/[-_]/g, ' ') || 'Hem';\n    suggestedTitle = `${keywords[0] || pageName} | Professional Services`;\n    reason = 'Title saknas helt. Skapad baserat p URL och keywords.';\n    impact = 'high';\n    scoreImpact = 20;\n  } else if (length < 50) {\n    // Fr kort - lgg till keywords\n    const missingKeyword = keywords.find(k => !title.toLowerCase().includes(k.toLowerCase()));\n    if (missingKeyword) {\n      suggestedTitle = `${title} - ${missingKeyword}`;\n    }\n    reason = `Title r fr kort (${length} tecken). Optimalt r 50-60 tecken.`;\n    impact = 'medium';\n    scoreImpact = 10;\n  } else if (length > 60) {\n    // Fr lng - korta ner\n    suggestedTitle = title.substring(0, 57) + '...';\n    reason = `Title r fr lng (${length} tecken). Trunkerad till 60 tecken.`;\n    impact = 'medium';\n    scoreImpact = 8;\n  } else {\n    // Rtt lngd men saknar keywords\n    const missingKeyword = keywords.find(k => !title.toLowerCase().includes(k.toLowerCase()));\n    if (missingKeyword) {\n      suggestedTitle = `${missingKeyword} | ${title}`.substring(0, 60);\n      reason = 'Title saknar huvudnyckelord. Lagt till fr bttre ranking.';\n      impact = 'high';\n      scoreImpact = 15;\n    } else {\n      return null;\n    }\n  }\n\n  return {\n    section_type: 'title',\n    section_identifier: 'title',\n    original_text: title,\n    suggested_text: suggestedTitle,\n    keywords: keywords.filter(k => suggestedTitle.toLowerCase().includes(k.toLowerCase())),\n    keyword_density: calculateKeywordDensity(suggestedTitle, keywords),\n    reason,\n    impact,\n    seo_score_impact: scoreImpact,\n    readability_score: 100 // Titles r enkla\n  };\n}\n\n/**\n * Genererar frbttrat meta description-frslag\n */\nexport function generateMetaDescriptionSuggestion(\n  originalDesc: string | null,\n  pageContent: string,\n  keywords: string[]\n): TextSuggestion | null {\n  const desc = originalDesc || '';\n  const length = desc.length;\n\n  // Optimalt: 140-160 tecken med CTA\n  if (length >= 140 && length <= 160 &&\n      keywords.some(k => desc.toLowerCase().includes(k.toLowerCase())) &&\n      /ls mer|kontakta|upptck|ls|se|besk|kp/i.test(desc)) {\n    return null; // Redan bra\n  }\n\n  let suggestedDesc = desc;\n  let reason = '';\n  let impact: ImpactLevel = 'medium';\n  let scoreImpact = 5;\n\n  if (length === 0) {\n    // Skapa frn sidinnehll\n    const firstParagraph = pageContent.split('.')[0] || '';\n    const keywordPhrase = keywords.slice(0, 2).join(' och ');\n    suggestedDesc = `Upptck ${keywordPhrase}. ${firstParagraph.substring(0, 100)}... Ls mer hr!`;\n    suggestedDesc = suggestedDesc.substring(0, 160);\n    reason = 'Meta description saknas. Skapad frn sidinnehll med keywords och CTA.';\n    impact = 'high';\n    scoreImpact = 20;\n  } else if (length < 140) {\n    // Fr kort - utka med keywords och CTA\n    const missingKeywords = keywords.filter(k => !desc.toLowerCase().includes(k.toLowerCase()));\n    if (missingKeywords.length > 0) {\n      suggestedDesc = `${desc} Inkluderar ${missingKeywords[0]}. Ls mer!`;\n    } else {\n      suggestedDesc = `${desc} Ls mer hr!`;\n    }\n    suggestedDesc = suggestedDesc.substring(0, 160);\n    reason = `Meta description r fr kort (${length} tecken). Utkad till 140-160 tecken med CTA.`;\n    impact = 'medium';\n    scoreImpact = 12;\n  } else if (length > 160) {\n    // Fr lng - korta ner men behll keywords\n    const keywordPart = keywords.find(k => desc.toLowerCase().includes(k.toLowerCase())) || '';\n    suggestedDesc = desc.substring(0, 145) + '... Ls mer!';\n    reason = `Meta description r fr lng (${length} tecken). Kortad till 160 tecken.`;\n    impact = 'medium';\n    scoreImpact = 8;\n  } else {\n    // Rtt lngd men saknar CTA eller keywords\n    if (!/ls mer|kontakta|upptck|ls|se|besk|kp/i.test(desc)) {\n      suggestedDesc = desc.substring(0, 145) + ' Ls mer!';\n      reason = 'Lagt till call-to-action fr bttre CTR.';\n      impact = 'low';\n      scoreImpact = 5;\n    }\n  }\n\n  return {\n    section_type: 'meta_description',\n    section_identifier: 'meta[name=\"description\"]',\n    original_text: desc,\n    suggested_text: suggestedDesc,\n    keywords: keywords.filter(k => suggestedDesc.toLowerCase().includes(k.toLowerCase())),\n    keyword_density: calculateKeywordDensity(suggestedDesc, keywords),\n    reason,\n    impact,\n    seo_score_impact: scoreImpact,\n    readability_score: calculateReadability(suggestedDesc)\n  };\n}\n\n/**\n * Genererar frbttringsfrslag fr rubriker (H1-H4)\n */\nexport function generateHeadingSuggestion(\n  headingLevel: 'h1' | 'h2' | 'h3' | 'h4',\n  originalText: string,\n  keywords: string[],\n  index: number\n): TextSuggestion | null {\n  const text = originalText.trim();\n\n  // H1 r mest viktig\n  if (headingLevel === 'h1') {\n    // H1 borde innehlla huvudnyckelord\n    if (!keywords.some(k => text.toLowerCase().includes(k.toLowerCase()))) {\n      const suggestedText = `${keywords[0]}: ${text}`;\n      return {\n        section_type: 'h1',\n        section_identifier: `h1:nth-of-type(${index + 1})`,\n        original_text: text,\n        suggested_text: suggestedText,\n        keywords: [keywords[0]],\n        keyword_density: calculateKeywordDensity(suggestedText, keywords),\n        reason: 'H1 saknar huvudnyckelord. Detta r kritiskt fr SEO.',\n        impact: 'high',\n        seo_score_impact: 15,\n        readability_score: calculateReadability(suggestedText)\n      };\n    }\n  }\n\n  // H2-H4: Kolla lngd och keywords\n  if (text.length < 20) {\n    const relevantKeyword = keywords.find(k => !text.toLowerCase().includes(k.toLowerCase()));\n    if (relevantKeyword) {\n      return {\n        section_type: headingLevel,\n        section_identifier: `${headingLevel}:nth-of-type(${index + 1})`,\n        original_text: text,\n        suggested_text: `${text} - ${relevantKeyword}`,\n        keywords: [relevantKeyword],\n        keyword_density: calculateKeywordDensity(`${text} - ${relevantKeyword}`, keywords),\n        reason: `${headingLevel.toUpperCase()} r fr kort. Lagt till nyckelord fr kontext.`,\n        impact: 'low',\n        seo_score_impact: 3,\n        readability_score: 90\n      };\n    }\n  }\n\n  return null;\n}\n\n// ============================================================================\n// FULL CONTENT ANALYSIS\n// ============================================================================\n\n/**\n * Analyserar fullstndigt sidinnehll\n */\nexport async function analyzePageContent(html: string, url: string): Promise<ContentAnalysisResult> {\n  const $ = cheerio.load(html);\n\n  // Ta bort script och style\n  $('script, style, noscript').remove();\n\n  const bodyText = $('body').text().trim();\n  const words = bodyText.split(/\\s+/).filter(w => w.length > 0);\n  const sentences = bodyText.split(/[.!?]+/).filter(s => s.trim().length > 0);\n\n  // Heading struktur\n  const headingStructure: any[] = [];\n  $('h1, h2, h3, h4, h5, h6').each((i, elem) => {\n    headingStructure.push({\n      level: elem.tagName,\n      text: $(elem).text().trim(),\n      index: i\n    });\n  });\n\n  // Paragraphs\n  const paragraphCount = $('p').length;\n\n  // Keywords\n  const topKeywords = extractKeywords(bodyText, 20);\n  const keywordDensity = calculateKeywordDensity(bodyText, Object.keys(topKeywords).slice(0, 10));\n\n  // Readability\n  const readabilityScore = calculateReadability(bodyText);\n  const avgSentenceLength = words.length / Math.max(sentences.length, 1);\n  const avgWordLength = words.reduce((sum, w) => sum + w.length, 0) / Math.max(words.length, 1);\n\n  // Content score (0-100)\n  let contentScore = 70; // Base score\n\n  // Deduct fr problem\n  if (words.length < 300) contentScore -= 20; // Fr lite innehll\n  if (headingStructure.length === 0) contentScore -= 15; // Inga rubriker\n  if (paragraphCount < 3) contentScore -= 10; // Fr f paragrafer\n  if (readabilityScore < 50) contentScore -= 10; // Svrlst\n\n  // Frbttringsomrden\n  const improvementAreas: string[] = [];\n  if (words.length < 300) improvementAreas.push('Lgg till mer innehll (minst 300 ord)');\n  if (headingStructure.length === 0) improvementAreas.push('Lgg till rubriker (H1-H4)');\n  if (paragraphCount < 3) improvementAreas.push('Dela upp text i fler paragrafer');\n  if (readabilityScore < 50) improvementAreas.push('Frenkla sprket fr bttre lsbarhet');\n  if (avgSentenceLength > 25) improvementAreas.push('Korta ner meningarna');\n\n  return {\n    url,\n    heading_structure: headingStructure,\n    paragraph_count: paragraphCount,\n    word_count: words.length,\n    char_count: bodyText.length,\n    readability_score: readabilityScore,\n    avg_sentence_length: avgSentenceLength,\n    avg_word_length: avgWordLength,\n    top_keywords: topKeywords,\n    keyword_density: keywordDensity,\n    missing_keywords: [], // Detta kan frbttras med konkurrenssanalys\n    sentiment_score: 0.5, // Neutral - kan frbttras med sentiment analysis\n    tone: avgWordLength > 6 ? 'professional' : 'casual',\n    content_score: Math.max(0, Math.min(100, contentScore)),\n    improvement_areas: improvementAreas\n  };\n}\n\n/**\n * Genererar alla textfrslag fr en sida\n */\nexport async function generateAllSuggestions(\n  html: string,\n  url: string,\n  targetKeywords: string[] = []\n): Promise<TextSuggestion[]> {\n  const $ = cheerio.load(html);\n  const suggestions: TextSuggestion[] = [];\n\n  // Extrahera automatiska keywords om inga ges\n  const bodyText = $('body').text();\n  const keywords = targetKeywords.length > 0\n    ? targetKeywords\n    : Object.keys(extractKeywords(bodyText, 5));\n\n  // Title\n  const title = $('title').text();\n  const titleSuggestion = generateTitleSuggestion(title, url, keywords);\n  if (titleSuggestion) suggestions.push(titleSuggestion);\n\n  // Meta description\n  const metaDesc = $('meta[name=\"description\"]').attr('content') || null;\n  const descSuggestion = generateMetaDescriptionSuggestion(metaDesc, bodyText, keywords);\n  if (descSuggestion) suggestions.push(descSuggestion);\n\n  // H1 headings\n  $('h1').each((i, elem) => {\n    const h1Suggestion = generateHeadingSuggestion('h1', $(elem).text(), keywords, i);\n    if (h1Suggestion) suggestions.push(h1Suggestion);\n  });\n\n  // H2 headings (max 5)\n  $('h2').slice(0, 5).each((i, elem) => {\n    const h2Suggestion = generateHeadingSuggestion('h2', $(elem).text(), keywords, i);\n    if (h2Suggestion) suggestions.push(h2Suggestion);\n  });\n\n  // H3 headings (max 3)\n  $('h3').slice(0, 3).each((i, elem) => {\n    const h3Suggestion = generateHeadingSuggestion('h3', $(elem).text(), keywords, i);\n    if (h3Suggestion) suggestions.push(h3Suggestion);\n  });\n\n  return suggestions;\n}\n","import axios, { AxiosInstance } from 'axios';\n\nconst FETCHSERP_API_URL = 'https://www.fetchserp.com';\n\nexport interface FetchSERPConfig {\n  apiToken: string;\n}\n\nexport interface SERPParams {\n  q: string;\n  engine?: 'google' | 'bing' | 'yahoo' | 'duckduckgo';\n  gl?: string;\n  hl?: string;\n  num?: number;\n  page?: number;\n}\n\nexport interface KeywordVolumeParams {\n  keywords: string[];\n  country?: string;\n  language?: string;\n}\n\nexport interface BacklinksParams {\n  domain: string;\n  limit?: number;\n}\n\nexport interface DomainInfoParams {\n  domain: string;\n}\n\nexport interface ScrapeParams {\n  url: string;\n  headers?: Record<string, string>;\n}\n\nexport interface ScrapeJSParams {\n  url: string;\n  js_code: string;\n  headers?: Record<string, string>;\n}\n\nexport interface SEOAnalysisParams {\n  url: string;\n  keywords?: string[];\n}\n\nexport interface AIAnalysisParams {\n  url: string;\n  prompt: string;\n}\n\nexport interface RankingParams {\n  domain: string;\n  keyword: string;\n  engine?: string;\n  gl?: string;\n}\n\nexport interface PageIndexationParams {\n  url: string;\n  engine?: string;\n}\n\nexport class FetchSERPClient {\n  private client: AxiosInstance;\n\n  constructor(config: FetchSERPConfig) {\n    this.client = axios.create({\n      baseURL: FETCHSERP_API_URL,\n      headers: {\n        'Authorization': `Bearer ${config.apiToken}`,\n        'Content-Type': 'application/json',\n      },\n    });\n  }\n\n  // ==================== SERP Endpoints ====================\n\n  /**\n   * Get structured SERP results\n   */\n  async getSERP(params: SERPParams) {\n    const response = await this.client.get('/api/v1/serp', { params });\n    return response.data;\n  }\n\n  /**\n   * Get SERP results with full HTML\n   */\n  async getSERPHTML(params: SERPParams) {\n    const response = await this.client.get('/api/v1/serp_html', { params });\n    return response.data;\n  }\n\n  /**\n   * Get SERP results with extracted text\n   */\n  async getSERPText(params: SERPParams) {\n    const response = await this.client.get('/api/v1/serp_text', { params });\n    return response.data;\n  }\n\n  /**\n   * Get JavaScript-rendered SERP with AI Overview\n   */\n  async getSERPJS(params: SERPParams) {\n    const response = await this.client.get('/api/v1/serp_js', { params });\n    return response.data;\n  }\n\n  /**\n   * Get AI Overview and AI Mode results\n   */\n  async getSERPAI(params: SERPParams) {\n    const response = await this.client.get('/api/v1/serp_ai', { params });\n    return response.data;\n  }\n\n  /**\n   * Get cached US-only AI Mode results\n   */\n  async getSERPAIMode(params: SERPParams) {\n    const response = await this.client.get('/api/v1/serp_ai_mode', { params });\n    return response.data;\n  }\n\n  // ==================== Keyword Research Endpoints ====================\n\n  /**\n   * Get monthly search volume and competition metrics\n   */\n  async getKeywordsSearchVolume(params: KeywordVolumeParams) {\n    const response = await this.client.post('/api/v1/keywords_search_volume', params);\n    return response.data;\n  }\n\n  /**\n   * Get keyword suggestions with metrics\n   */\n  async getKeywordsSuggestions(params: { keyword: string; country?: string; language?: string }) {\n    const response = await this.client.get('/api/v1/keywords_suggestions', { params });\n    return response.data;\n  }\n\n  /**\n   * Generate long-tail keyword variations\n   */\n  async getLongTailKeywords(params: { keyword: string; country?: string; language?: string }) {\n    const response = await this.client.get('/api/v1/long_tail_keywords_generator', { params });\n    return response.data;\n  }\n\n  // ==================== Domain Analysis Endpoints ====================\n\n  /**\n   * Get domain ranking for specific keywords\n   */\n  async getDomainRanking(params: RankingParams) {\n    const response = await this.client.get('/api/v1/ranking', { params });\n    return response.data;\n  }\n\n  /**\n   * Get backlink data for a domain\n   */\n  async getBacklinks(params: BacklinksParams) {\n    const response = await this.client.get('/api/v1/backlinks', { params });\n    return response.data;\n  }\n\n  /**\n   * Get DNS, WHOIS, and tech stack information\n   */\n  async getDomainInfo(params: DomainInfoParams) {\n    const response = await this.client.get('/api/v1/domain_infos', { params });\n    return response.data;\n  }\n\n  /**\n   * Extract emails from SERP results\n   */\n  async getDomainEmails(params: { query: string; engine?: string }) {\n    const response = await this.client.get('/api/v1/domain_emails', { params });\n    return response.data;\n  }\n\n  /**\n   * Get Moz domain authority metrics\n   */\n  async getMozMetrics(params: { domain: string }) {\n    const response = await this.client.get('/api/v1/moz', { params });\n    return response.data;\n  }\n\n  /**\n   * Check page indexation status\n   */\n  async getPageIndexation(params: PageIndexationParams) {\n    const response = await this.client.get('/api/v1/page_indexation', { params });\n    return response.data;\n  }\n\n  // ==================== Web Scraping Endpoints ====================\n\n  /**\n   * Get raw HTML without JavaScript\n   */\n  async scrape(params: ScrapeParams) {\n    const response = await this.client.post('/api/v1/scrape', params);\n    return response.data;\n  }\n\n  /**\n   * Custom JavaScript extraction\n   */\n  async scrapeJS(params: ScrapeJSParams) {\n    const response = await this.client.post('/api/v1/scrape_js', params);\n    return response.data;\n  }\n\n  /**\n   * JS extraction through proxy\n   */\n  async scrapeJSWithProxy(params: ScrapeJSParams) {\n    const response = await this.client.post('/api/v1/scrape_js_with_proxy', params);\n    return response.data;\n  }\n\n  /**\n   * Crawl entire domain\n   */\n  async scrapeDomain(params: { domain: string; max_pages?: number }) {\n    const response = await this.client.post('/api/v1/scrape_domain', params);\n    return response.data;\n  }\n\n  // ==================== Analysis Endpoints ====================\n\n  /**\n   * Technical & on-page SEO audit\n   */\n  async analyzeSEO(params: SEOAnalysisParams) {\n    const response = await this.client.post('/api/v1/web_page_seo_analysis', params);\n    return response.data;\n  }\n\n  /**\n   * AI-powered content analysis\n   */\n  async analyzeWithAI(params: AIAnalysisParams) {\n    const response = await this.client.post('/api/v1/web_page_ai_analysis', params);\n    return response.data;\n  }\n\n  // ==================== User Endpoints ====================\n\n  /**\n   * Get current user information\n   */\n  async getUser() {\n    const response = await this.client.get('/api/v1/user');\n    return response.data;\n  }\n}\n\n// Export singleton instance\nlet fetchSERPClient: FetchSERPClient | null = null;\n\nexport function getFetchSERPClient(): FetchSERPClient {\n  if (!fetchSERPClient) {\n    const apiToken = process.env.FETCHSERP_API_TOKEN;\n    if (!apiToken) {\n      throw new Error('FETCHSERP_API_TOKEN is not defined in environment variables');\n    }\n    fetchSERPClient = new FetchSERPClient({ apiToken });\n  }\n  return fetchSERPClient;\n}\n"]}